<main>
  <h1>TPOP Battle simulator {{ version }}</h1>
  <mat-grid-list cols="2" rowHeight="2:1">
    <mat-grid-tile>
      <mat-card class="maxwidth">
        <h2>Soldiers</h2>
        <mat-slider showTickMarks discrete min="0" max="20" step="1">
          <mat-label>You</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownSoldiers" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="20" step="1">
          <mat-label>Opponent</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemySoldiers" (valueChange)="calculateProbability()"/>
        </mat-slider>
        <h2>Cavalry</h2>
        <mat-slider showTickMarks discrete min="0" max="10" step="1">
          <mat-label>You</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownCavalry" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="10" step="1">
          <mat-label>Opponent</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemyCavalry" (valueChange)="calculateProbability()"/>
        </mat-slider>
        <h2>Artillery</h2>
        <mat-slider showTickMarks discrete min="0" max="10" step="1">
          <mat-label>You</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownArtillery" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="10" step="1">
          <mat-label>Opponent</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemyArtillery" (valueChange)="calculateProbability()"/>
        </mat-slider>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-card class="maxwidth">
        <h2>Tech</h2>
        <mat-checkbox [(ngModel)]="config.ownInfantryHitBonus">
          Own Tercios / Line Infantry
        </mat-checkbox>
        <mat-checkbox [(ngModel)]="config.enemyInfantryHitBonus">
          Opponent Tercios / Line Infantry
        </mat-checkbox>
        <h2>Dice</h2>
        <mat-slider showTickMarks discrete min="0" max="9" step="1">
          <mat-label>Your Infrantry Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownDice" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="6" step="1">
          <mat-label>Your Cavalry Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownCavalryDice" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="6" step="1">
          <mat-label>Your Artillery Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.ownArtilleryDice" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="9" step="1">
          <mat-label>Opponent Infantry Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemyDice" (valueChange)="calculateProbability()"/>
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="6" step="1">
          <mat-label>Opponent Cavalry Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemyCavalryDice" (valueChange)="calculateProbability()">
        </mat-slider>
        <mat-slider showTickMarks discrete min="0" max="6" step="1">
          <mat-label>Opponent Artillery Dice</mat-label>
          <input matSliderThumb [(ngModel)]="config.enemyArtilleryDice" (valueChange)="calculateProbability()">
        </mat-slider>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile colspan="2"><p>Win probability {{ Math.round(result.getWinProbability() * 1000) / 10 }}
      % </p>
      <div id="battle-prob-chart"></div>
    </mat-grid-tile>
  </mat-grid-list>


</main>

<router-outlet/>
