import{$ as ui,$a as pn,A as mo,Aa as rt,Ab as mv,B as jb,Ba as nv,Bb as Nt,C as al,Ca as bo,Cb as gl,D as zi,Da as yr,Db as pv,E as xh,Ea as _r,Eb as gv,F as Bb,Fa as iv,Fb as bv,G as Hb,Ga as rv,Gb as Oh,H as qb,Ha as xr,Hb as vv,I as Bn,Ia as Yt,J as Wb,Ja as Tn,K as kt,Ka as ov,L as Be,La as Xt,M as pr,Ma as Ha,N as me,Na as wr,O as Wt,Oa as av,P as Gb,Pa as sv,Q as he,Qa as cv,R as wh,Ra as X,S as Ee,Sa as G,T as ee,Ta as Xe,U as za,Ua as Eh,V as ht,Va as dl,W as Gt,Wa as we,X as nt,Xa as Bi,Y as ja,Ya as hn,Z as Yb,Za as mn,_ as sl,_a as Cr,a as v,aa as po,ab as mt,b as D,ba as gr,bb as pt,c as U,ca as br,cb as Th,d as Fb,da as Xb,db as Ce,e as Lb,ea as Zb,eb as Ah,f as Pb,fa as go,fb as fl,g as gh,ga as cl,gb as gt,h as bh,ha as Ch,hb as bt,i as En,ia as Mh,ib as vt,j as dn,ja as Ge,jb as jt,k as Ui,ka as Kb,kb as yt,l as qt,la as Ye,lb as hl,m as ce,ma as Qb,mb as ml,n as $a,na as Sh,nb as lv,o as Vb,oa as Jb,ob as Dh,p as $b,pa as vr,pb as Rh,q as xe,qa as ji,qb as uv,r as vh,ra as kh,rb as Zt,s as fn,sa as Ba,sb as dv,t as Ub,ta as pe,tb as fv,u as yh,ua as J,ub as It,v as zb,va as Ih,vb as An,w as fo,wa as ev,wb as pl,x as ho,xa as ll,xb as Mr,y as Ua,ya as ul,yb as vo,z as _h,za as tv,zb as hv}from"./chunk-WWRQ4RGV.js";var Lh=class extends mv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ph=class e extends Lh{static makeCurrent(){hv(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=fk();return n==null?null:hk(n)}resetBaseElement(){qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pv(document.cookie,t)}},qa=null;function fk(){return qa=qa||document.querySelector("base"),qa?qa.getAttribute("href"):null}function hk(e){return new URL(e,document.baseURI).pathname}var mk=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),bl=new he(""),xv=(()=>{let t=class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new Be(5101,!1);return this._eventNameToPlugin.set(i,r),r}};t.\u0275fac=function(r){return new(r||t)(Ee(bl),Ee(rt))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),Wa=class{constructor(t){this._doc=t}},Nh="ng-app-id",wv=(()=>{let t=class t{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oh(a),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Nh}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(Nh),a;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Nh,this.appId),i.appendChild(s),s}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(Ee(Nt),Ee(Sh),Ee(kh,8),Ee(vr))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),Fh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g,Cv="%COMP%",pk=`_nghost-${Cv}`,gk=`_ngcontent-${Cv}`,bk=!0,vk=new he("",{providedIn:"root",factory:()=>bk});function yk(e){return gk.replace(Uh,e)}function _k(e){return pk.replace(Uh,e)}function Mv(e,t){return t.map(n=>n.replace(Uh,e))}var vl=(()=>{let t=class t{constructor(i,r,o,a,s,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Oh(c),this.defaultRenderer=new Ga(i,s,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===za.ShadowDom&&(r=D(v({},r),{encapsulation:za.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof yl?o.applyToHost(i):o instanceof Ya&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let s=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case za.Emulated:a=new yl(l,u,r,this.appId,f,s,c,d);break;case za.ShadowDom:return new Vh(l,u,i,r,s,c,this.nonce,d);default:a=new Ya(l,u,r,f,s,c,d);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(Ee(xv),Ee(wv),Ee(Sh),Ee(vk),Ee(Nt),Ee(vr),Ee(rt),Ee(kh))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),Ga=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Fh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(yv(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(yv(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Be(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Fh[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Fh[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Ba.DashCase|Ba.Important)?t.style.setProperty(n,i,r&Ba.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Ba.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=vo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function yv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Vh=class extends Ga{constructor(t,n,i,r,o,a,s,c){super(t,o,a,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Mv(r.id,r.styles);for(let u of l){let f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ya=class extends Ga{constructor(t,n,i,r,o,a,s,c){super(t,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?Mv(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yl=class extends Ya{constructor(t,n,i,r,o,a,s,c){let l=r+"-"+i.id;super(t,n,i,o,a,s,c,l),this.contentAttr=yk(l),this.hostAttr=_k(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},xk=(()=>{let t=class t extends Wa{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(Ee(Nt))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),wk=(()=>{let t=class t extends Wa{constructor(i){super(i),this.delegate=ee(fv,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};t.\u0275fac=function(r){return new(r||t)(Ee(Nt))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),_v=["alt","control","meta","shift"],Ck={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Sk=(()=>{let t=class t extends Wa{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vo().onAndCancel(i,a.domEventName,s))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),_v.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=a,r.length!=0||a.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(i,r){let o=Ck[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),_v.forEach(s=>{if(s!==o){let c=Mk[s];c(i)&&(a+=s+".")}}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{t.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(r){return new(r||t)(Ee(Nt))},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})();function Sv(e,t){return dv(v({rootComponent:e},kk(t)))}function kk(e){return{appProviders:[...Dk,...e?.providers??[]],platformProviders:Ak}}function Ik(){Ph.makeCurrent()}function Ek(){return new Mh}function Tk(){return Qb(document),document}var Ak=[{provide:vr,useValue:gv},{provide:Jb,useValue:Ik,multi:!0},{provide:Nt,useFactory:Tk,deps:[]}];var Dk=[{provide:Yb,useValue:"root"},{provide:Mh,useFactory:Ek,deps:[]},{provide:bl,useClass:xk,multi:!0,deps:[Nt,rt,vr]},{provide:bl,useClass:Sk,multi:!0,deps:[Nt]},{provide:bl,useClass:wk,multi:!0},vl,wv,xv,{provide:ll,useExisting:vl},{provide:vv,useClass:mk,deps:[]},[]];var kv=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(r){return new(r||t)(Ee(Nt))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var le="primary",ds=Symbol("RouteTitle"),qh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Mo(e){return new qh(e)}function Ok(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],s=e[o];if(a[0]===":")r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Nk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Hn(e[n],t[n]))return!1;return!0}function Hn(e,t){let n=e?Wh(e):void 0,i=t?Wh(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Nv(e[r],t[r]))return!1;return!0}function Wh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Nv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function Fv(e){return e.length>0?e[e.length-1]:null}function Hi(e){return Vb(e)?e:ml(e)?qt(Promise.resolve(e)):ce(e)}var Fk={exact:Pv,subset:Vv},Lv={exact:Lk,subset:Pk,ignored:()=>!0};function Iv(e,t,n){return Fk[n.paths](e.root,t.root,n.matrixParams)&&Lv[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Lk(e,t){return Hn(e,t)}function Pv(e,t,n){if(!kr(e.segments,t.segments)||!wl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!Pv(e.children[i],t.children[i],n))return!1;return!0}function Pk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Nv(e[n],t[n]))}function Vv(e,t,n){return $v(e,t,t.segments,n)}function $v(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!kr(r,n)||t.hasChildren()||!wl(r,n,i))}else if(e.segments.length===n.length){if(!kr(e.segments,n)||!wl(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!Vv(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!kr(e.segments,r)||!wl(e.segments,r,i)||!e.children[le]?!1:$v(e.children[le],t,o,i)}}function wl(e,t,n){return t.every((i,r)=>Lv[n](e[r].parameters,i.parameters))}var fi=class{constructor(t=new ye([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){return Uk.serialize(this)}},ye=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cl(this)}},Sr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Mo(this.parameters),this._parameterMap}toString(){return zv(this)}};function Vk(e,t){return kr(e,t)&&e.every((n,i)=>Hn(n.parameters,t[i].parameters))}function kr(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function $k(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===le&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==le&&(n=n.concat(t(r,i)))}),n}var vm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:()=>new ts,providedIn:"root"});let e=t;return e})(),ts=class{parse(t){let n=new Yh(t);return new fi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Xa(t.root,!0)}`,i=Bk(t.queryParams),r=typeof t.fragment=="string"?`#${zk(t.fragment)}`:"";return`${n}${i}${r}`}},Uk=new ts;function Cl(e){return e.segments.map(t=>zv(t)).join("/")}function Xa(e,t){if(!e.hasChildren())return Cl(e);if(t){let n=e.children[le]?Xa(e.children[le],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==le&&i.push(`${r}:${Xa(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=$k(e,(i,r)=>r===le?[Xa(e.children[le],!1)]:[`${r}:${Xa(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[le]!=null?`${Cl(e)}/${n[0]}`:`${Cl(e)}/(${n.join("//")})`}}function Uv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _l(e){return Uv(e).replace(/%3B/gi,";")}function zk(e){return encodeURI(e)}function Gh(e){return Uv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(e){return decodeURIComponent(e)}function Ev(e){return Ml(e.replace(/\+/g,"%20"))}function zv(e){return`${Gh(e.path)}${jk(e.parameters)}`}function jk(e){return Object.entries(e).map(([t,n])=>`;${Gh(t)}=${Gh(n)}`).join("")}function Bk(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${_l(n)}=${_l(r)}`).join("&"):`${_l(n)}=${_l(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Hk=/^[^\/()?;#]+/;function zh(e){let t=e.match(Hk);return t?t[0]:""}var qk=/^[^\/()?;=#]+/;function Wk(e){let t=e.match(qk);return t?t[0]:""}var Gk=/^[^=?&#]+/;function Yk(e){let t=e.match(Gk);return t?t[0]:""}var Xk=/^[^&#]+/;function Zk(e){let t=e.match(Xk);return t?t[0]:""}var Yh=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[le]=new ye(t,n)),i}parseSegment(){let t=zh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(t),new Sr(Ml(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Wk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=zh(this.remaining);r&&(i=r,this.capture(i))}t[Ml(n)]=Ml(i)}parseQueryParam(t){let n=Yk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let a=Zk(this.remaining);a&&(i=a,this.capture(i))}let r=Ev(n),o=Ev(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=zh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=le);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[le]:new ye([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Be(4011,!1)}};function jv(e){return e.segments.length>0?new ye([],{[le]:e}):e}function Bv(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=Bv(r);if(i===le&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new ye(e.segments,t);return Kk(n)}function Kk(e){if(e.numberOfChildren===1&&e.children[le]){let t=e.children[le];return new ye(e.segments.concat(t.segments),t.children)}return e}function ns(e){return e instanceof fi}function Qk(e,t,n=null,i=null){let r=Hv(e);return qv(r,t,n,i)}function Hv(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new ye(o.url,a);return o===e&&(t=s),s}let i=n(e.root),r=jv(i);return t??r}function qv(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return jh(r,r,r,n,i);let o=Jk(t);if(o.toRoot())return jh(r,r,new ye([],{}),n,i);let a=e2(o,r,e),s=a.processChildren?Qa(a.segmentGroup,a.index,o.commands):Gv(a.segmentGroup,a.index,o.commands);return jh(r,a.segmentGroup,s,n,i)}function Sl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function is(e){return typeof e=="object"&&e!=null&&e.outlets}function jh(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let a;e===t?a=n:a=Wv(e,t,n);let s=jv(Bv(a));return new fi(s,o,r)}function Wv(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=Wv(o,t,n)}),new ye(e.segments,i)}var kl=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Sl(i[0]))throw new Be(4003,!1);let r=i.find(is);if(r&&r!==Fv(i))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Jk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new kl(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new kl(n,t,i)}var xo=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function e2(e,t,n){if(e.isAbsolute)return new xo(t,!0,0);if(!n)return new xo(t,!1,NaN);if(n.parent===null)return new xo(n,!0,0);let i=Sl(e.commands[0])?0:1,r=n.segments.length-1+i;return t2(n,r,e.numberOfDoubleDots)}function t2(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Be(4005,!1);r=i.segments.length}return new xo(i,!1,r-o)}function n2(e){return is(e[0])?e[0].outlets:{[le]:e}}function Gv(e,t,n){if(e??=new ye([],{}),e.segments.length===0&&e.hasChildren())return Qa(e,t,n);let i=i2(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ye(e.segments.slice(0,i.pathIndex),{});return o.children[le]=new ye(e.segments.slice(i.pathIndex),e.children),Qa(o,0,r)}else return i.match&&r.length===0?new ye(e.segments,{}):i.match&&!e.hasChildren()?Xh(e,t,n):i.match?Qa(e,0,r):Xh(e,t,n)}function Qa(e,t,n){if(n.length===0)return new ye(e.segments,{});{let i=n2(n),r={};if(Object.keys(i).some(o=>o!==le)&&e.children[le]&&e.numberOfChildren===1&&e.children[le].segments.length===0){let o=Qa(e.children[le],t,n);return new ye(e.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Gv(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new ye(e.segments,r)}}function i2(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let a=e.segments[r],s=n[i];if(is(s))break;let c=`${s}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Av(c,l,a))return o;i+=2}else{if(!Av(c,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Xh(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(is(o)){let c=r2(o.outlets);return new ye(i,c)}if(r===0&&Sl(n[0])){let c=e.segments[t];i.push(new Sr(c.path,Tv(n[0]))),r++;continue}let a=is(o)?o.outlets[le]:`${o}`,s=r<n.length-1?n[r+1]:null;a&&s&&Sl(s)?(i.push(new Sr(a,Tv(s))),r+=2):(i.push(new Sr(a,{})),r++)}return new ye(i,{})}function r2(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Xh(new ye([],{}),0,i))}),t}function Tv(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function Av(e,t,n){return e==n.path&&Hn(t,n.parameters)}var Ja="imperative",_t=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(_t||{}),gn=class{constructor(t,n){this.id=t,this.url=n}},rs=class extends gn{constructor(t,n,i="imperative",r=null){super(t,n),this.type=_t.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ir=class extends gn{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Jt||{}),Zh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Zh||{}),di=class extends gn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Er=class extends gn{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=_t.NavigationSkipped}},os=class extends gn{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Il=class extends gn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends gn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends gn{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jh=class extends gn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},em=class extends gn{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class{constructor(t){this.route=t,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nm=class{constructor(t){this.route=t,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},im=class{constructor(t){this.snapshot=t,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rm=class{constructor(t){this.snapshot=t,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},om=class{constructor(t){this.snapshot=t,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},am=class{constructor(t){this.snapshot=t,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var as=class{},So=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function o2(e,t){return e.providers&&!e._injector&&(e._injector=rv(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Dn(e){return e.outlet||le}function a2(e,t){let n=e.filter(i=>Dn(i)===t);return n.push(...e.filter(i=>Dn(i)!==t)),n}function fs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sm=class{get injector(){return fs(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Nl(this.rootInjector),this.attachRef=null}},Nl=(()=>{let t=class t{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new sm(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(r){return new(r||t)(Ee(sl))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),El=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=cm(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=cm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=lm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return lm(t,this._root).map(n=>n.value)}};function cm(e,t){if(e===t.value)return t;for(let n of t.children){let i=cm(e,n);if(i)return i}return null}function lm(e,t){if(e===t.value)return[t];for(let n of t.children){let i=lm(e,n);if(i.length)return i.unshift(t),i}return[]}var Qt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Tl=class extends El{constructor(t,n){super(t),this.snapshot=n,ym(this,t)}toString(){return this.snapshot.toString()}};function Yv(e){let t=s2(e),n=new dn([new Sr("",{})]),i=new dn({}),r=new dn({}),o=new dn({}),a=new dn(""),s=new ko(n,i,o,a,r,le,e,t.root);return s.snapshot=t.root,new Tl(new Qt(s,[]),t)}function s2(e){let t={},n={},i={},r="",o=new wo([],t,i,r,n,le,e,null,{});return new Dl("",new Qt(o,[]))}var ko=class{constructor(t,n,i,r,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(l=>l[ds]))??ce(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(t=>Mo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(t=>Mo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Al(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),r?.data),e._resolvedData)}:i={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},r&&Zv(r)&&(i.resolve[ds]=r.title),i}var wo=class{get title(){return this.data?.[ds]}constructor(t,n,i,r,o,a,s,c,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Dl=class extends El{constructor(t,n){super(n),this.url=t,ym(this,n)}toString(){return Xv(this._root)}};function ym(e,t){t.value._routerState=e,t.children.forEach(n=>ym(e,n))}function Xv(e){let t=e.children.length>0?` { ${e.children.map(Xv).join(", ")} } `:"";return`${e.value}${t}`}function Bh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Hn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Hn(t.params,n.params)||e.paramsSubject.next(n.params),Nk(t.url,n.url)||e.urlSubject.next(n.url),Hn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function um(e,t){let n=Hn(e.params,t.params)&&Vk(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||um(e.parent,t.parent))}function Zv(e){return typeof e.title=="string"||e.title===null}var _m=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=ee(Nl),this.location=ee(nv),this.changeDetector=ee(Zt),this.inputBinder=ee(xm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=i;let o=this.location,s=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new dm(i,c,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=nt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[po]});let e=t;return e})(),dm=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===ko?this.route:t===Nl?this.childContexts:this.parent.get(t,n)}},xm=new he("");function c2(e,t,n){let i=ss(e,t._root,n?n._root:void 0);return new Tl(i,t)}function ss(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=l2(e,t,n);return new Qt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>ss(e,s)),a}}let i=u2(t.value),r=t.children.map(o=>ss(e,o));return new Qt(i,r)}}function l2(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return ss(e,i,r);return ss(e,i)})}function u2(e){return new ko(new dn(e.url),new dn(e.params),new dn(e.queryParams),new dn(e.fragment),new dn(e.data),e.outlet,e.component,e)}var cs=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Kv="ngNavigationCancelingError";function Rl(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ns(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Qv(!1,Jt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Qv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Kv]=!0,n.cancellationCode=t,n}function d2(e){return Jv(e)&&ns(e.url)}function Jv(e){return!!e&&e[Kv]}var f2=(e,t,n,i)=>xe(r=>(new fm(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),fm=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Bh(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=_o(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=_o(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=_o(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=_o(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new am(o.value.snapshot))}),t.children.length&&this.forwardEvent(new rm(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Bh(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Bh(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},Ol=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Co=class{constructor(t,n){this.component=t,this.route=n}};function h2(e,t,n){let i=e._root,r=t?t._root:null;return Za(i,r,n,[i.value])}function m2(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Eo(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Gb(e)?e:t.get(e):i}function Za(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(t);return e.children.forEach(a=>{p2(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>es(s,n.getContext(a),r)),r}function p2(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=g2(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ol(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Za(e,t,s?s.children:null,i,r):Za(e,t,n,i,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Co(s.outlet.component,a))}else a&&es(t,s,r),r.canActivateChecks.push(new Ol(i)),o.component?Za(e,null,s?s.children:null,i,r):Za(e,null,n,i,r);return r}function g2(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!kr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!kr(e.url,t.url)||!Hn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(e,t)||!Hn(e.queryParams,t.queryParams);case"paramsChange":default:return!um(e,t)}}function es(e,t,n){let i=_o(e),r=e.value;Object.entries(i).forEach(([o,a])=>{r.component?t?es(a,t.children.getContext(o),n):es(a,null,n):es(a,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Co(t.outlet.component,r)):n.canDeactivateChecks.push(new Co(null,r)):n.canDeactivateChecks.push(new Co(null,r))}function hs(e){return typeof e=="function"}function b2(e){return typeof e=="boolean"}function v2(e){return e&&hs(e.canLoad)}function y2(e){return e&&hs(e.canActivate)}function _2(e){return e&&hs(e.canActivateChild)}function x2(e){return e&&hs(e.canDeactivate)}function w2(e){return e&&hs(e.canMatch)}function ey(e){return e instanceof $b||e?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Io(){return Bn(e=>vh(e.map(t=>t.pipe(mo(1),qb(xl)))).pipe(xe(t=>{for(let n of t)if(n!==!0){if(n===xl)return xl;if(n===!1||C2(n))return n}return!0}),fo(t=>t!==xl),mo(1)))}function C2(e){return ns(e)||e instanceof cs}function M2(e,t){return fn(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?ce(D(v({},n),{guardsResult:!0})):S2(a,i,r,e).pipe(fn(s=>s&&b2(s)?k2(i,o,e,t):ce(s)),xe(s=>D(v({},n),{guardsResult:s})))})}function S2(e,t,n,i){return qt(e).pipe(fn(r=>D2(r.component,r.route,n,t,i)),zi(r=>r!==!0,!0))}function k2(e,t,n,i){return qt(t).pipe(Ua(r=>Ub(E2(r.route.parent,i),I2(r.route,i),A2(e,r.path,n),T2(e,r.route,n))),zi(r=>r!==!0,!0))}function I2(e,t){return e!==null&&t&&t(new om(e)),ce(!0)}function E2(e,t){return e!==null&&t&&t(new im(e)),ce(!0)}function T2(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ce(!0);let r=i.map(o=>yh(()=>{let a=fs(t)??n,s=Eo(o,a),c=y2(s)?s.canActivate(t,e):ui(a,()=>s(t,e));return Hi(c).pipe(zi())}));return ce(r).pipe(Io())}function A2(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>m2(a)).filter(a=>a!==null).map(a=>yh(()=>{let s=a.guards.map(c=>{let l=fs(a.node)??n,u=Eo(c,l),f=_2(u)?u.canActivateChild(i,e):ui(l,()=>u(i,e));return Hi(f).pipe(zi())});return ce(s).pipe(Io())}));return ce(o).pipe(Io())}function D2(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let a=o.map(s=>{let c=fs(t)??r,l=Eo(s,c),u=x2(l)?l.canDeactivate(e,t,n,i):ui(c,()=>l(e,t,n,i));return Hi(u).pipe(zi())});return ce(a).pipe(Io())}function R2(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return ce(!0);let o=r.map(a=>{let s=Eo(a,e),c=v2(s)?s.canLoad(t,n):ui(e,()=>s(t,n));return Hi(c)});return ce(o).pipe(Io(),ty(i))}function ty(e){return Pb(kt(t=>{if(typeof t!="boolean")throw Rl(e,t)}),xe(t=>t===!0))}function O2(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return ce(!0);let o=r.map(a=>{let s=Eo(a,e),c=w2(s)?s.canMatch(t,n):ui(e,()=>s(t,n));return Hi(c)});return ce(o).pipe(Io(),ty(i))}var ls=class{constructor(t){this.segmentGroup=t||null}},us=class extends Error{constructor(t){super(),this.urlTree=t}};function yo(e){return $a(new ls(e))}function N2(e){return $a(new Be(4e3,!1))}function F2(e){return $a(Qv(!1,Jt.GuardRejected))}var hm=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ce(i);if(r.numberOfChildren>1||!r.children[le])return N2(`${t.redirectTo}`);r=r.children[le]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let s=n,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:d,params:h,data:m,title:p}=r,g=ui(o,()=>s({params:h,data:m,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:d,title:p}));if(g instanceof fi)throw new us(g);n=g}let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new us(a);return a}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new fi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);i[r]=n[s]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,i,r)}),new ye(o,a)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new Be(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L2(e,t,n,i,r){let o=wm(e,t,n);return o.matched?(i=o2(t,i),O2(i,t,n,r).pipe(xe(a=>a===!0?o:v({},mm)))):ce(o)}function wm(e,t,n){if(t.path==="**")return P2(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},mm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Ok)(n,e,t);if(!r)return v({},mm);let o={};Object.entries(r.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=r.consumed.length>0?v(v({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function P2(e){return{matched:!0,parameters:e.length>0?Fv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Dv(e,t,n,i){return n.length>0&&U2(e,n,i)?{segmentGroup:new ye(t,$2(i,new ye(n,e.children))),slicedSegments:[]}:n.length===0&&z2(e,n,i)?{segmentGroup:new ye(e.segments,V2(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ye(e.segments,e.children),slicedSegments:n}}function V2(e,t,n,i){let r={};for(let o of n)if(Fl(e,t,o)&&!i[Dn(o)]){let a=new ye([],{});r[Dn(o)]=a}return v(v({},i),r)}function $2(e,t){let n={};n[le]=t;for(let i of e)if(i.path===""&&Dn(i)!==le){let r=new ye([],{});n[Dn(i)]=r}return n}function U2(e,t,n){return n.some(i=>Fl(e,t,i)&&Dn(i)!==le)}function z2(e,t,n){return n.some(i=>Fl(e,t,i))}function Fl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function j2(e,t,n,i){return Dn(e)!==i&&(i===le||!Fl(t,n,e))?!1:wm(t,e,n).matched}function B2(e,t,n){return t.length===0&&!e.children[n]}var pm=class{};function H2(e,t,n,i,r,o,a="emptyOnly"){return new gm(e,t,n,i,r,a,o).recognize()}var q2=31,gm=class{constructor(t,n,i,r,o,a,s){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new hm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Be(4002,`'${t.segmentGroup}'`)}recognize(){let t=Dv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(xe(({children:n,rootSnapshot:i})=>{let r=new Qt(i,n),o=new Dl("",r),a=Qk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let n=new wo([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,le,n).pipe(xe(i=>({children:i,rootSnapshot:n})),ho(i=>{if(i instanceof us)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ls?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(xe(a=>a instanceof Qt?[a]:[]))}processChildren(t,n,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return qt(o).pipe(Ua(a=>{let s=i.children[a],c=a2(n,a);return this.processSegmentGroup(t,c,s,a,r)}),Hb((a,s)=>(a.push(...s),a)),_h(null),Bb(),fn(a=>{if(a===null)return yo(i);let s=ny(a);return W2(s),ce(s)}))}processSegment(t,n,i,r,o,a,s){return qt(n).pipe(Ua(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,i,r,o,a,s).pipe(ho(l=>{if(l instanceof ls)return ce(null);throw l}))),zi(c=>!!c),ho(c=>{if(ey(c))return B2(i,r,o)?ce(new pm):yo(i);throw c}))}processSegmentAgainstRoute(t,n,i,r,o,a,s,c){return j2(i,r,o,a)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,a,c):yo(r):yo(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a,s){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:d}=wm(n,r,o);if(!c)return yo(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q2&&(this.allowRedirects=!1));let h=new wo(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Rv(r),Dn(r),r.component??r._loadedComponent??null,r,Ov(r)),m=Al(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(m.params),h.data=Object.freeze(m.data);let p=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,f,h,t);return this.applyRedirects.lineralizeSegments(r,p).pipe(fn(g=>this.processSegment(t,i,n,g.concat(d),a,!1,s)))}matchSegmentAgainstRoute(t,n,i,r,o,a){let s=L2(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Bn(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Bn(({routes:l})=>{let u=i._loadedInjector??t,{parameters:f,consumedSegments:d,remainingSegments:h}=c,m=new wo(d,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Rv(i),Dn(i),i.component??i._loadedComponent??null,i,Ov(i)),p=Al(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(p.params),m.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:_}=Dv(n,d,h,l);if(_.length===0&&g.hasChildren())return this.processChildren(u,l,g,m).pipe(xe(w=>new Qt(m,w)));if(l.length===0&&_.length===0)return ce(new Qt(m,[]));let y=Dn(i)===o;return this.processSegment(u,l,g,_,y?le:o,!0,m).pipe(xe(w=>new Qt(m,w instanceof Qt?[w]:[])))}))):yo(n)))}getChildConfig(t,n,i){return n.children?ce({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):R2(t,n,i,this.urlSerializer).pipe(fn(r=>r?this.configLoader.loadChildren(t,n).pipe(kt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):F2(n))):ce({routes:[],injector:t})}};function W2(e){e.sort((t,n)=>t.value.outlet===le?-1:n.value.outlet===le?1:t.value.outlet.localeCompare(n.value.outlet))}function G2(e){let t=e.value.routeConfig;return t&&t.path===""}function ny(e){let t=[],n=new Set;for(let i of e){if(!G2(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=ny(i.children);t.push(new Qt(i.value,r))}return t.filter(i=>!n.has(i))}function Rv(e){return e.data||{}}function Ov(e){return e.resolve||{}}function Y2(e,t,n,i,r,o){return fn(a=>H2(e,t,n,i,a.extractedUrl,r,o).pipe(xe(({state:s,tree:c})=>D(v({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function X2(e,t){return fn(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ce(n);let o=new Set(r.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of iy(c))a.add(l);let s=0;return qt(a).pipe(Ua(c=>o.has(c)?Z2(c,i,e,t):(c.data=Al(c,c.parent,e).resolve,ce(void 0))),kt(()=>s++),xh(1),fn(c=>s===a.size?ce(n):Ui))})}function iy(e){let t=e.children.map(n=>iy(n)).flat();return[e,...t]}function Z2(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Zv(r)&&(o[ds]=r.title),K2(o,e,t,i).pipe(xe(a=>(e._resolvedData=a,e.data=Al(e,e.parent,n).resolve,null)))}function K2(e,t,n,i){let r=Wh(e);if(r.length===0)return ce({});let o={};return qt(r).pipe(fn(a=>Q2(e[a],t,n,i).pipe(zi(),kt(s=>{if(s instanceof cs)throw Rl(new ts,s);o[a]=s}))),xh(1),jb(o),ho(a=>ey(a)?Ui:$a(a)))}function Q2(e,t,n,i){let r=fs(t)??i,o=Eo(e,r),a=o.resolve?o.resolve(t,n):ui(r,()=>o(t,n));return Hi(a)}function Hh(e){return Bn(t=>{let n=e(t);return n?qt(n).pipe(xe(()=>t)):ce(t)})}var ry=(()=>{let t=class t{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===le);return r}getResolvedTitleForRoute(i){return i.data[ds]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:()=>ee(J2),providedIn:"root"});let e=t;return e})(),J2=(()=>{let t=class t extends ry{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(Ee(kv))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Cm=new he("",{providedIn:"root",factory:()=>({})}),eI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ht({type:t,selectors:[["ng-component"]],standalone:!0,features:[yt],decls:1,vars:0,template:function(r,o){r&1&&Xe(0,"router-outlet")},dependencies:[_m],encapsulation:2});let e=t;return e})();function Mm(e){let t=e.children&&e.children.map(Mm),n=t?D(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=eI),n}var Sm=new he(""),tI=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(Rh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ce(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Hi(i.loadComponent()).pipe(xe(oy),kt(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),al(()=>{this.componentLoaders.delete(i)})),o=new bh(r,()=>new En).pipe(gh());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=nI(r,this.compiler,i,this.onLoadEndListener).pipe(al(()=>{this.childrenLoaders.delete(r)})),s=new bh(a,()=>new En).pipe(gh());return this.childrenLoaders.set(r,s),s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function nI(e,t,n,i){return Hi(e.loadChildren()).pipe(xe(oy),fn(r=>r instanceof iv||Array.isArray(r)?ce(r):qt(t.compileModuleAsync(r))),xe(r=>{i&&i(e);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(n).injector,a=o.get(Sm,[],{optional:!0,self:!0}).flat()),{routes:a.map(Mm),injector:o}}))}function iI(e){return e&&typeof e=="object"&&"default"in e}function oy(e){return iI(e)?e.default:e}var km=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:()=>ee(rI),providedIn:"root"});let e=t;return e})(),rI=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oI=new he("");var aI=new he(""),sI=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new En,this.transitionAbortSubject=new En,this.configLoader=ee(tI),this.environmentInjector=ee(sl),this.urlSerializer=ee(vm),this.rootContexts=ee(Nl),this.location=ee(gl),this.inputBindingEnabled=ee(xm,{optional:!0})!==null,this.titleStrategy=ee(ry),this.options=ee(Cm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(km),this.createViewTransition=ee(oI,{optional:!0}),this.navigationErrorHandler=ee(aI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let i=o=>this.events.next(new tm(o)),r=o=>this.events.next(new nm(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(D(v(v({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new dn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ja,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fo(a=>a.id!==0),xe(a=>D(v({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Bn(a=>{let s=!1,c=!1;return ce(a).pipe(Bn(l=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Jt.SupersededByNewNavigation),Ui;this.currentTransition=a,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?D(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&f!=="reload"){let d="";return this.events.next(new Er(l.id,this.urlSerializer.serialize(l.rawUrl),d,Zh.IgnoredSameUrlNavigation)),l.resolve(!1),Ui}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ce(l).pipe(Bn(d=>{let h=this.transitions?.getValue();return this.events.next(new rs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ui:Promise.resolve(d)}),Y2(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(d=>{a.targetSnapshot=d.targetSnapshot,a.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=D(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Il(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:m,restoredState:p,extras:g}=l,_=new rs(d,this.urlSerializer.serialize(h),m,p);this.events.next(_);let y=Yv(this.rootComponentType).snapshot;return this.currentTransition=a=D(v({},l),{targetSnapshot:y,urlAfterRedirects:h,extras:D(v({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ce(a)}else{let d="";return this.events.next(new Er(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Zh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ui}}),kt(l=>{let u=new Kh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),xe(l=>(this.currentTransition=a=D(v({},l),{guards:h2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),a)),M2(this.environmentInjector,l=>this.events.next(l)),kt(l=>{if(a.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Rl(this.urlSerializer,l.guardsResult);let u=new Qh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),fo(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Jt.GuardRejected),!1)),Hh(l=>{if(l.guards.canActivateChecks.length)return ce(l).pipe(kt(u=>{let f=new Jh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Bn(u=>{let f=!1;return ce(u).pipe(X2(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Jt.NoDataFromResolver)}}))}),kt(u=>{let f=new em(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Hh(l=>{let u=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(kt(h=>{f.component=h}),xe(()=>{})));for(let h of f.children)d.push(...u(h));return d};return vh(u(l.targetSnapshot.root)).pipe(_h(null),mo(1))}),Hh(()=>this.afterPreactivation()),Bn(()=>{let{currentSnapshot:l,targetSnapshot:u}=a,f=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return f?qt(f).pipe(xe(()=>a)):ce(a)}),xe(l=>{let u=c2(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=a=D(v({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,a}),kt(()=>{this.events.next(new as)}),f2(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mo(1),kt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ir(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Wb(this.transitionAbortSubject.pipe(kt(l=>{throw l}))),al(()=>{!s&&!c&&this.cancelNavigationTransition(a,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),ho(l=>{if(c=!0,Jv(l))this.events.next(new di(a.id,this.urlSerializer.serialize(a.extractedUrl),l.message,l.cancellationCode)),d2(l)?this.events.next(new So(l.url,l.navigationBehaviorOptions)):a.resolve(!1);else{let u=new os(a.id,this.urlSerializer.serialize(a.extractedUrl),l,a.targetSnapshot??void 0);try{let f=ui(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof cs){let{message:d,cancellationCode:h}=Rl(this.urlSerializer,f);this.events.next(new di(a.id,this.urlSerializer.serialize(a.extractedUrl),d,h)),this.events.next(new So(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(u);let d=i.errorHandler(l);a.resolve(!!d)}}catch(f){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(f)}}return Ui}))}))}cancelNavigationTransition(i,r,o){let a=new di(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cI(e){return e!==Ja}var lI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:()=>ee(uI),providedIn:"root"});let e=t;return e})(),bm=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},uI=(()=>{let t=class t extends bm{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=go(t)))(o||t)}})(),t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ay=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:()=>ee(dI),providedIn:"root"});let e=t;return e})(),dI=(()=>{let t=class t extends ay{constructor(){super(...arguments),this.location=ee(gl),this.urlSerializer=ee(vm),this.options=ee(Cm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Yv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof rs)this.stateMemento=this.createStateMemento();else if(i instanceof Er)this.rawUrlTree=r.initialUrl;else if(i instanceof Il){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof as?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof di&&(i.code===Jt.GuardRejected||i.code===Jt.NoDataFromResolver)?this.restoreHistory(r):i instanceof os?this.restoreHistory(r,!0):i instanceof Ir&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof fi?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,s=v(v({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",s)}else{let a=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===i.finalUrl&&a===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=go(t)))(o||t)}})(),t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ka=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ka||{});function fI(e,t){e.events.pipe(fo(n=>n instanceof Ir||n instanceof di||n instanceof os||n instanceof Er),xe(n=>n instanceof Ir||n instanceof Er?Ka.COMPLETE:(n instanceof di?n.code===Jt.Redirect||n.code===Jt.SupersededByNewNavigation:!1)?Ka.REDIRECTING:Ka.FAILED),fo(n=>n!==Ka.REDIRECTING),mo(1)).subscribe(()=>{t()})}function hI(e){throw e}var mI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sy=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ee(hl),this.stateManager=ee(ay),this.options=ee(Cm,{optional:!0})||{},this.pendingTasks=ee(Kb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(sI),this.urlSerializer=ee(vm),this.location=ee(gl),this.urlHandlingStrategy=ee(km),this._events=new En,this.errorHandler=this.options.errorHandler||hI,this.navigated=!1,this.routeReuseStrategy=ee(lI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(Sm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(xm,{optional:!0}),this.eventsSubscription=new Lb,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof di&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ir)this.navigated=!0;else if(r instanceof So){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cI(o.source)},s);this.scheduleNavigation(c,Ja,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}bI(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ja,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=v({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),a);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=a||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=Hv(h)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),d=this.currentUrlTree.root}return qv(d,i,f,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=ns(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Ja,null,r)}navigate(i,r={skipLocationChange:!1}){return gI(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=v({},mI):r===!1?o=v({},pI):o=r,ns(i))return Iv(this.currentUrlTree,i,o);let a=this.parseUrl(i);return Iv(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,a])=>(a!=null&&(r[o]=a),r),{})}scheduleNavigation(i,r,o,a,s){if(this.disposed)return Promise.resolve(!1);let c,l,u;s?(c=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{c=d,l=h});let f=this.pendingTasks.add();return fI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gI(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Be(4008,!1)}function bI(e){return!(e instanceof as)&&!(e instanceof So)}var vI=new he("");function cy(e,...t){return ja([{provide:Sm,multi:!0,useValue:e},[],{provide:ko,useFactory:yI,deps:[sy]},{provide:lv,multi:!0,useFactory:_I},t.map(n=>n.\u0275providers)])}function yI(e){return e.routerState.root}function _I(){let e=ee(Ch);return t=>{let n=e.get(Dh);if(t!==n.components[0])return;let i=e.get(sy),r=e.get(xI);e.get(wI)===1&&i.initialNavigation(),e.get(CI,null,wh.Optional)?.setUpPreloading(),e.get(vI,null,wh.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var xI=new he("",{factory:()=>new En}),wI=new he("",{providedIn:"root",factory:()=>1});var CI=new he("");var ly=[];var MI="@",SI=(()=>{let t=class t{constructor(i,r,o,a,s){this.doc=i,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=ee(ev,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-X47BEUBO.js").then(r=>r)).catch(r=>{throw new Be(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(i,r){let o=this.delegate.createRenderer(i,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new Im(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(i,r);a.use(c),this.scheduler?.notify(9)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Ih()},t.\u0275prov=me({token:t,factory:t.\u0275fac});let e=t;return e})(),Im=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,i,r){this.delegate.insertBefore(t,n,i,r)}removeChild(t,n,i){this.delegate.removeChild(t,n,i)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,i,r){this.delegate.setAttribute(t,n,i,r)}removeAttribute(t,n,i){this.delegate.removeAttribute(t,n,i)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,i,r){this.delegate.setStyle(t,n,i,r)}removeStyle(t,n,i){this.delegate.removeStyle(t,n,i)}setProperty(t,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(t,n,i)),this.delegate.setProperty(t,n,i)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(t,n,i)),this.delegate.listen(t,n,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(MI)}};function uy(e="animations"){return tv("NgAsyncAnimations"),ja([{provide:ll,useFactory:(t,n,i)=>new SI(t,n,i,e),deps:[Nt,vl,rt]},{provide:ji,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var dy={providers:[uv({eventCoalescing:!0}),cy(ly),uy()]};var Em;try{Em=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Em=!1}var Tr=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?bv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Em)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(Ee(vr))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ms;function kI(){if(ms==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ms=!0}))}finally{ms=ms||!1}return ms}function Tm(e){return kI()?e:!!e.capture}function fy(e){return e.composedPath?e.composedPath()[0]:e.target}function ps(e,t=0){return EI(e)?Number(e):t}function EI(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Am(e){return e instanceof Ge?e.nativeElement:e}function hy(e){return e.buttons===0||e.detail===0}function my(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var TI=new he("cdk-dir-doc",{providedIn:"root",factory:AI});function AI(){return ee(Nt)}var DI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function RI(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?DI.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ll=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new Ye,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=RI(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(Ee(TI,8))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var OI=["mat-internal-form-field",""],NI=["*"];var Ft=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Ft||{}),Dm=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ft.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},gy=Tm({passive:!0,capture:!0}),Rm=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=fy(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,n,i,r){let o=this._events.get(n);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,gy)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,gy)))}},by={enterDuration:225,exitDuration:150},FI=800,vy=Tm({passive:!0,capture:!0}),yy=["mousedown","touchstart"],_y=["mouseup","mouseleave","touchend","touchcancel"],gs=class gs{constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Am(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=v(v({},by),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let a=i.radius||LI(t,n,r),s=t-r.left,c=n-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${c-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let f=window.getComputedStyle(u),d=f.transitionProperty,h=f.transitionDuration,m=d==="none"||h==="0s"||h==="0s, 0s"||r.width===0&&r.height===0,p=new Dm(this,u,i,m);u.style.transform="scale3d(1, 1, 1)",p.state=Ft.FADING_IN,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let _=()=>{g&&(g.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(p)},y=()=>this._destroyRipple(p),w=setTimeout(y,l+100);u.addEventListener("transitionend",_),u.addEventListener("transitioncancel",y),g={onTransitionEnd:_,onTransitionCancel:y,fallbackTimer:w}}),this._activeRipples.set(p,g),(m||!l)&&this._finishRippleTransition(p),p}fadeOutRipple(t){if(t.state===Ft.FADING_OUT||t.state===Ft.HIDDEN)return;let n=t.element,i=v(v({},by),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=Ft.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=Am(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,yy.forEach(i=>{gs._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_y.forEach(n=>{this._triggerElement.addEventListener(n,this,vy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ft.FADING_IN?this._startFadeOutTransition(t):t.state===Ft.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ft.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ft.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=hy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+FI;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!my(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===Ft.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ft.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(yy.forEach(n=>gs._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(_y.forEach(n=>t.removeEventListener(n,this,vy)),this._pointerUpEventsRegistered=!1))}};gs._eventManager=new Rm;var Om=gs;function LI(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var Nm=new he("mat-ripple-global-options"),To=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,a,s){this._elementRef=i,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Om(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:v(v(v({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,v(v({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,v(v({},this.rippleConfig),i))}};t.\u0275fac=function(r){return new(r||t)(J(Ge),J(rt),J(Tr),J(Nm,8),J(ji,8))},t.\u0275dir=nt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Xt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})();var xy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ht({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Xt("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[yt],attrs:OI,ngContentSelectors:NI,decls:1,vars:0,template:function(r,o){r&1&&(hn(),mn(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var PI=["*"];var VI=new he("MAT_CARD_CONFIG"),wy=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(J(VI,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Xt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[yt],ngContentSelectors:PI,decls:1,vars:0,template:function(r,o){r&1&&(hn(),mn(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})();var Ay=(()=>{let t=class t{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(r){return new(r||t)(J(ul),J(Ge))},t.\u0275dir=nt({type:t});let e=t;return e})(),$I=(()=>{let t=class t extends Ay{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=go(t)))(o||t)}})(),t.\u0275dir=nt({type:t,features:[yr]});let e=t;return e})(),Oo=new he("");var UI={provide:Oo,useExisting:pr(()=>zl),multi:!0};function zI(){let e=vo()?vo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jI=new he(""),zl=(()=>{let t=class t extends Ay{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zI())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(r){return new(r||t)(J(ul),J(Ge),J(jI,8))},t.\u0275dir=nt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&we("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[jt([UI]),yr]});let e=t;return e})();var $m=new he(""),BI=new he("");function Dy(e){return e!=null}function Ry(e){return ml(e)?qt(e):e}function Oy(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function Ny(e,t){return t.map(n=>n(e))}function HI(e){return!e.validate}function Fy(e){return e.map(t=>HI(t)?t:n=>t.validate(n))}function qI(e){if(!e)return null;let t=e.filter(Dy);return t.length==0?null:function(n){return Oy(Ny(n,t))}}function Ly(e){return e!=null?qI(Fy(e)):null}function WI(e){if(!e)return null;let t=e.filter(Dy);return t.length==0?null:function(n){let i=Ny(n,t).map(Ry);return zb(i).pipe(xe(Oy))}}function Py(e){return e!=null?WI(Fy(e)):null}function Cy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function GI(e){return e._rawValidators}function YI(e){return e._rawAsyncValidators}function Fm(e){return e?Array.isArray(e)?e:[e]:[]}function Vl(e,t){return Array.isArray(e)?e.includes(t):e===t}function My(e,t){let n=Fm(t);return Fm(e).forEach(r=>{Vl(n,r)||n.push(r)}),n}function Sy(e,t){return Fm(t).filter(n=>!Vl(e,n))}var $l=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Lm=class extends $l{get formDirective(){return null}get path(){return null}},xs=class extends $l{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pm=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},aN=D(v({},XI),{"[class.ng-submitted]":"isSubmitted"}),Vy=(()=>{let t=class t extends Pm{constructor(i){super(i)}};t.\u0275fac=function(r){return new(r||t)(J(xs,2))},t.\u0275dir=nt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[yr]});let e=t;return e})();var bs="VALID",Pl="INVALID",Ao="PENDING",vs="DISABLED",Ro=class{},Ul=class extends Ro{constructor(t,n){super(),this.value=t,this.source=n}},ys=class extends Ro{constructor(t,n){super(),this.pristine=t,this.source=n}},_s=class extends Ro{constructor(t,n){super(),this.touched=t,this.source=n}},Do=class extends Ro{constructor(t,n){super(),this.status=t,this.source=n}};function ZI(e){return(jl(e)?e.validators:e)||null}function KI(e){return Array.isArray(e)?Ly(e):e||null}function QI(e,t){return(jl(t)?t.asyncValidators:e)||null}function JI(e){return Array.isArray(e)?Py(e):e||null}function jl(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Vm=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pl(()=>this.statusReactive()),this.statusReactive=bo(void 0),this._pristine=pl(()=>this.pristineReactive()),this.pristineReactive=bo(!0),this._touched=pl(()=>this.touchedReactive()),this.touchedReactive=bo(!1),this._events=new En,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Mr(this.statusReactive)}set status(t){Mr(()=>this.statusReactive.set(t))}get valid(){return this.status===bs}get invalid(){return this.status===Pl}get pending(){return this.status==Ao}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}get pristine(){return Mr(this.pristineReactive)}set pristine(t){Mr(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Mr(this.touchedReactive)}set touched(t){Mr(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(My(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(My(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Sy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Sy(t,this._rawAsyncValidators))}hasValidator(t){return Vl(this._rawValidators,t)}hasAsyncValidator(t){return Vl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(D(v({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new _s(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new _s(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(D(v({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new ys(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new ys(!0,i))}markAsPending(t={}){this.status=Ao;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Do(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(D(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=vs,this.errors=null,this._forEachChild(r=>{r.disable(D(v({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ul(this.value,i)),this._events.next(new Do(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(D(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=bs,this._forEachChild(i=>{i.enable(D(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(D(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===Ao)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ul(this.value,n)),this._events.next(new Do(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(D(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ao,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Ry(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Do(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ao)?Ao:this._anyControlsHaveStatus(Pl)?Pl:bs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new ys(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new _s(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jl(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=KI(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=JI(this._rawAsyncValidators)}};var $y=new he("CallSetDisabledState",{providedIn:"root",factory:()=>Um}),Um="always";function eE(e,t){return[...t.path,e]}function tE(e,t,n=Um){iE(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),rE(e,t),aE(e,t),oE(e,t),nE(e,t)}function ky(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function nE(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function iE(e,t){let n=GI(e);t.validator!==null?e.setValidators(Cy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=YI(e);t.asyncValidator!==null?e.setAsyncValidators(Cy(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();ky(t._rawValidators,r),ky(t._rawAsyncValidators,r)}function rE(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Uy(e,t)})}function oE(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Uy(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Uy(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function aE(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function sE(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function cE(e){return Object.getPrototypeOf(e.constructor)===$I}function lE(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===zl?n=o:cE(o)?i=o:r=o}),r||i||n||null}function Iy(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ey(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var uE=class extends Vm{constructor(t=null,n,i){super(ZI(n),QI(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ey(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Iy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Iy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ey(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var dE={provide:xs,useExisting:pr(()=>zm)},Ty=Promise.resolve(),zm=(()=>{let t=class t extends xs{constructor(i,r,o,a,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this.control=new uE,this._registered=!1,this.name="",this.update=new Ye,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=lE(this,a)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),sE(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ty.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&It(r);Ty.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?eE(i,this._parent):[i]}};t.\u0275fac=function(r){return new(r||t)(J(Lm,9),J($m,10),J(BI,10),J(Oo,10),J(Zt,8),J($y,8))},t.\u0275dir=nt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([dE]),yr,po]});let e=t;return e})();var fE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=Wt({});let e=t;return e})();var zy=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:$y,useValue:i.callSetDisabledState??Um}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Gt({type:t}),t.\u0275inj=Wt({imports:[fE]});let e=t;return e})();var pE=["knob"],gE=["valueIndicatorContainer"];function bE(e,t){if(e&1&&(X(0,"div",2,1)(2,"div",5)(3,"span",6),Ce(4),G()()()),e&2){let n=Bi();pe(4),Ah(n.valueIndicatorText)}}var vE=["trackActive"],yE=["*"];function _E(e,t){if(e&1&&Xe(0,"div"),e&2){let n=t.$implicit,i=t.$index,r=Bi(3);Ha(n===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),ov("transform",r._calcTickMarkTransform(i))}}function xE(e,t){if(e&1&&sv(0,_E,1,4,"div",8,av),e&2){let n=Bi(2);cv(n._tickMarks)}}function wE(e,t){if(e&1&&(X(0,"div",6,1),xr(2,xE,2,0),G()),e&2){let n=Bi();pe(2),wr(n._cachedWidth?2:-1)}}function CE(e,t){if(e&1&&Xe(0,"mat-slider-visual-thumb",7),e&2){let n=Bi();Tn("discrete",n.discrete)("thumbPosition",1)("valueIndicatorText",n.startValueIndicatorText)}}var re=function(e){return e[e.START=1]="START",e[e.END=2]="END",e}(re||{}),No=function(e){return e[e.ACTIVE=0]="ACTIVE",e[e.INACTIVE=1]="INACTIVE",e}(No||{}),jm=new he("_MatSlider"),jy=new he("_MatSliderThumb"),ME=new he("_MatSliderRangeThumb"),By=new he("_MatSliderVisualThumb");var SE=(()=>{let t=class t{constructor(i,r,o,a){this._cdr=i,this._ngZone=r,this._slider=a,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=ee(Tr),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;let c=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(s,c);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{s.button===0&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=o.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;let i=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{i.addEventListener("pointermove",this._onPointerMove),i.addEventListener("pointerdown",this._onDragStart),i.addEventListener("pointerup",this._onDragEnd),i.addEventListener("pointerleave",this._onMouseLeave),i.addEventListener("focus",this._onFocus),i.addEventListener("blur",this._onBlur)})}ngOnDestroy(){let i=this._sliderInputEl;i&&(i.removeEventListener("pointermove",this._onPointerMove),i.removeEventListener("pointerdown",this._onDragStart),i.removeEventListener("pointerup",this._onDragEnd),i.removeEventListener("pointerleave",this._onMouseLeave),i.removeEventListener("focus",this._onFocus),i.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(i){return i?.state===Ft.FADING_IN||i?.state===Ft.VISIBLE}_showRipple(i,r){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===re.START?re.END:re.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!r)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:i,centered:!0,persistent:!0})}_hideRipple(i){if(i?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let r=this._getSibling();r._isShowingAnyRipple()||(this._hideValueIndicator(),r._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===re.START?re.END:re.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}};t.\u0275fac=function(r){return new(r||t)(J(Zt),J(rt),J(Ge),J(jm))},t.\u0275cmp=ht({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(r,o){if(r&1&&(pn(To,5),pn(pE,5),pn(gE,5)),r&2){let a;mt(a=pt())&&(o._ripple=a.first),mt(a=pt())&&(o._knob=a.first),mt(a=pt())&&(o._valueIndicatorContainer=a.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[jt([{provide:By,useExisting:t}]),yt],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(r,o){r&1&&(xr(0,bE,5,1,"div",2),Xe(1,"div",3,0)(3,"div",4)),r&2&&(wr(o.discrete?0:-1),pe(3),Tn("matRippleDisabled",!0))},dependencies:[To],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Hy=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){this._disabled=i;let r=this._getInput(re.END),o=this._getInput(re.START);r&&(r.disabled=this._disabled),o&&(o.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(i){this._discrete=i,this._updateValueIndicatorUIs()}get min(){return this._min}set min(i){let r=isNaN(i)?this._min:i;this._min!==r&&this._updateMin(r)}_updateMin(i){let r=this._min;this._min=i,this._isRange?this._updateMinRange({old:r,new:i}):this._updateMinNonRange(i),this._onMinMaxOrStepChange()}_updateMinRange(i){let r=this._getInput(re.END),o=this._getInput(re.START),a=r.value,s=o.value;o.min=i.new,r.min=Math.max(i.new,o.value),o.max=Math.min(r.max,r.value),o._updateWidthInactive(),r._updateWidthInactive(),i.new<i.old?this._onTranslateXChangeBySideEffect(r,o):this._onTranslateXChangeBySideEffect(o,r),a!==r.value&&this._onValueChange(r),s!==o.value&&this._onValueChange(o)}_updateMinNonRange(i){let r=this._getInput(re.END);if(r){let o=r.value;r.min=i,r._updateThumbUIByValue(),this._updateTrackUI(r),o!==r.value&&this._onValueChange(r)}}get max(){return this._max}set max(i){let r=isNaN(i)?this._max:i;this._max!==r&&this._updateMax(r)}_updateMax(i){let r=this._max;this._max=i,this._isRange?this._updateMaxRange({old:r,new:i}):this._updateMaxNonRange(i),this._onMinMaxOrStepChange()}_updateMaxRange(i){let r=this._getInput(re.END),o=this._getInput(re.START),a=r.value,s=o.value;r.max=i.new,o.max=Math.min(i.new,r.value),r.min=o.value,r._updateWidthInactive(),o._updateWidthInactive(),i.new>i.old?this._onTranslateXChangeBySideEffect(o,r):this._onTranslateXChangeBySideEffect(r,o),a!==r.value&&this._onValueChange(r),s!==o.value&&this._onValueChange(o)}_updateMaxNonRange(i){let r=this._getInput(re.END);if(r){let o=r.value;r.max=i,r._updateThumbUIByValue(),this._updateTrackUI(r),o!==r.value&&this._onValueChange(r)}}get step(){return this._step}set step(i){let r=isNaN(i)?this._step:i;this._step!==r&&this._updateStep(r)}_updateStep(i){this._step=i,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let i=this._getInput(re.END),r=this._getInput(re.START),o=i.value,a=r.value,s=r.value;i.min=this._min,r.max=this._max,i.step=this._step,r.step=this._step,this._platform.SAFARI&&(i.value=i.value,r.value=r.value),i.min=Math.max(this._min,r.value),r.max=Math.min(this._max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),i.value<s?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateStepNonRange(){let i=this._getInput(re.END);if(i){let r=i.value;i.step=this._step,this._platform.SAFARI&&(i.value=i.value),i._updateThumbUIByValue(),r!==i.value&&this._onValueChange(i)}}constructor(i,r,o,a,s,c){this._ngZone=i,this._cdr=r,this._elementRef=o,this._dir=a,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=ee(Tr),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations=c==="NoopAnimations",this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl"}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let i=this._getInput(re.END),r=this._getInput(re.START);this._isRange=!!i&&!!r,this._cdr.detectChanges();let o=this._getThumb(re.END);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(i,r):this._initUINonRange(i),this._updateTrackUI(i),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(i){i.initProps(),i.initUI(),this._updateValueIndicatorUI(i),this._hasViewInitialized=!0,i._updateThumbUIByValue()}_initUIRange(i,r){i.initProps(),i.initUI(),r.initProps(),r.initUI(),i._updateMinMax(),r._updateMinMax(),i._updateStaticStyles(),r._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,i._updateThumbUIByValue(),r._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let i=this._getInput(re.END),r=this._getInput(re.START);i._setIsLeftThumb(),r._setIsLeftThumb(),i.translateX=i._calcTranslateXByValue(),r.translateX=r._calcTranslateXByValue(),i._updateStaticStyles(),r._updateStaticStyles(),i._updateWidthInactive(),r._updateWidthInactive(),i._updateThumbUIByValue(),r._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(re.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(re.START)._isActive||this._getThumb(re.END)._isActive}_getValue(i=re.END){let r=this._getInput(i);return r?r.value:this.min}_skipUpdate(){return!!(this._getInput(re.START)?._skipUIUpdate||this._getInput(re.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(i){let r=this._trackActive.nativeElement.style;r.left=i.left,r.right=i.right,r.transformOrigin=i.transformOrigin,r.transform=i.transform}_calcTickMarkTransform(i){return`translateX(${i*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(i){this._hasViewInitialized&&(this._updateThumbUI(i),this._updateTrackUI(i),this._updateOverlappingThumbUI(i))}_onTranslateXChangeBySideEffect(i,r){this._hasViewInitialized&&(i._updateThumbUIByValue(),r._updateThumbUIByValue())}_onValueChange(i){this._hasViewInitialized&&(this._updateValueIndicatorUI(i),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let i=this._getInput(re.END),r=this._getInput(re.START);i._updateThumbUIByValue(),r._updateThumbUIByValue(),i._updateStaticStyles(),r._updateStaticStyles(),i._updateMinMax(),r._updateMinMax(),i._updateWidthInactive(),r._updateWidthInactive()}else{let i=this._getInput(re.END);i&&i._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){let i=this._getInput(re.START),r=this._getInput(re.END);return!i||!r?!1:r.translateX-i.translateX<20}_updateOverlappingThumbClassNames(i){let r=i.getSibling(),o=this._getThumb(i.thumbPosition);this._getThumb(r.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(i){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(i))}_updateThumbUI(i){if(this._skipUpdate())return;let r=this._getThumb(i.thumbPosition===re.END?re.END:re.START);r._hostElement.style.transform=`translateX(${i.translateX}px)`}_updateValueIndicatorUI(i){if(this._skipUpdate())return;let r=this.displayWith(i.value);if(this._hasViewInitialized?i._valuetext.set(r):i._hostElement.setAttribute("aria-valuetext",r),this.discrete){i.thumbPosition===re.START?this.startValueIndicatorText=r:this.endValueIndicatorText=r;let o=this._getThumb(i.thumbPosition);r.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let i=this._getInput(re.END),r=this._getInput(re.START);i&&this._updateValueIndicatorUI(i),r&&this._updateValueIndicatorUI(r)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let i=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/i)*i-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*o-6}_updateTrackUI(i){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(i):this._updateTrackUINonRange(i))}_updateTrackUIRange(i){let r=i.getSibling();if(!r||!this._cachedWidth)return;let o=Math.abs(r.translateX-i.translateX)/this._cachedWidth;i._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-r.translateX}px`,transformOrigin:"right",transform:`scaleX(${o})`}):this._setTrackActiveStyles({left:`${r.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(i){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-i.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${i.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let i=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(i):this._updateTickMarkUINonRange(i),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(i){let r=this._getValue(),o=Math.max(Math.round((r-this.min)/i),0),a=Math.max(Math.round((this.max-r)/i),0);this._isRtl?o++:a++,this._tickMarks=Array(o).fill(No.ACTIVE).concat(Array(a).fill(No.INACTIVE))}_updateTickMarkUIRange(i){let r=this._getValue(),o=this._getValue(re.START),a=Math.max(Math.round((o-this.min)/i),0),s=Math.max(Math.round((r-o)/i)+1,0),c=Math.max(Math.round((this.max-r)/i),0);this._tickMarks=Array(a).fill(No.INACTIVE).concat(Array(s).fill(No.ACTIVE),Array(c).fill(No.INACTIVE))}_getInput(i){if(i===re.END&&this._input)return this._input;if(this._inputs?.length)return i===re.START?this._inputs.first:this._inputs.last}_getThumb(i){return i===re.END?this._thumbs?.last:this._thumbs?.first}_setTransition(i){this._hasAnimation=!this._platform.IOS&&i&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(i,r){let o=r.width/2,a=r.x+o,s=r.y+o,c=i.clientX-a,l=i.clientY-s;return Math.pow(c,2)+Math.pow(l,2)<Math.pow(o,2)}};t.\u0275fac=function(r){return new(r||t)(J(rt),J(Zt),J(Ge),J(Ll,8),J(Nm,8),J(ji,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-slider"]],contentQueries:function(r,o,a){if(r&1&&(Cr(a,jy,5),Cr(a,ME,4)),r&2){let s;mt(s=pt())&&(o._input=s.first),mt(s=pt())&&(o._inputs=s)}},viewQuery:function(r,o){if(r&1&&(pn(vE,5),pn(By,5)),r&2){let a;mt(a=pt())&&(o._trackActive=a.first),mt(a=pt())&&(o._thumbs=a)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(r,o){r&2&&(Ha("mat-"+(o.color||"primary")),Xt("mdc-slider--range",o._isRange)("mdc-slider--disabled",o.disabled)("mdc-slider--discrete",o.discrete)("mdc-slider--tick-marks",o.showTickMarks)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",It],discrete:[2,"discrete","discrete",It],showTickMarks:[2,"showTickMarks","showTickMarks",It],min:[2,"min","min",An],color:"color",disableRipple:[2,"disableRipple","disableRipple",It],max:[2,"max","max",An],step:[2,"step","step",An],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[jt([{provide:jm,useExisting:t}]),_r,yt],ngContentSelectors:yE,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(r,o){r&1&&(hn(),mn(0),X(1,"div",2),Xe(2,"div",3),X(3,"div",4),Xe(4,"div",5,0),G(),xr(6,wE,3,1,"div",6),G(),xr(7,CE,1,3,"mat-slider-visual-thumb",7),Xe(8,"mat-slider-visual-thumb",7)),r&2&&(pe(6),wr(o.showTickMarks?6:-1),pe(),wr(o._isRange?7:-1),pe(),Tn("discrete",o.discrete)("thumbPosition",2)("valueIndicatorText",o.endValueIndicatorText))},dependencies:[SE],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape);height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color);border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color);height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape)}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color);color:var(--mdc-slider-label-label-text-color);width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color)}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font);font-size:var(--mdc-slider-label-label-text-size);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height);letter-spacing:var(--mdc-slider-label-label-text-tracking)}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation);background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color);border-radius:var(--mdc-slider-handle-shape)}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color)}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color)}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color)}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})();var kE={provide:Oo,useExisting:pr(()=>Bm),multi:!0};var Bm=(()=>{let t=class t{get value(){return An(this._hostElement.value,0)}set value(i){i=isNaN(i)?0:i;let r=i+"";if(!this._hasSetInitialValue){this._initialValue=r;return}this._isActive||this._setValue(r)}_setValue(i){this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(i){this._translateX=i}get min(){return An(this._hostElement.min,0)}set min(i){this._hostElement.min=i+"",this._cdr.detectChanges()}get max(){return An(this._hostElement.max,0)}set max(i){this._hostElement.max=i+"",this._cdr.detectChanges()}get step(){return An(this._hostElement.step,0)}set step(i){this._hostElement.step=i+"",this._cdr.detectChanges()}get disabled(){return It(this._hostElement.disabled)}set disabled(i){this._hostElement.disabled=i,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(i){this._isFocused=i}constructor(i,r,o,a){this._ngZone=i,this._elementRef=r,this._cdr=o,this._slider=a,this.valueChange=new Ye,this.dragStart=new Ye,this.dragEnd=new Ye,this.thumbPosition=re.END,this._valuetext=bo(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new En,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=ee(Tr),this._hostElement=r.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(i){if(!(this.disabled||i.button!==0)){if(this._platform.IOS){let r=this._slider._isCursorOnSliderThumb(i,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=r,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(i,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(i),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(i){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(i)},0)}_fixValue(i){let r=i.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,a=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/a),c=this._slider._isRtl?1-r/o:r/o,u=Math.round(c*s)/s*(this._slider.max-this._slider.min)+this._slider.min,f=Math.round(u/a)*a,d=this.value;if(f===d){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(i,{withAnimation:this._slider._hasAnimation});return}this.value=f,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(i,{withAnimation:this._slider._hasAnimation})}_onPointerMove(i){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(i)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(i){let r=this._tickMarkOffset,o=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(i,o),r)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(i){return i.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(i){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(i)}_updateThumbUIByPointerEvent(i,r){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(i)),this._updateThumbUI(r)}_updateThumbUI(i){this._slider._setTransition(!!i?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(i){(this._isControlInitialized||i!==null)&&(this.value=i)}registerOnChange(i){this._onChangeFn=i,this._isControlInitialized=!0}registerOnTouched(i){this._onTouchedFn=i}setDisabledState(i){this.disabled=i}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}};t.\u0275fac=function(r){return new(r||t)(J(rt),J(Ge),J(Zt),J(jm))},t.\u0275dir=nt({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(r,o){r&1&&we("change",function(){return o._onChange()})("input",function(){return o._onInput()})("blur",function(){return o._onBlur()})("focus",function(){return o._onFocus()}),r&2&&Yt("aria-valuetext",o._valuetext())},inputs:{value:[2,"value","value",An]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[jt([kE,{provide:jy,useExisting:t}]),_r]});let e=t;return e})();var qy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=nt({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var Bl=class{ownSoldiers;enemySoldiers;ownCavalry;enemyCavalry;ownArtillery;enemyArtillery;ownDice;ownCavalryDice;ownArtilleryDice;enemyDice;enemyCavalryDice;enemyArtilleryDice;ownInfantryHitBonus;enemyInfantryHitBonus;ownNobleKnights;enemyNobleKnights;constructor(){this.ownSoldiers=3,this.enemySoldiers=3,this.ownCavalry=0,this.enemyCavalry=0,this.ownArtillery=0,this.enemyArtillery=0,this.ownDice=3,this.enemyDice=3,this.ownCavalryDice=0,this.enemyCavalryDice=0,this.ownArtilleryDice=0,this.enemyArtilleryDice=0,this.ownInfantryHitBonus=!1,this.enemyInfantryHitBonus=!1,this.ownNobleKnights=!1,this.enemyNobleKnights=!1}};function Ve(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bn(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hi(e){let t,n,i;e.length!==2?(t=Ve,n=(s,c)=>Ve(e(s),c),i=(s,c)=>e(s)-c):(t=e===Ve||e===bn?e:IE,n=e,i=e);function r(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{let f=l+u>>>1;n(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function o(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{let f=l+u>>>1;n(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function a(s,c,l=0,u=s.length){let f=r(s,c,l,u-1);return f>l&&i(s[f-1],c)>-i(s[f],c)?f-1:f}return{left:r,center:a,right:o}}function IE(){return 0}function ws(e){return e===null?NaN:+e}function*Wy(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&(yield i)}}var Gy=hi(Ve),Yy=Gy.right,EE=Gy.left,TE=hi(ws).center,Ar=Yy;function AE(e){return e.length|0}function DE(e){return!(e>0)}function RE(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function OE(e){return t=>e(...t)}function Hl(...e){let t=typeof e[e.length-1]=="function"&&OE(e.pop());e=e.map(RE);let n=e.map(AE),i=e.length-1,r=new Array(i+1).fill(0),o=[];if(i<0||n.some(DE))return o;for(;;){o.push(r.map((s,c)=>e[c][s]));let a=i;for(;++r[a]===n[a];){if(a===0)return t?o.map(t):o;r[a--]=0}}}function ql(e,t){var n=0,i=0;return Float64Array.from(e,t===void 0?r=>n+=+r||0:r=>n+=+t(r,i++,e)||0)}function Fo(e,t){let n=0,i,r=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(i=a-r,r+=i/++n,o+=i*(a-r));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(i=s-r,r+=i/++n,o+=i*(s-r))}if(n>1)return o/(n-1)}function Wl(e,t){let n=Fo(e,t);return n&&Math.sqrt(n)}function Bt(e,t){let n,i;if(t===void 0)for(let r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}var en=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,i=0;for(let r=0;r<this._n&&r<32;r++){let o=n[r],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[i++]=s),t=a}return n[i]=t,this._n=i+1,this}valueOf(){let t=this._partials,n=this._n,i,r,o,a=0;if(n>0){for(a=t[--n];n>0&&(i=a,r=t[--n],a=i+r,o=r-(a-i),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(r=o*2,i=a+r,r==i-a&&(a=i))}return a}};var Lt=class extends Map{constructor(t,n=Ky){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[i,r]of t)this.set(i,r)}get(t){return super.get(Hm(this,t))}has(t){return super.has(Hm(this,t))}set(t,n){return super.set(Xy(this,t),n)}delete(t){return super.delete(Zy(this,t))}},Rn=class extends Set{constructor(t,n=Ky){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let i of t)this.add(i)}has(t){return super.has(Hm(this,t))}add(t){return super.add(Xy(this,t))}delete(t){return super.delete(Zy(this,t))}};function Hm({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):n}function Xy({_intern:e,_key:t},n){let i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Zy({_intern:e,_key:t},n){let i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Ky(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cs(e){return e}function mi(e,...t){return Wm(e,Cs,Cs,t)}function On(e,t,...n){return Wm(e,Cs,t,n)}function qm(e,t,...n){return Wm(e,Array.from,t,n)}function Wm(e,t,n,i){return function r(o,a){if(a>=i.length)return n(o);let s=new Lt,c=i[a++],l=-1;for(let u of o){let f=c(u,++l,o),d=s.get(f);d?d.push(u):s.set(f,[u])}for(let[u,f]of s)s.set(u,r(f,a));return t(s)}(e,0)}function Gm(e,t){return Array.from(t,n=>e[n])}function pi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let i=Uint32Array.from(e,(r,o)=>o);return t.length>1?(t=t.map(r=>e.map(r)),i.sort((r,o)=>{for(let a of t){let s=Ms(a[r],a[o]);if(s)return s}})):(n=e.map(n),i.sort((r,o)=>Ms(n[r],n[o]))),Gm(e,i)}return e.sort(Ym(n))}function Ym(e=Ve){if(e===Ve)return Ms;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function Ms(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Lo(e,t,n){return(t.length!==2?pi(On(e,t,n),([i,r],[o,a])=>Ve(r,a)||Ve(i,o)):pi(mi(e,n),([i,r],[o,a])=>t(r,a)||Ve(i,o))).map(([i])=>i)}var NE=Math.sqrt(50),FE=Math.sqrt(10),LE=Math.sqrt(2);function Gl(e,t,n){let i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=NE?10:o>=FE?5:o>=LE?2:1,s,c,l;return r<0?(l=Math.pow(10,-r)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,r)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?Gl(e,t,n*2):[s,c,l]}function gi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let i=t<e,[r,o,a]=i?Gl(t,e,n):Gl(e,t,n);if(!(o>=r))return[];let s=o-r+1,c=new Array(s);if(i)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(r+l)/-a;else for(let l=0;l<s;++l)c[l]=(r+l)*a;return c}function Ss(e,t,n){return t=+t,e=+e,n=+n,Gl(e,t,n)[2]}function Po(e,t,n){t=+t,e=+e,n=+n;let i=t<e,r=i?Ss(t,e,n):Ss(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function ot(e,t){let n;if(t===void 0)for(let i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Yl(e,t){let n,i=-1,r=-1;if(t===void 0)for(let o of e)++r,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,i=r);else for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,i=r);return i}function Pt(e,t){let n;if(t===void 0)for(let i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n>r||n===void 0&&r>=r)&&(n=r)}return n}function Xl(e,t){let n,i=-1,r=-1;if(t===void 0)for(let o of e)++r,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,i=r);else for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,i=r);return i}function Zl(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?Ms:Ym(r);i>n;){if(i-n>600){let c=i-n+1,l=t-n+1,u=Math.log(c),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(c-f)/c)*(l-c/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/c+d)),m=Math.min(i,Math.floor(t+(c-l)*f/c+d));Zl(e,t,h,m,r)}let o=e[t],a=n,s=i;for(ks(e,n,t),r(e[i],o)>0&&ks(e,n,i);a<s;){for(ks(e,a,s),++a,--s;r(e[a],o)<0;)++a;for(;r(e[s],o)>0;)--s}r(e[n],o)===0?ks(e,n,s):(++s,ks(e,s,i)),s<=t&&(n=s+1),t<=s&&(i=s-1)}return e}function ks(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function Is(e,t=Ve){let n,i=!1;if(t.length===1){let r;for(let o of e){let a=t(o);(i?Ve(a,r)>0:Ve(a,a)===0)&&(n=o,r=a,i=!0)}}else for(let r of e)(i?t(r,n)>0:t(r,r)===0)&&(n=r,i=!0);return n}function bi(e,t,n){if(e=Float64Array.from(Wy(e,n)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return Pt(e);if(t>=1)return ot(e);var i,r=(i-1)*t,o=Math.floor(r),a=ot(Zl(e,o).subarray(0,o+1)),s=Pt(e.subarray(o+1));return a+(s-a)*(r-o)}}function Xm(e,t,n=ws){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(r-o)}}function Kl(e,t){let n=0,i=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n}function Dr(e,t){return bi(e,.5,t)}function*VE(e){for(let t of e)yield*Fb(t)}function Vo(e){return Array.from(VE(e))}function Ql(e,t){let n=new Lt;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let i,r=0;for(let[o,a]of n)a>r&&(r=a,i=o);return i}function Jl(e,t=$E){let n=[],i,r=!1;for(let o of e)r&&n.push(t(i,o)),i=o,r=!0;return n}function $E(e,t){return[e,t]}function Rr(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(r);++i<r;)o[i]=e+i*n;return o}function tn(e,t){let n=0;if(t===void 0)for(let i of e)(i=+i)&&(n+=i);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function qi(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Qy(e){return e}var Zm=1,Km=2,Qm=3,eu=4,Jy=1e-6;function UE(e){return"translate("+e+",0)"}function zE(e){return"translate(0,"+e+")"}function jE(e){return t=>+e(t)}function BE(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function HE(){return!this.__axis}function qE(e,t){var n=[],i=null,r=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Zm||e===eu?-1:1,u=e===eu||e===Km?"x":"y",f=e===Zm||e===Qm?UE:zE;function d(h){var m=i??(t.ticks?t.ticks.apply(t,n):t.domain()),p=r??(t.tickFormat?t.tickFormat.apply(t,n):Qy),g=Math.max(o,0)+s,_=t.range(),y=+_[0]+c,w=+_[_.length-1]+c,b=(t.bandwidth?BE:jE)(t.copy(),c),M=h.selection?h.selection():h,x=M.selectAll(".domain").data([null]),S=M.selectAll(".tick").data(m,t).order(),T=S.exit(),A=S.enter().append("g").attr("class","tick"),R=S.select("line"),k=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(A),R=R.merge(A.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),k=k.merge(A.append("text").attr("fill","currentColor").attr(u,l*g).attr("dy",e===Zm?"0em":e===Qm?"0.71em":"0.32em")),h!==M&&(x=x.transition(h),S=S.transition(h),R=R.transition(h),k=k.transition(h),T=T.transition(h).attr("opacity",Jy).attr("transform",function(L){return isFinite(L=b(L))?f(L+c):this.getAttribute("transform")}),A.attr("opacity",Jy).attr("transform",function(L){var F=this.parentNode.__axis;return f((F&&isFinite(F=F(L))?F:b(L))+c)})),T.remove(),x.attr("d",e===eu||e===Km?a?"M"+l*a+","+y+"H"+c+"V"+w+"H"+l*a:"M"+c+","+y+"V"+w:a?"M"+y+","+l*a+"V"+c+"H"+w+"V"+l*a:"M"+y+","+c+"H"+w),S.attr("opacity",1).attr("transform",function(L){return f(b(L)+c)}),R.attr(u+"2",l*o),k.attr(u,l*g).text(p),M.filter(HE).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Km?"start":e===eu?"end":"middle"),M.each(function(){this.__axis=b})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),d):i&&i.slice()},d.tickFormat=function(h){return arguments.length?(r=h,d):r},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function Jm(e){return qE(Qm,e)}var WE={value:()=>{}};function t_(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new tu(n)}function tu(e){this._=e}function GE(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}tu.prototype=t_.prototype={constructor:tu,on:function(e,t){var n=this._,i=GE(e+"",n),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(e=i[o]).type)&&(r=YE(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(r=(e=i[o]).type)n[r]=e_(n[r],e.name,t);else if(t==null)for(r in n)n[r]=e_(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new tu(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};function YE(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function e_(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=WE,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var ep=t_;var nu="http://www.w3.org/1999/xhtml",qn={svg:"http://www.w3.org/2000/svg",xhtml:nu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vi(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qn.hasOwnProperty(t)?{space:qn[t],local:e}:e}function XE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nu&&t.documentElement.namespaceURI===nu?t.createElement(e):t.createElementNS(n,e)}}function ZE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yi(e){var t=vi(e);return(t.local?ZE:XE)(t)}function KE(){}function Or(e){return e==null?KE:function(){return this.querySelector(e)}}function n_(e){typeof e!="function"&&(e=Or(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=new Array(a),c,l,u=0;u<a;++u)(c=o[u])&&(l=e.call(c,c.__data__,u,o))&&("__data__"in c&&(l.__data__=c.__data__),s[u]=l);return new $e(i,this._parents)}function tp(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QE(){return[]}function Es(e){return e==null?QE:function(){return this.querySelectorAll(e)}}function JE(e){return function(){return tp(e.apply(this,arguments))}}function i_(e){typeof e=="function"?e=JE(e):e=Es(e);for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&(i.push(e.call(c,c.__data__,l,a)),r.push(c));return new $e(i,r)}function Ts(e){return function(){return this.matches(e)}}function iu(e){return function(t){return t.matches(e)}}var eT=Array.prototype.find;function tT(e){return function(){return eT.call(this.children,e)}}function nT(){return this.firstElementChild}function r_(e){return this.select(e==null?nT:tT(typeof e=="function"?e:iu(e)))}var iT=Array.prototype.filter;function rT(){return Array.from(this.children)}function oT(e){return function(){return iT.call(this.children,e)}}function o_(e){return this.selectAll(e==null?rT:oT(typeof e=="function"?e:iu(e)))}function a_(e){typeof e!="function"&&(e=Ts(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new $e(i,this._parents)}function ru(e){return new Array(e.length)}function s_(){return new $e(this._enter||this._groups.map(ru),this._parents)}function As(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}As.prototype={constructor:As,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function c_(e){return function(){return e}}function aT(e,t,n,i,r,o){for(var a=0,s,c=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],i[a]=s):n[a]=new As(e,o[a]);for(;a<c;++a)(s=t[a])&&(r[a]=s)}function sT(e,t,n,i,r,o,a){var s,c,l=new Map,u=t.length,f=o.length,d=new Array(u),h;for(s=0;s<u;++s)(c=t[s])&&(d[s]=h=a.call(c,c.__data__,s,t)+"",l.has(h)?r[s]=c:l.set(h,c));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(c=l.get(h))?(i[s]=c,c.__data__=o[s],l.delete(h)):n[s]=new As(e,o[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(d[s])===c&&(r[s]=c)}function cT(e){return e.__data__}function l_(e,t){if(!arguments.length)return Array.from(this,cT);var n=t?sT:aT,i=this._parents,r=this._groups;typeof e!="function"&&(e=c_(e));for(var o=r.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=i[l],f=r[l],d=f.length,h=lT(e.call(u,u&&u.__data__,l,i)),m=h.length,p=s[l]=new Array(m),g=a[l]=new Array(m),_=c[l]=new Array(d);n(u,f,p,g,_,h,t);for(var y=0,w=0,b,M;y<m;++y)if(b=p[y]){for(y>=w&&(w=y+1);!(M=g[w])&&++w<m;);b._next=M||null}}return a=new $e(a,i),a._enter=s,a._exit=c,a}function lT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u_(){return new $e(this._exit||this._groups.map(ru),this._parents)}function d_(e,t,n){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function f_(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),c=0;c<a;++c)for(var l=n[c],u=i[c],f=l.length,d=s[c]=new Array(f),h,m=0;m<f;++m)(h=l[m]||u[m])&&(d[m]=h);for(;c<r;++c)s[c]=n[c];return new $e(s,this._parents)}function h_(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function m_(e){e||(e=uT);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a=n[o],s=a.length,c=r[o]=new Array(s),l,u=0;u<s;++u)(l=a[u])&&(c[u]=l);c.sort(t)}return new $e(r,this._parents).order()}function uT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function p_(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function g_(){return Array.from(this)}function b_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function v_(){let e=0;for(let t of this)++e;return e}function y_(){return!this.node()}function __(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],o=0,a=r.length,s;o<a;++o)(s=r[o])&&e.call(s,s.__data__,o,r);return this}function dT(e){return function(){this.removeAttribute(e)}}function fT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hT(e,t){return function(){this.setAttribute(e,t)}}function mT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function gT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function x_(e,t){var n=vi(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?fT:dT:typeof t=="function"?n.local?gT:pT:n.local?mT:hT)(n,t))}function ou(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bT(e){return function(){this.style.removeProperty(e)}}function vT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function yT(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function w_(e,t,n){return arguments.length>1?this.each((t==null?bT:typeof t=="function"?yT:vT)(e,t,n??"")):Wi(this.node(),e)}function Wi(e,t){return e.style.getPropertyValue(t)||ou(e).getComputedStyle(e,null).getPropertyValue(t)}function _T(e){return function(){delete this[e]}}function xT(e,t){return function(){this[e]=t}}function wT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function C_(e,t){return arguments.length>1?this.each((t==null?_T:typeof t=="function"?wT:xT)(e,t)):this.node()[e]}function M_(e){return e.trim().split(/^|\s+/)}function np(e){return e.classList||new S_(e)}function S_(e){this._node=e,this._names=M_(e.getAttribute("class")||"")}S_.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function k_(e,t){for(var n=np(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function I_(e,t){for(var n=np(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function CT(e){return function(){k_(this,e)}}function MT(e){return function(){I_(this,e)}}function ST(e,t){return function(){(t.apply(this,arguments)?k_:I_)(this,e)}}function E_(e,t){var n=M_(e+"");if(arguments.length<2){for(var i=np(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?ST:t?CT:MT)(n,t))}function kT(){this.textContent=""}function IT(e){return function(){this.textContent=e}}function ET(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function T_(e){return arguments.length?this.each(e==null?kT:(typeof e=="function"?ET:IT)(e)):this.node().textContent}function TT(){this.innerHTML=""}function AT(e){return function(){this.innerHTML=e}}function DT(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function A_(e){return arguments.length?this.each(e==null?TT:(typeof e=="function"?DT:AT)(e)):this.node().innerHTML}function RT(){this.nextSibling&&this.parentNode.appendChild(this)}function D_(){return this.each(RT)}function OT(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function R_(){return this.each(OT)}function O_(e){var t=typeof e=="function"?e:yi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NT(){return null}function N_(e,t){var n=typeof e=="function"?e:yi(e),i=t==null?NT:typeof t=="function"?t:Or(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function FT(){var e=this.parentNode;e&&e.removeChild(this)}function F_(){return this.each(FT)}function LT(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function PT(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function L_(e){return this.select(e?PT:LT)}function P_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function VT(e){return function(t){e.call(this,t,this.__data__)}}function $T(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function UT(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,r=t.length,o;n<r;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++i]=o;++i?t.length=i:delete this.__on}}}function zT(e,t,n){return function(){var i=this.__on,r,o=VT(t);if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function V_(e,t,n){var i=$T(e+""),r,o=i.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(r=0,u=s[c];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?zT:UT,r=0;r<o;++r)this.each(s(i[r],t,n));return this}function $_(e,t,n){var i=ou(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function jT(e,t){return function(){return $_(this,e,t)}}function BT(e,t){return function(){return $_(this,e,t.apply(this,arguments))}}function U_(e,t){return this.each((typeof t=="function"?BT:jT)(e,t))}function*z_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var ip=[null];function $e(e,t){this._groups=e,this._parents=t}function j_(){return new $e([[document.documentElement]],ip)}function HT(){return this}$e.prototype=j_.prototype={constructor:$e,select:n_,selectAll:i_,selectChild:r_,selectChildren:o_,filter:a_,data:l_,enter:s_,exit:u_,join:d_,merge:f_,selection:HT,order:h_,sort:m_,call:p_,nodes:g_,node:b_,size:v_,empty:y_,each:__,attr:x_,style:w_,property:C_,classed:E_,text:T_,html:A_,raise:D_,lower:R_,append:O_,insert:N_,remove:F_,clone:L_,datum:P_,on:V_,dispatch:U_,[Symbol.iterator]:z_};var _i=j_;function xi(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],ip)}function B_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function rp(e,t){if(e=B_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}function wi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gi(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Gn(){}var Yi=.7,Lr=1/Yi,$o="\\s*([+-]?\\d+)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qT=/^#([0-9a-f]{3,8})$/,WT=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),GT=new RegExp(`^rgb\\(${Wn},${Wn},${Wn}\\)$`),YT=new RegExp(`^rgba\\(${$o},${$o},${$o},${Ds}\\)$`),XT=new RegExp(`^rgba\\(${Wn},${Wn},${Wn},${Ds}\\)$`),ZT=new RegExp(`^hsl\\(${Ds},${Wn},${Wn}\\)$`),KT=new RegExp(`^hsla\\(${Ds},${Wn},${Wn},${Ds}\\)$`),H_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wi(Gn,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:q_,formatHex:q_,formatHex8:QT,formatHsl:JT,formatRgb:W_,toString:W_});function q_(){return this.rgb().formatHex()}function QT(){return this.rgb().formatHex8()}function JT(){return Q_(this).formatHsl()}function W_(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?G_(t):n===3?new He(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?au(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?au(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WT.exec(e))?new He(t[1],t[2],t[3],1):(t=GT.exec(e))?new He(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YT.exec(e))?au(t[1],t[2],t[3],t[4]):(t=XT.exec(e))?au(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZT.exec(e))?Z_(t[1],t[2]/100,t[3]/100,1):(t=KT.exec(e))?Z_(t[1],t[2]/100,t[3]/100,t[4]):H_.hasOwnProperty(e)?G_(H_[e]):e==="transparent"?new He(NaN,NaN,NaN,0):null}function G_(e){return new He(e>>16&255,e>>8&255,e&255,1)}function au(e,t,n,i){return i<=0&&(e=t=n=NaN),new He(e,t,n,i)}function Rs(e){return e instanceof Gn||(e=Fn(e)),e?(e=e.rgb(),new He(e.r,e.g,e.b,e.opacity)):new He}function vn(e,t,n,i){return arguments.length===1?Rs(e):new He(e,t,n,i??1)}function He(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}wi(He,vn,Gi(Gn,{brighter(e){return e=e==null?Lr:Math.pow(Lr,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new He(Fr(this.r),Fr(this.g),Fr(this.b),cu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y_,formatHex:Y_,formatHex8:eA,formatRgb:X_,toString:X_}));function Y_(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function eA(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function X_(){let e=cu(this.opacity);return`${e===1?"rgb(":"rgba("}${Fr(this.r)}, ${Fr(this.g)}, ${Fr(this.b)}${e===1?")":`, ${e})`}`}function cu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return e=Fr(e),(e<16?"0":"")+e.toString(16)}function Z_(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nn(e,t,n,i)}function Q_(e){if(e instanceof Nn)return new Nn(e.h,e.s,e.l,e.opacity);if(e instanceof Gn||(e=Fn(e)),!e)return new Nn;if(e instanceof Nn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,c=(o+r)/2;return s?(t===o?a=(n-i)/s+(n<i)*6:n===o?a=(i-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+r:2-o-r,a*=60):s=c>0&&c<1?0:a,new Nn(a,s,c,e.opacity)}function Os(e,t,n,i){return arguments.length===1?Q_(e):new Nn(e,t,n,i??1)}function Nn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}wi(Nn,Os,Gi(Gn,{brighter(e){return e=e==null?Lr:Math.pow(Lr,e),new Nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new Nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new He(op(e>=240?e-240:e+120,r,i),op(e,r,i),op(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Nn(K_(this.h),su(this.s),su(this.l),cu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=cu(this.opacity);return`${e===1?"hsl(":"hsla("}${K_(this.h)}, ${su(this.s)*100}%, ${su(this.l)*100}%${e===1?")":`, ${e})`}`}}));function K_(e){return e=(e||0)%360,e<0?e+360:e}function su(e){return Math.max(0,Math.min(1,e||0))}function op(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var lu=Math.PI/180,uu=180/Math.PI;var du=18,J_=.96422,ex=1,tx=.82521,nx=4/29,Uo=6/29,ix=3*Uo*Uo,tA=Uo*Uo*Uo;function rx(e){if(e instanceof Yn)return new Yn(e.l,e.a,e.b,e.opacity);if(e instanceof Ci)return ox(e);e instanceof He||(e=Rs(e));var t=lp(e.r),n=lp(e.g),i=lp(e.b),r=ap((.2225045*t+.7168786*n+.0606169*i)/ex),o,a;return t===n&&n===i?o=a=r:(o=ap((.4360747*t+.3850649*n+.1430804*i)/J_),a=ap((.0139322*t+.0971045*n+.7141733*i)/tx)),new Yn(116*r-16,500*(o-r),200*(r-a),e.opacity)}function zo(e,t,n,i){return arguments.length===1?rx(e):new Yn(e,t,n,i??1)}function Yn(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}wi(Yn,zo,Gi(Gn,{brighter(e){return new Yn(this.l+du*(e??1),this.a,this.b,this.opacity)},darker(e){return new Yn(this.l-du*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=J_*sp(t),e=ex*sp(e),n=tx*sp(n),new He(cp(3.1338561*t-1.6168667*e-.4906146*n),cp(-.9787684*t+1.9161415*e+.033454*n),cp(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ap(e){return e>tA?Math.pow(e,1/3):e/ix+nx}function sp(e){return e>Uo?e*e*e:ix*(e-nx)}function cp(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function lp(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function nA(e){if(e instanceof Ci)return new Ci(e.h,e.c,e.l,e.opacity);if(e instanceof Yn||(e=rx(e)),e.a===0&&e.b===0)return new Ci(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*uu;return new Ci(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Ns(e,t,n,i){return arguments.length===1?nA(e):new Ci(e,t,n,i??1)}function Ci(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function ox(e){if(isNaN(e.h))return new Yn(e.l,0,0,e.opacity);var t=e.h*lu;return new Yn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}wi(Ci,Ns,Gi(Gn,{brighter(e){return new Ci(this.h,this.c,this.l+du*(e??1),this.opacity)},darker(e){return new Ci(this.h,this.c,this.l-du*(e??1),this.opacity)},rgb(){return ox(this).rgb()}}));var lx=-.14861,up=1.78277,dp=-.29227,fu=-.90649,Fs=1.97294,ax=Fs*fu,sx=Fs*up,cx=up*dp-fu*lx;function iA(e){if(e instanceof Pr)return new Pr(e.h,e.s,e.l,e.opacity);e instanceof He||(e=Rs(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(cx*i+ax*t-sx*n)/(cx+ax-sx),o=i-r,a=(Fs*(n-r)-dp*o)/fu,s=Math.sqrt(a*a+o*o)/(Fs*r*(1-r)),c=s?Math.atan2(a,o)*uu-120:NaN;return new Pr(c<0?c+360:c,s,r,e.opacity)}function Vt(e,t,n,i){return arguments.length===1?iA(e):new Pr(e,t,n,i??1)}function Pr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}wi(Pr,Vt,Gi(Gn,{brighter(e){return e=e==null?Lr:Math.pow(Lr,e),new Pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new Pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*lu,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new He(255*(t+n*(lx*i+up*r)),255*(t+n*(dp*i+fu*r)),255*(t+n*(Fs*i)),this.opacity)}}));function fp(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}function ux(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],a=i>0?e[i-1]:2*r-o,s=i<t-1?e[i+2]:2*o-r;return fp((n-i/t)*t,a,r,o,s)}}function dx(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],s=e[(i+2)%t];return fp((n-i/t)*t,r,o,a,s)}}var jo=e=>()=>e;function fx(e,t){return function(n){return e+n*t}}function rA(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Bo(e,t){var n=t-e;return n?fx(e,n>180||n<-180?n-360*Math.round(n/360):n):jo(isNaN(e)?t:e)}function hx(e){return(e=+e)==1?Le:function(t,n){return n-t?rA(t,n,e):jo(isNaN(t)?n:t)}}function Le(e,t){var n=t-e;return n?fx(e,n):jo(isNaN(e)?t:e)}var yn=function e(t){var n=hx(t);function i(r,o){var a=n((r=vn(r)).r,(o=vn(o)).r),s=n(r.g,o.g),c=n(r.b,o.b),l=Le(r.opacity,o.opacity);return function(u){return r.r=a(u),r.g=s(u),r.b=c(u),r.opacity=l(u),r+""}}return i.gamma=e,i}(1);function mx(e){return function(t){var n=t.length,i=new Array(n),r=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=vn(t[a]),i[a]=s.r||0,r[a]=s.g||0,o[a]=s.b||0;return i=e(i),r=e(r),o=e(o),s.opacity=1,function(c){return s.r=i(c),s.g=r(c),s.b=o(c),s+""}}}var hp=mx(ux),oA=mx(dx);function px(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}function gx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bx(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),o=new Array(n),a;for(a=0;a<i;++a)r[a]=Ln(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<i;++a)o[a]=r[a](s);return o}}function vx(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Oe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yx(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Ln(e[r],t[r]):i[r]=t[r];return function(o){for(r in n)i[r]=n[r](o);return i}}var pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mp=new RegExp(pp.source,"g");function aA(e){return function(){return e}}function sA(e){return function(t){return e(t)+""}}function Ls(e,t){var n=pp.lastIndex=mp.lastIndex=0,i,r,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(i=pp.exec(e))&&(r=mp.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Oe(i,r)})),n=mp.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?sA(c[0].x):aA(t):(t=c.length,function(l){for(var u=0,f;u<t;++u)s[(f=c[u]).i]=f.x(l);return s.join("")})}function Ln(e,t){var n=typeof t,i;return t==null||n==="boolean"?jo(t):(n==="number"?Oe:n==="string"?(i=Fn(t))?(t=i,yn):Ls:t instanceof Fn?yn:t instanceof Date?vx:gx(t)?px:Array.isArray(t)?bx:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yx:Oe)(e,t)}function Vr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var _x=180/Math.PI,hu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gp(e,t,n,i,r,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),e*i<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*_x,skewX:Math.atan(c)*_x,scaleX:a,scaleY:s}}var mu;function xx(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hu:gp(t.a,t.b,t.c,t.d,t.e,t.f)}function wx(e){return e==null?hu:(mu||(mu=document.createElementNS("http://www.w3.org/2000/svg","g")),mu.setAttribute("transform",e),(e=mu.transform.baseVal.consolidate())?(e=e.matrix,gp(e.a,e.b,e.c,e.d,e.e,e.f)):hu)}function Cx(e,t,n,i){function r(l){return l.length?l.pop()+" ":""}function o(l,u,f,d,h,m){if(l!==f||u!==d){var p=h.push("translate(",null,t,null,n);m.push({i:p-4,x:Oe(l,f)},{i:p-2,x:Oe(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(l,u,f,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:f.push(r(f)+"rotate(",null,i)-2,x:Oe(l,u)})):u&&f.push(r(f)+"rotate("+u+i)}function s(l,u,f,d){l!==u?d.push({i:f.push(r(f)+"skewX(",null,i)-2,x:Oe(l,u)}):u&&f.push(r(f)+"skewX("+u+i)}function c(l,u,f,d,h,m){if(l!==f||u!==d){var p=h.push(r(h)+"scale(",null,",",null,")");m.push({i:p-4,x:Oe(l,f)},{i:p-2,x:Oe(u,d)})}else(f!==1||d!==1)&&h.push(r(h)+"scale("+f+","+d+")")}return function(l,u){var f=[],d=[];return l=e(l),u=e(u),o(l.translateX,l.translateY,u.translateX,u.translateY,f,d),a(l.rotate,u.rotate,f,d),s(l.skewX,u.skewX,f,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,d),l=u=null,function(h){for(var m=-1,p=d.length,g;++m<p;)f[(g=d[m]).i]=g.x(h);return f.join("")}}}var bp=Cx(xx,"px, ","px)","deg)"),vp=Cx(wx,", ",")",")");function Mx(e){return function(t,n){var i=e((t=Os(t)).h,(n=Os(n)).h),r=Le(t.s,n.s),o=Le(t.l,n.l),a=Le(t.opacity,n.opacity);return function(s){return t.h=i(s),t.s=r(s),t.l=o(s),t.opacity=a(s),t+""}}}var yp=Mx(Bo),cA=Mx(Le);function pu(e,t){var n=Le((e=zo(e)).l,(t=zo(t)).l),i=Le(e.a,t.a),r=Le(e.b,t.b),o=Le(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=i(a),e.b=r(a),e.opacity=o(a),e+""}}function Sx(e){return function(t,n){var i=e((t=Ns(t)).h,(n=Ns(n)).h),r=Le(t.c,n.c),o=Le(t.l,n.l),a=Le(t.opacity,n.opacity);return function(s){return t.h=i(s),t.c=r(s),t.l=o(s),t.opacity=a(s),t+""}}}var _p=Sx(Bo),lA=Sx(Le);function kx(e){return function t(n){n=+n;function i(r,o){var a=e((r=Vt(r)).h,(o=Vt(o)).h),s=Le(r.s,o.s),c=Le(r.l,o.l),l=Le(r.opacity,o.opacity);return function(u){return r.h=a(u),r.s=s(u),r.l=c(Math.pow(u,n)),r.opacity=l(u),r+""}}return i.gamma=t,i}(1)}var uA=kx(Bo),Ho=kx(Le);function Xn(e,t){t===void 0&&(t=e,e=Ln);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return function(a){var s=Math.max(0,Math.min(i-1,Math.floor(a*=i)));return o[s](a-s)}}function Et(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}var qo=0,Vs=0,Ps=0,Ex=1e3,gu,$s,bu=0,$r=0,vu=0,Us=typeof performance=="object"&&performance.now?performance:Date,Tx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function js(){return $r||(Tx(dA),$r=Us.now()+vu)}function dA(){$r=0}function zs(){this._call=this._time=this._next=null}zs.prototype=yu.prototype={constructor:zs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?js():+n)+(t==null?0:+t),!this._next&&$s!==this&&($s?$s._next=this:gu=this,$s=this),this._call=e,this._time=n,xp()},stop:function(){this._call&&(this._call=null,this._time=1/0,xp())}};function yu(e,t,n){var i=new zs;return i.restart(e,t,n),i}function Ax(){js(),++qo;for(var e=gu,t;e;)(t=$r-e._time)>=0&&e._call.call(void 0,t),e=e._next;--qo}function Ix(){$r=(bu=Us.now())+vu,qo=Vs=0;try{Ax()}finally{qo=0,hA(),$r=0}}function fA(){var e=Us.now(),t=e-bu;t>Ex&&(vu-=t,bu=e)}function hA(){for(var e,t=gu,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:gu=n);$s=e,xp(i)}function xp(e){if(!qo){Vs&&(Vs=clearTimeout(Vs));var t=e-$r;t>24?(e<1/0&&(Vs=setTimeout(Ix,e-Us.now()-vu)),Ps&&(Ps=clearInterval(Ps))):(Ps||(bu=Us.now(),Ps=setInterval(fA,Ex)),qo=1,Tx(Ix))}}function _u(e,t,n){var i=new zs;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var mA=ep("start","end","cancel","interrupt"),pA=[],Ox=0,Dx=1,wu=2,xu=3,Rx=4,Cu=5,Bs=6;function Xi(e,t,n,i,r,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;gA(e,n,{name:t,index:i,group:r,on:mA,tween:pA,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ox})}function Hs(e,t){var n=Ze(e,t);if(n.state>Ox)throw new Error("too late; already scheduled");return n}function xt(e,t){var n=Ze(e,t);if(n.state>xu)throw new Error("too late; already running");return n}function Ze(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gA(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=yu(o,0,n.time);function o(l){n.state=Dx,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,f,d,h;if(n.state!==Dx)return c();for(u in i)if(h=i[u],h.name===n.name){if(h.state===xu)return _u(a);h.state===Rx?(h.state=Bs,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=Bs,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(_u(function(){n.state===xu&&(n.state=Rx,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=wu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===wu){for(n.state=xu,r=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++f]=h);r.length=f+1}}function s(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Cu,1),f=-1,d=r.length;++f<d;)r[f].call(e,u);n.state===Cu&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Bs,n.timer.stop(),delete i[t];for(var l in i)return;delete e.__transition}}function Mu(e,t){var n=e.__transition,i,r,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((i=n[a]).name!==t){o=!1;continue}r=i.state>wu&&i.state<Cu,i.state=Bs,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[a]}o&&delete e.__transition}}function Nx(e){return this.each(function(){Mu(this,e)})}function bA(e,t){var n,i;return function(){var r=xt(this,e),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===t){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function vA(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=xt(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=s;break}c===l&&r.push(s)}o.tween=r}}function Fx(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Ze(this.node(),n).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((t==null?bA:vA)(n,e,t))}function Wo(e,t,n){var i=e._id;return e.each(function(){var r=xt(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return Ze(r,i).value[t]}}function Su(e,t){var n;return(typeof t=="number"?Oe:t instanceof Fn?yn:(n=Fn(t))?(t=n,yn):Ls)(e,t)}function yA(e){return function(){this.removeAttribute(e)}}function _A(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xA(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttribute(e);return a===r?null:a===i?o:o=t(i=a,n)}}function wA(e,t,n){var i,r=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?o:o=t(i=a,n)}}function CA(e,t,n){var i,r,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,s)))}}function MA(e,t,n){var i,r,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,s)))}}function Lx(e,t){var n=vi(e),i=n==="transform"?vp:Su;return this.attrTween(e,typeof t=="function"?(n.local?MA:CA)(n,i,Wo(this,"attr."+e,t)):t==null?(n.local?_A:yA)(n):(n.local?wA:xA)(n,i,t))}function SA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function IA(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&kA(e,o)),n}return r._value=t,r}function EA(e,t){var n,i;function r(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&SA(e,o)),n}return r._value=t,r}function Px(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=vi(e);return this.tween(n,(i.local?IA:EA)(i,t))}function TA(e,t){return function(){Hs(this,e).delay=+t.apply(this,arguments)}}function AA(e,t){return t=+t,function(){Hs(this,e).delay=t}}function Vx(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?TA:AA)(t,e)):Ze(this.node(),t).delay}function DA(e,t){return function(){xt(this,e).duration=+t.apply(this,arguments)}}function RA(e,t){return t=+t,function(){xt(this,e).duration=t}}function $x(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DA:RA)(t,e)):Ze(this.node(),t).duration}function OA(e,t){if(typeof t!="function")throw new Error;return function(){xt(this,e).ease=t}}function Ux(e){var t=this._id;return arguments.length?this.each(OA(t,e)):Ze(this.node(),t).ease}function NA(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xt(this,e).ease=n}}function zx(e){if(typeof e!="function")throw new Error;return this.each(NA(this._id,e))}function jx(e){typeof e!="function"&&(e=Ts(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o=t[r],a=o.length,s=i[r]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new $t(i,this._parents,this._name,this._id)}function Bx(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var c=t[s],l=n[s],u=c.length,f=a[s]=new Array(u),d,h=0;h<u;++h)(d=c[h]||l[h])&&(f[h]=d);for(;s<i;++s)a[s]=t[s];return new $t(a,this._parents,this._name,this._id)}function FA(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function LA(e,t,n){var i,r,o=FA(t)?Hs:xt;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}function Hx(e,t){var n=this._id;return arguments.length<2?Ze(this.node(),n).on.on(e):this.each(LA(n,e,t))}function PA(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qx(){return this.on("end.remove",PA(this._id))}function Wx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Or(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s=i[a],c=s.length,l=o[a]=new Array(c),u,f,d=0;d<c;++d)(u=s[d])&&(f=e.call(u,u.__data__,d,s))&&("__data__"in u&&(f.__data__=u.__data__),l[d]=f,Xi(l[d],t,n,d,l,Ze(u,n)));return new $t(o,this._parents,t,n)}function Gx(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Es(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var c=i[s],l=c.length,u,f=0;f<l;++f)if(u=c[f]){for(var d=e.call(u,u.__data__,f,c),h,m=Ze(u,n),p=0,g=d.length;p<g;++p)(h=d[p])&&Xi(h,t,n,p,d,m);o.push(d),a.push(u)}return new $t(o,a,t,n)}var VA=_i.prototype.constructor;function Yx(){return new VA(this._groups,this._parents)}function $A(e,t){var n,i,r;return function(){var o=Wi(this,e),a=(this.style.removeProperty(e),Wi(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}function Xx(e){return function(){this.style.removeProperty(e)}}function UA(e,t,n){var i,r=n+"",o;return function(){var a=Wi(this,e);return a===r?null:a===i?o:o=t(i=a,n)}}function zA(e,t,n){var i,r,o;return function(){var a=Wi(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Wi(this,e))),a===c?null:a===i&&c===r?o:(r=c,o=t(i=a,s))}}function jA(e,t){var n,i,r,o="style."+t,a="end."+o,s;return function(){var c=xt(this,e),l=c.on,u=c.value[o]==null?s||(s=Xx(t)):void 0;(l!==n||r!==u)&&(i=(n=l).copy()).on(a,r=u),c.on=i}}function Zx(e,t,n){var i=(e+="")=="transform"?bp:Su;return t==null?this.styleTween(e,$A(e,i)).on("end.style."+e,Xx(e)):typeof t=="function"?this.styleTween(e,zA(e,i,Wo(this,"style."+e,t))).each(jA(this._id,e)):this.styleTween(e,UA(e,i,t),n).on("end.style."+e,null)}function BA(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function HA(e,t,n){var i,r;function o(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&BA(e,a,n)),i}return o._value=t,o}function Kx(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,HA(e,t,n??""))}function qA(e){return function(){this.textContent=e}}function WA(e){return function(){var t=e(this);this.textContent=t??""}}function Qx(e){return this.tween("text",typeof e=="function"?WA(Wo(this,"text",e)):qA(e==null?"":e+""))}function GA(e){return function(t){this.textContent=e.call(this,t)}}function YA(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&GA(r)),t}return i._value=e,i}function Jx(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,YA(e))}function e1(){for(var e=this._name,t=this._id,n=ku(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,c,l=0;l<s;++l)if(c=a[l]){var u=Ze(c,t);Xi(c,e,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new $t(i,this._parents,e,n)}function t1(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--r===0&&o()}};n.each(function(){var l=xt(this,i),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),l.on=t}),r===0&&o()})}var XA=0;function $t(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function n1(e){return _i().transition(e)}function ku(){return++XA}var Mi=_i.prototype;$t.prototype=n1.prototype={constructor:$t,select:Wx,selectAll:Gx,selectChild:Mi.selectChild,selectChildren:Mi.selectChildren,filter:jx,merge:Bx,selection:Yx,transition:e1,call:Mi.call,nodes:Mi.nodes,node:Mi.node,size:Mi.size,empty:Mi.empty,each:Mi.each,on:Hx,attr:Lx,attrTween:Px,style:Zx,styleTween:Kx,text:Qx,textTween:Jx,remove:qx,tween:Fx,delay:Vx,duration:$x,ease:Ux,easeVarying:zx,end:t1,[Symbol.iterator]:Mi[Symbol.iterator]};function Iu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ZA={time:null,delay:0,duration:250,ease:Iu};function KA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function i1(e){var t,n;e instanceof $t?(t=e._id,e=e._name):(t=ku(),(n=ZA).time=js(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&Xi(c,e,t,l,a,n||KA(c,t));return new $t(i,this._parents,e,t)}_i.prototype.interrupt=Nx;_i.prototype.transition=i1;var{abs:SU,max:kU,min:IU}=Math;function r1(e){return[+e[0],+e[1]]}function QA(e){return[r1(e[0]),r1(e[1])]}var EU={name:"x",handles:["w","e"].map(wp),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},TU={name:"y",handles:["n","s"].map(wp),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},AU={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(wp),input:function(e){return e==null?null:QA(e)},output:function(e){return e}};function wp(e){return{type:e}}var Cp=Math.PI,Mp=2*Cp,Ur=1e-6,JA=Mp-Ur;function o1(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o1;let n=10**t;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}var Go=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o1:eD(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,o,a){this._append`C${+t},${+n},${+i},${+r},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,i,r,o){if(t=+t,n=+n,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,c=i-t,l=r-n,u=a-t,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Ur)if(!(Math.abs(f*c-l*u)>Ur)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=i-a,m=r-s,p=c*c+l*l,g=h*h+m*m,_=Math.sqrt(p),y=Math.sqrt(d),w=o*Math.tan((Cp-Math.acos((p+d-g)/(2*_*y)))/2),b=w/y,M=w/_;Math.abs(b-1)>Ur&&this._append`L${t+b*u},${n+b*f}`,this._append`A${o},${o},0,0,${+(f*h>u*m)},${this._x1=t+M*c},${this._y1=n+M*l}`}}arc(t,n,i,r,o,a){if(t=+t,n=+n,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),c=i*Math.sin(r),l=t+s,u=n+c,f=1^a,d=a?r-o:o-r;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Ur||Math.abs(this._y1-u)>Ur)&&this._append`L${l},${u}`,i&&(d<0&&(d=d%Mp+Mp),d>JA?this._append`A${i},${i},0,1,${f},${t-s},${n-c}A${i},${i},0,1,${f},${this._x1=l},${this._y1=u}`:d>Ur&&this._append`A${i},${i},0,${+(d>=Cp)},${f},${this._x1=t+i*Math.cos(o)},${this._y1=n+i*Math.sin(o)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function a1(){return new Go}a1.prototype=Go.prototype;function Yo(e=3){return new Go(+e)}function s1(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Zn(e){return e=zr(Math.abs(e)),e?e[1]:NaN}function c1(e,t){return function(n,i){for(var r=n.length,o=[],a=0,s=e[0],c=0;r>0&&s>0&&(c+s+1>i&&(s=Math.max(1,i-c)),o.push(n.substring(r-=s,r+s)),!((c+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function l1(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var tD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kn(e){if(!(t=tD.exec(e)))throw new Error("invalid format: "+e);var t;return new Eu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Kn.prototype=Eu.prototype;function Eu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Eu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u1(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Sp;function d1(e,t){var n=zr(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(Sp=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+zr(e,Math.max(0,t+o-1))[0]}function kp(e,t){var n=zr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var Ip={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:s1,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kp(e*100,t),r:kp,s:d1,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ep(e){return e}var f1=Array.prototype.map,h1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function m1(e){var t=e.grouping===void 0||e.thousands===void 0?Ep:c1(f1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Ep:l1(f1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Kn(f);var d=f.fill,h=f.align,m=f.sign,p=f.symbol,g=f.zero,_=f.width,y=f.comma,w=f.precision,b=f.trim,M=f.type;M==="n"?(y=!0,M="g"):Ip[M]||(w===void 0&&(w=12),b=!0,M="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",S=p==="$"?i:/[%p]/.test(M)?a:"",T=Ip[M],A=/[defgprs%]/.test(M);w=w===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function R(k){var L=x,F=S,P,C,$;if(M==="c")F=T(k)+F,k="";else{k=+k;var oe=k<0||1/k<0;if(k=isNaN(k)?c:T(Math.abs(k),w),b&&(k=u1(k)),oe&&+k==0&&m!=="+"&&(oe=!1),L=(oe?m==="("?m:s:m==="-"||m==="("?"":m)+L,F=(M==="s"?h1[8+Sp/3]:"")+F+(oe&&m==="("?")":""),A){for(P=-1,C=k.length;++P<C;)if($=k.charCodeAt(P),48>$||$>57){F=($===46?r+k.slice(P+1):k.slice(P))+F,k=k.slice(0,P);break}}}y&&!g&&(k=t(k,1/0));var ie=L.length+k.length+F.length,te=ie<_?new Array(_-ie+1).join(d):"";switch(y&&g&&(k=t(te+k,te.length?_-F.length:1/0),te=""),h){case"<":k=L+k+F+te;break;case"=":k=L+te+k+F;break;case"^":k=te.slice(0,ie=te.length>>1)+L+k+F+te.slice(ie);break;default:k=te+L+k+F;break}return o(k)}return R.toString=function(){return f+""},R}function u(f,d){var h=l((f=Kn(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Zn(d)/3)))*3,p=Math.pow(10,-m),g=h1[8+m/3];return function(_){return h(p*_)+g}}return{format:l,formatPrefix:u}}var Tu,_n,Au;Tp({thousands:",",grouping:[3],currency:["$",""]});function Tp(e){return Tu=m1(e),_n=Tu.format,Au=Tu.formatPrefix,Tu}function Ap(e){return Math.max(0,-Zn(Math.abs(e)))}function Dp(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zn(t)/3)))*3-Zn(Math.abs(e)))}function Rp(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zn(t)-Zn(e))+1}var Y=1e-6,Du=1e-12,ne=Math.PI,Me=ne/2,Op=ne/4,at=ne*2,Ke=180/ne,Se=ne/180,ue=Math.abs,xn=Math.atan,wt=Math.atan2,W=Math.cos;var Ru=Math.exp;var jr=Math.log,Ou=Math.pow,q=Math.sin,Tt=Math.sign||function(e){return e>0?1:e<0?-1:0},De=Math.sqrt,Xo=Math.tan;function Nu(e){return e>1?0:e<-1?ne:Math.acos(e)}function Ue(e){return e>1?Me:e<-1?-Me:Math.asin(e)}function st(){}function Fu(e,t){e&&g1.hasOwnProperty(e.type)&&g1[e.type](e,t)}var p1={Feature:function(e,t){Fu(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Fu(n[i].geometry,t)}},g1={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Np(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Np(n[i],t,0)},Polygon:function(e,t){b1(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)b1(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Fu(n[i],t)}};function Np(e,t,n){var i=-1,r=e.length-n,o;for(t.lineStart();++i<r;)o=e[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function b1(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Np(e[n],t,1);t.polygonEnd()}function Pn(e,t){e&&p1.hasOwnProperty(e.type)?p1[e.type](e,t):Fu(e,t)}function qs(e){return[wt(e[1],e[0]),Ue(e[2])]}function Qn(e){var t=e[0],n=e[1],i=W(n);return[i*W(t),i*q(t),q(n)]}function Ws(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Zo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Lu(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Gs(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ys(e){var t=De(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Xs(e,t){function n(i,r){return i=e(i,r),t(i[0],i[1])}return e.invert&&t.invert&&(n.invert=function(i,r){return i=t.invert(i,r),i&&e.invert(i[0],i[1])}),n}function Fp(e,t){return ue(e)>ne&&(e-=Math.round(e/at)*at),[e,t]}Fp.invert=Fp;function Lp(e,t,n){return(e%=at)?t||n?Xs(y1(e),_1(t,n)):y1(e):t||n?_1(t,n):Fp}function v1(e){return function(t,n){return t+=e,ue(t)>ne&&(t-=Math.round(t/at)*at),[t,n]}}function y1(e){var t=v1(e);return t.invert=v1(-e),t}function _1(e,t){var n=W(e),i=q(e),r=W(t),o=q(t);function a(s,c){var l=W(c),u=W(s)*l,f=q(s)*l,d=q(c),h=d*n+u*i;return[wt(f*r-h*o,u*n-d*i),Ue(h*r+f*o)]}return a.invert=function(s,c){var l=W(c),u=W(s)*l,f=q(s)*l,d=q(c),h=d*r-f*o;return[wt(f*r+d*o,u*n+h*i),Ue(h*n-u*i)]},a}function x1(e){e=Lp(e[0]*Se,e[1]*Se,e.length>2?e[2]*Se:0);function t(n){return n=e(n[0]*Se,n[1]*Se),n[0]*=Ke,n[1]*=Ke,n}return t.invert=function(n){return n=e.invert(n[0]*Se,n[1]*Se),n[0]*=Ke,n[1]*=Ke,n},t}function C1(e,t,n,i,r,o){if(n){var a=W(t),s=q(t),c=i*n;r==null?(r=t+i*at,o=t-c/2):(r=w1(a,r),o=w1(a,o),(i>0?r<o:r>o)&&(r+=i*at));for(var l,u=r;i>0?u>o:u<o;u-=c)l=qs([a,-s*W(u),-s*q(u)]),e.point(l[0],l[1])}}function w1(e,t){t=Qn(t),t[0]-=e,Ys(t);var n=Nu(-t[1]);return((-t[2]<0?-n:n)+at-Y)%at}function Pu(){var e=[],t;return{point:function(n,i,r){t.push([n,i,r])},lineStart:function(){e.push(t=[])},lineEnd:st,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ko(e,t){return ue(e[0]-t[0])<Y&&ue(e[1]-t[1])<Y}function Vu(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function $u(e,t,n,i,r){var o=[],a=[],s,c;if(e.forEach(function(m){if(!((p=m.length-1)<=0)){var p,g=m[0],_=m[p],y;if(Ko(g,_)){if(!g[2]&&!_[2]){for(r.lineStart(),s=0;s<p;++s)r.point((g=m[s])[0],g[1]);r.lineEnd();return}_[0]+=2*Y}o.push(y=new Vu(g,m,null,!0)),a.push(y.o=new Vu(g,null,y,!1)),o.push(y=new Vu(_,m,null,!1)),a.push(y.o=new Vu(_,null,y,!0))}}),!!o.length){for(a.sort(t),M1(o),M1(a),s=0,c=a.length;s<c;++s)a[s].e=n=!n;for(var l=o[0],u,f;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;u=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,c=u.length;s<c;++s)r.point((f=u[s])[0],f[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(h)for(u=d.p.z,s=u.length-1;s>=0;--s)r.point((f=u[s])[0],f[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);r.lineEnd()}}}function M1(e){if(t=e.length){for(var t,n=0,i=e[0],r;++n<t;)i.n=r=e[n],r.p=i,i=r;i.n=r=e[0],r.p=i}}function Pp(e){return ue(e[0])<=ne?e[0]:Tt(e[0])*((ue(e[0])+ne)%at-ne)}function S1(e,t){var n=Pp(t),i=t[1],r=q(i),o=[q(n),-W(n),0],a=0,s=0,c=new en;r===1?i=Me+Y:r===-1&&(i=-Me-Y);for(var l=0,u=e.length;l<u;++l)if(d=(f=e[l]).length)for(var f,d,h=f[d-1],m=Pp(h),p=h[1]/2+Op,g=q(p),_=W(p),y=0;y<d;++y,m=b,g=x,_=S,h=w){var w=f[y],b=Pp(w),M=w[1]/2+Op,x=q(M),S=W(M),T=b-m,A=T>=0?1:-1,R=A*T,k=R>ne,L=g*x;if(c.add(wt(L*A*q(R),_*S+L*W(R))),a+=k?T+A*at:T,k^m>=n^b>=n){var F=Zo(Qn(h),Qn(w));Ys(F);var P=Zo(o,F);Ys(P);var C=(k^T>=0?-1:1)*Ue(P[2]);(i>C||i===C&&(F[0]||F[1]))&&(s+=k^T>=0?1:-1)}}return(a<-Y||a<Y&&c<-Du)^s&1}function Uu(e,t,n,i){return function(r){var o=t(r),a=Pu(),s=t(a),c=!1,l,u,f,d={point:h,lineStart:p,lineEnd:g,polygonStart:function(){d.point=_,d.lineStart=y,d.lineEnd=w,u=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=p,d.lineEnd=g,u=Vo(u);var b=S1(l,i);u.length?(c||(r.polygonStart(),c=!0),$u(u,iD,b,n,r)):b&&(c||(r.polygonStart(),c=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),u=l=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function h(b,M){e(b,M)&&r.point(b,M)}function m(b,M){o.point(b,M)}function p(){d.point=m,o.lineStart()}function g(){d.point=h,o.lineEnd()}function _(b,M){f.push([b,M]),s.point(b,M)}function y(){s.lineStart(),f=[]}function w(){_(f[0][0],f[0][1]),s.lineEnd();var b=s.clean(),M=a.result(),x,S=M.length,T,A,R;if(f.pop(),l.push(f),f=null,!!S){if(b&1){if(A=M[0],(T=A.length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),x=0;x<T;++x)r.point((R=A[x])[0],R[1]);r.lineEnd()}return}S>1&&b&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(nD))}}return d}}function nD(e){return e.length>1}function iD(e,t){return((e=e.x)[0]<0?e[1]-Me-Y:Me-e[1])-((t=t.x)[0]<0?t[1]-Me-Y:Me-t[1])}var Vp=Uu(function(){return!0},rD,aD,[-ne,-Me]);function rD(e){var t=NaN,n=NaN,i=NaN,r;return{lineStart:function(){e.lineStart(),r=1},point:function(o,a){var s=o>0?ne:-ne,c=ue(o-t);ue(c-ne)<Y?(e.point(t,n=(n+a)/2>0?Me:-Me),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),r=0):i!==s&&c>=ne&&(ue(t-i)<Y&&(t-=i*Y),ue(o-s)<Y&&(o-=s*Y),n=oD(t,n,o,a),e.point(i,n),e.lineEnd(),e.lineStart(),e.point(s,n),r=0),e.point(t=o,n=a),i=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-r}}}function oD(e,t,n,i){var r,o,a=q(e-n);return ue(a)>Y?xn((q(t)*(o=W(i))*q(n)-q(i)*(r=W(t))*q(e))/(r*o*a)):(t+i)/2}function aD(e,t,n,i){var r;if(e==null)r=n*Me,i.point(-ne,r),i.point(0,r),i.point(ne,r),i.point(ne,0),i.point(ne,-r),i.point(0,-r),i.point(-ne,-r),i.point(-ne,0),i.point(-ne,r);else if(ue(e[0]-t[0])>Y){var o=e[0]<t[0]?ne:-ne;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}function k1(e){var t=W(e),n=2*Se,i=t>0,r=ue(t)>Y;function o(u,f,d,h){C1(h,e,n,d,u,f)}function a(u,f){return W(u)*W(f)>t}function s(u){var f,d,h,m,p;return{lineStart:function(){m=h=!1,p=1},point:function(g,_){var y=[g,_],w,b=a(g,_),M=i?b?0:l(g,_):b?l(g+(g<0?ne:-ne),_):0;if(!f&&(m=h=b)&&u.lineStart(),b!==h&&(w=c(f,y),(!w||Ko(f,w)||Ko(y,w))&&(y[2]=1)),b!==h)p=0,b?(u.lineStart(),w=c(y,f),u.point(w[0],w[1])):(w=c(f,y),u.point(w[0],w[1],2),u.lineEnd()),f=w;else if(r&&f&&i^b){var x;!(M&d)&&(x=c(y,f,!0))&&(p=0,i?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}b&&(!f||!Ko(f,y))&&u.point(y[0],y[1]),f=y,h=b,d=M},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return p|(m&&h)<<1}}}function c(u,f,d){var h=Qn(u),m=Qn(f),p=[1,0,0],g=Zo(h,m),_=Ws(g,g),y=g[0],w=_-y*y;if(!w)return!d&&u;var b=t*_/w,M=-t*y/w,x=Zo(p,g),S=Gs(p,b),T=Gs(g,M);Lu(S,T);var A=x,R=Ws(S,A),k=Ws(A,A),L=R*R-k*(Ws(S,S)-1);if(!(L<0)){var F=De(L),P=Gs(A,(-R-F)/k);if(Lu(P,S),P=qs(P),!d)return P;var C=u[0],$=f[0],oe=u[1],ie=f[1],te;$<C&&(te=C,C=$,$=te);var fe=$-C,N=ue(fe-ne)<Y,j=N||fe<Y;if(!N&&ie<oe&&(te=oe,oe=ie,ie=te),j?N?oe+ie>0^P[1]<(ue(P[0]-C)<Y?oe:ie):oe<=P[1]&&P[1]<=ie:fe>ne^(C<=P[0]&&P[0]<=$)){var B=Gs(A,(-R+F)/k);return Lu(B,S),[P,qs(B)]}}}function l(u,f){var d=i?e:ne-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Uu(a,s,o,i?[0,-e]:[-ne,e-ne])}function I1(e,t,n,i,r,o){var a=e[0],s=e[1],c=t[0],l=t[1],u=0,f=1,d=c-a,h=l-s,m;if(m=n-a,!(!d&&m>0)){if(m/=d,d<0){if(m<u)return;m<f&&(f=m)}else if(d>0){if(m>f)return;m>u&&(u=m)}if(m=r-a,!(!d&&m<0)){if(m/=d,d<0){if(m>f)return;m>u&&(u=m)}else if(d>0){if(m<u)return;m<f&&(f=m)}if(m=i-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<f&&(f=m)}else if(h>0){if(m>f)return;m>u&&(u=m)}if(m=o-s,!(!h&&m<0)){if(m/=h,h<0){if(m>f)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<f&&(f=m)}return u>0&&(e[0]=a+u*d,e[1]=s+u*h),f<1&&(t[0]=a+f*d,t[1]=s+f*h),!0}}}}}var Zs=1e9,zu=-Zs;function Qo(e,t,n,i){function r(l,u){return e<=l&&l<=n&&t<=u&&u<=i}function o(l,u,f,d){var h=0,m=0;if(l==null||(h=a(l,f))!==(m=a(u,f))||c(l,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?i:t);while((h=(h+f+4)%4)!==m);else d.point(u[0],u[1])}function a(l,u){return ue(l[0]-e)<Y?u>0?0:3:ue(l[0]-n)<Y?u>0?2:1:ue(l[1]-t)<Y?u>0?1:0:u>0?3:2}function s(l,u){return c(l.x,u.x)}function c(l,u){var f=a(l,1),d=a(u,1);return f!==d?f-d:f===0?u[1]-l[1]:f===1?l[0]-u[0]:f===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,f=Pu(),d,h,m,p,g,_,y,w,b,M,x,S={point:T,lineStart:L,lineEnd:F,polygonStart:R,polygonEnd:k};function T(C,$){r(C,$)&&u.point(C,$)}function A(){for(var C=0,$=0,oe=h.length;$<oe;++$)for(var ie=h[$],te=1,fe=ie.length,N=ie[0],j,B,H=N[0],Q=N[1];te<fe;++te)j=H,B=Q,N=ie[te],H=N[0],Q=N[1],B<=i?Q>i&&(H-j)*(i-B)>(Q-B)*(e-j)&&++C:Q<=i&&(H-j)*(i-B)<(Q-B)*(e-j)&&--C;return C}function R(){u=f,d=[],h=[],x=!0}function k(){var C=A(),$=x&&C,oe=(d=Vo(d)).length;($||oe)&&(l.polygonStart(),$&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),oe&&$u(d,s,C,o,l),l.polygonEnd()),u=l,d=h=m=null}function L(){S.point=P,h&&h.push(m=[]),M=!0,b=!1,y=w=NaN}function F(){d&&(P(p,g),_&&b&&f.rejoin(),d.push(f.result())),S.point=T,b&&u.lineEnd()}function P(C,$){var oe=r(C,$);if(h&&m.push([C,$]),M)p=C,g=$,_=oe,M=!1,oe&&(u.lineStart(),u.point(C,$));else if(oe&&b)u.point(C,$);else{var ie=[y=Math.max(zu,Math.min(Zs,y)),w=Math.max(zu,Math.min(Zs,w))],te=[C=Math.max(zu,Math.min(Zs,C)),$=Math.max(zu,Math.min(Zs,$))];I1(ie,te,e,t,n,i)?(b||(u.lineStart(),u.point(ie[0],ie[1])),u.point(te[0],te[1]),oe||u.lineEnd(),x=!1):oe&&(u.lineStart(),u.point(C,$),x=!1)}y=C,w=$,b=oe}return S}}var Ks=e=>e;var $p=new en,Up=new en,E1,T1,zp,jp,Zi={point:st,lineStart:st,lineEnd:st,polygonStart:function(){Zi.lineStart=sD,Zi.lineEnd=lD},polygonEnd:function(){Zi.lineStart=Zi.lineEnd=Zi.point=st,$p.add(ue(Up)),Up=new en},result:function(){var e=$p/2;return $p=new en,e}};function sD(){Zi.point=cD}function cD(e,t){Zi.point=A1,E1=zp=e,T1=jp=t}function A1(e,t){Up.add(jp*e-zp*t),zp=e,jp=t}function lD(){A1(E1,T1)}var Bp=Zi;var Jo=1/0,ju=Jo,Qs=-Jo,Bu=Qs,uD={point:dD,lineStart:st,lineEnd:st,polygonStart:st,polygonEnd:st,result:function(){var e=[[Jo,ju],[Qs,Bu]];return Qs=Bu=-(ju=Jo=1/0),e}};function dD(e,t){e<Jo&&(Jo=e),e>Qs&&(Qs=e),t<ju&&(ju=t),t>Bu&&(Bu=t)}var ea=uD;var Hp=0,qp=0,Js=0,Hu=0,qu=0,ta=0,Wp=0,Gp=0,ec=0,O1,N1,Jn,ei,Vn={point:Br,lineStart:D1,lineEnd:R1,polygonStart:function(){Vn.lineStart=mD,Vn.lineEnd=pD},polygonEnd:function(){Vn.point=Br,Vn.lineStart=D1,Vn.lineEnd=R1},result:function(){var e=ec?[Wp/ec,Gp/ec]:ta?[Hu/ta,qu/ta]:Js?[Hp/Js,qp/Js]:[NaN,NaN];return Hp=qp=Js=Hu=qu=ta=Wp=Gp=ec=0,e}};function Br(e,t){Hp+=e,qp+=t,++Js}function D1(){Vn.point=fD}function fD(e,t){Vn.point=hD,Br(Jn=e,ei=t)}function hD(e,t){var n=e-Jn,i=t-ei,r=De(n*n+i*i);Hu+=r*(Jn+e)/2,qu+=r*(ei+t)/2,ta+=r,Br(Jn=e,ei=t)}function R1(){Vn.point=Br}function mD(){Vn.point=gD}function pD(){F1(O1,N1)}function gD(e,t){Vn.point=F1,Br(O1=Jn=e,N1=ei=t)}function F1(e,t){var n=e-Jn,i=t-ei,r=De(n*n+i*i);Hu+=r*(Jn+e)/2,qu+=r*(ei+t)/2,ta+=r,r=ei*e-Jn*t,Wp+=r*(Jn+e),Gp+=r*(ei+t),ec+=r*3,Br(Jn=e,ei=t)}var Yp=Vn;function Wu(e){this._context=e}Wu.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,at);break}}},result:st};var Zp=new en,Xp,L1,P1,tc,nc,Gu={point:st,lineStart:function(){Gu.point=bD},lineEnd:function(){Xp&&V1(L1,P1),Gu.point=st},polygonStart:function(){Xp=!0},polygonEnd:function(){Xp=null},result:function(){var e=+Zp;return Zp=new en,e}};function bD(e,t){Gu.point=V1,L1=tc=e,P1=nc=t}function V1(e,t){tc-=e,nc-=t,Zp.add(De(tc*tc+nc*nc)),tc=e,nc=t}var Kp=Gu;var $1,Yu,U1,z1,ic=class{constructor(t){this._append=t==null?j1:vD(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==U1||this._append!==Yu){let i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,U1=i,Yu=this._append,z1=this._,this._=r}this._+=z1;break}}}result(){let t=this._;return this._="",t.length?t:null}};function j1(e){let t=1;this._+=e[0];for(let n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vD(e){let t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return j1;if(t!==$1){let n=10**t;$1=t,Yu=function(r){let o=1;this._+=r[0];for(let a=r.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}return Yu}function rc(e,t){let n=3,i=4.5,r,o;function a(s){return s&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Pn(s,r(o))),o.result()}return a.area=function(s){return Pn(s,r(Bp)),Bp.result()},a.measure=function(s){return Pn(s,r(Kp)),Kp.result()},a.bounds=function(s){return Pn(s,r(ea)),ea.result()},a.centroid=function(s){return Pn(s,r(Yp)),Yp.result()},a.projection=function(s){return arguments.length?(r=s==null?(e=null,Ks):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new ic(n)):new Wu(t=s),typeof i!="function"&&o.pointRadius(i),a):t},a.pointRadius=function(s){return arguments.length?(i=typeof s=="function"?s:(o.pointRadius(+s),+s),a):i},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{let c=Math.floor(s);if(!(c>=0))throw new RangeError(`invalid digits: ${s}`);n=c}return t===null&&(o=new ic(n)),a},a.projection(e).digits(n).context(t)}function oc(e){return{stream:na(e)}}function na(e){return function(t){var n=new Qp;for(var i in e)n[i]=e[i];return n.stream=t,n}}function Qp(){}Qp.prototype={constructor:Qp,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Jp(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),i!=null&&e.clipExtent(null),Pn(n,e.stream(ea)),t(ea.result()),i!=null&&e.clipExtent(i),e}function ac(e,t,n){return Jp(e,function(i){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),s=+t[0][0]+(r-a*(i[1][0]+i[0][0]))/2,c=+t[0][1]+(o-a*(i[1][1]+i[0][1]))/2;e.scale(150*a).translate([s,c])},n)}function Xu(e,t,n){return ac(e,[[0,0],t],n)}function Zu(e,t,n){return Jp(e,function(i){var r=+t,o=r/(i[1][0]-i[0][0]),a=(r-o*(i[1][0]+i[0][0]))/2,s=-o*i[0][1];e.scale(150*o).translate([a,s])},n)}function Ku(e,t,n){return Jp(e,function(i){var r=+t,o=r/(i[1][1]-i[0][1]),a=-o*i[0][0],s=(r-o*(i[1][1]+i[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var B1=16,yD=W(30*Se);function eg(e,t){return+t?xD(e,t):_D(e)}function _D(e){return na({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function xD(e,t){function n(i,r,o,a,s,c,l,u,f,d,h,m,p,g){var _=l-i,y=u-r,w=_*_+y*y;if(w>4*t&&p--){var b=a+d,M=s+h,x=c+m,S=De(b*b+M*M+x*x),T=Ue(x/=S),A=ue(ue(x)-1)<Y||ue(o-f)<Y?(o+f)/2:wt(M,b),R=e(A,T),k=R[0],L=R[1],F=k-i,P=L-r,C=y*F-_*P;(C*C/w>t||ue((_*F+y*P)/w-.5)>.3||a*d+s*h+c*m<yD)&&(n(i,r,o,a,s,c,k,L,A,b/=S,M/=S,x,p,g),g.point(k,L),n(k,L,A,b,M,x,l,u,f,d,h,m,p,g))}}return function(i){var r,o,a,s,c,l,u,f,d,h,m,p,g={point:_,lineStart:y,lineEnd:b,polygonStart:function(){i.polygonStart(),g.lineStart=M},polygonEnd:function(){i.polygonEnd(),g.lineStart=y}};function _(T,A){T=e(T,A),i.point(T[0],T[1])}function y(){f=NaN,g.point=w,i.lineStart()}function w(T,A){var R=Qn([T,A]),k=e(T,A);n(f,d,u,h,m,p,f=k[0],d=k[1],u=T,h=R[0],m=R[1],p=R[2],B1,i),i.point(f,d)}function b(){g.point=_,i.lineEnd()}function M(){y(),g.point=x,g.lineEnd=S}function x(T,A){w(r=T,A),o=f,a=d,s=h,c=m,l=p,g.point=w}function S(){n(f,d,u,h,m,p,o,a,r,s,c,l,B1,i),g.lineEnd=b,b()}return g}}var wD=na({point:function(e,t){this.stream.point(e*Se,t*Se)}});function CD(e){return na({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}function MD(e,t,n,i,r){function o(a,s){return a*=i,s*=r,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*i,(n-s)/e*r]},o}function H1(e,t,n,i,r,o){if(!o)return MD(e,t,n,i,r);var a=W(o),s=q(o),c=a*e,l=s*e,u=a/e,f=s/e,d=(s*n-a*t)/e,h=(s*t+a*n)/e;function m(p,g){return p*=i,g*=r,[c*p-l*g+t,n-l*p-c*g]}return m.invert=function(p,g){return[i*(u*p-f*g+d),r*(h-f*p-u*g)]},m}function Ct(e){return tg(function(){return e})()}function tg(e){var t,n=150,i=480,r=250,o=0,a=0,s=0,c=0,l=0,u,f=0,d=1,h=1,m=null,p=Vp,g=null,_,y,w,b=Ks,M=.5,x,S,T,A,R;function k(C){return T(C[0]*Se,C[1]*Se)}function L(C){return C=T.invert(C[0],C[1]),C&&[C[0]*Ke,C[1]*Ke]}k.stream=function(C){return A&&R===C?A:A=wD(CD(u)(p(x(b(R=C)))))},k.preclip=function(C){return arguments.length?(p=C,m=void 0,P()):p},k.postclip=function(C){return arguments.length?(b=C,g=_=y=w=null,P()):b},k.clipAngle=function(C){return arguments.length?(p=+C?k1(m=C*Se):(m=null,Vp),P()):m*Ke},k.clipExtent=function(C){return arguments.length?(b=C==null?(g=_=y=w=null,Ks):Qo(g=+C[0][0],_=+C[0][1],y=+C[1][0],w=+C[1][1]),P()):g==null?null:[[g,_],[y,w]]},k.scale=function(C){return arguments.length?(n=+C,F()):n},k.translate=function(C){return arguments.length?(i=+C[0],r=+C[1],F()):[i,r]},k.center=function(C){return arguments.length?(o=C[0]%360*Se,a=C[1]%360*Se,F()):[o*Ke,a*Ke]},k.rotate=function(C){return arguments.length?(s=C[0]%360*Se,c=C[1]%360*Se,l=C.length>2?C[2]%360*Se:0,F()):[s*Ke,c*Ke,l*Ke]},k.angle=function(C){return arguments.length?(f=C%360*Se,F()):f*Ke},k.reflectX=function(C){return arguments.length?(d=C?-1:1,F()):d<0},k.reflectY=function(C){return arguments.length?(h=C?-1:1,F()):h<0},k.precision=function(C){return arguments.length?(x=eg(S,M=C*C),P()):De(M)},k.fitExtent=function(C,$){return ac(k,C,$)},k.fitSize=function(C,$){return Xu(k,C,$)},k.fitWidth=function(C,$){return Zu(k,C,$)},k.fitHeight=function(C,$){return Ku(k,C,$)};function F(){var C=H1(n,0,0,d,h,f).apply(null,t(o,a)),$=H1(n,i-C[0],r-C[1],d,h,f);return u=Lp(s,c,l),S=Xs(t,$),T=Xs(u,S),x=eg(S,M),P()}function P(){return A=R=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&L,F()}}function ia(e){var t=0,n=ne/3,i=tg(e),r=i(t,n);return r.parallels=function(o){return arguments.length?i(t=o[0]*Se,n=o[1]*Se):[t*Ke,n*Ke]},r}function q1(e){var t=W(e);function n(i,r){return[i*t,q(r)/t]}return n.invert=function(i,r){return[i/t,Ue(r*t)]},n}function W1(e,t){var n=q(e),i=(n+q(t))/2;if(ue(i)<Y)return q1(e);var r=1+n*(2*i-n),o=De(r)/i;function a(s,c){var l=De(r-2*i*q(c))/i;return[l*q(s*=i),o-l*W(s)]}return a.invert=function(s,c){var l=o-c,u=wt(s,ue(l))*Tt(l);return l*i<0&&(u-=ne*Tt(s)*Tt(l)),[u/i,Ue((r-(s*s+l*l)*i*i)/(2*i))]},a}function Ki(){return ia(W1).scale(155.424).center([0,33.6442])}function sc(){return Ki().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function SD(e){var t=e.length;return{point:function(n,i){for(var r=-1;++r<t;)e[r].point(n,i)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function ng(){var e,t,n=sc(),i,r=Ki().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ki().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,l={point:function(d,h){c=[d,h]}};function u(d){var h=d[0],m=d[1];return c=null,i.point(h,m),c||(o.point(h,m),c)||(s.point(h,m),c)}u.invert=function(d){var h=n.scale(),m=n.translate(),p=(d[0]-m[0])/h,g=(d[1]-m[1])/h;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?r:g>=.166&&g<.234&&p>=-.214&&p<-.115?a:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=SD([n.stream(t=d),r.stream(d),a.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),r.precision(d),a.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),r.scale(d*.35),a.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),m=+d[0],p=+d[1];return i=n.translate(d).clipExtent([[m-.455*h,p-.238*h],[m+.455*h,p+.238*h]]).stream(l),o=r.translate([m-.307*h,p+.201*h]).clipExtent([[m-.425*h+Y,p+.12*h+Y],[m-.214*h-Y,p+.234*h-Y]]).stream(l),s=a.translate([m-.205*h,p+.212*h]).clipExtent([[m-.214*h+Y,p+.166*h+Y],[m-.115*h-Y,p+.234*h-Y]]).stream(l),f()},u.fitExtent=function(d,h){return ac(u,d,h)},u.fitSize=function(d,h){return Xu(u,d,h)},u.fitWidth=function(d,h){return Zu(u,d,h)},u.fitHeight=function(d,h){return Ku(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function Qu(e){return function(t,n){var i=W(t),r=W(n),o=e(i*r);return o===1/0?[2,0]:[o*r*q(t),o*q(n)]}}function ti(e){return function(t,n){var i=De(t*t+n*n),r=e(i),o=q(r),a=W(r);return[wt(t*o,i*a),Ue(i&&n*o/i)]}}var ig=Qu(function(e){return De(2/(1+e))});ig.invert=ti(function(e){return 2*Ue(e/2)});function rg(){return Ct(ig).scale(124.75).clipAngle(180-.001)}var og=Qu(function(e){return(e=Nu(e))&&e/q(e)});og.invert=ti(function(e){return e});function ag(){return Ct(og).scale(79.4188).clipAngle(180-.001)}function ra(e,t){return[e,jr(Xo((Me+t)/2))]}ra.invert=function(e,t){return[e,2*xn(Ru(t))-Me]};function sg(){return cg(ra).scale(961/at)}function cg(e){var t=Ct(e),n=t.center,i=t.scale,r=t.translate,o=t.clipExtent,a=null,s,c,l;t.scale=function(f){return arguments.length?(i(f),u()):i()},t.translate=function(f){return arguments.length?(r(f),u()):r()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=c=l=null:(a=+f[0][0],s=+f[0][1],c=+f[1][0],l=+f[1][1]),u()):a==null?null:[[a,s],[c,l]]};function u(){var f=ne*i(),d=t(x1(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===ra?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,c),l]]:[[a,Math.max(d[1]-f,s)],[c,Math.min(d[1]+f,l)]])}return u()}function Ju(e){return Xo((Me+e)/2)}function G1(e,t){var n=W(e),i=e===t?q(e):jr(n/W(t))/jr(Ju(t)/Ju(e)),r=n*Ou(Ju(e),i)/i;if(!i)return ra;function o(a,s){r>0?s<-Me+Y&&(s=-Me+Y):s>Me-Y&&(s=Me-Y);var c=r/Ou(Ju(s),i);return[c*q(i*a),r-c*W(i*a)]}return o.invert=function(a,s){var c=r-s,l=Tt(i)*De(a*a+c*c),u=wt(a,ue(c))*Tt(c);return c*i<0&&(u-=ne*Tt(a)*Tt(c)),[u/i,2*xn(Ou(r/l,1/i))-Me]},o}function lg(){return ia(G1).scale(109.5).parallels([30,30])}function oa(e,t){return[e,t]}oa.invert=oa;function ug(){return Ct(oa).scale(152.63)}function Y1(e,t){var n=W(e),i=e===t?q(e):(n-W(t))/(t-e),r=n/i+e;if(ue(i)<Y)return oa;function o(a,s){var c=r-s,l=i*a;return[c*q(l),r-c*W(l)]}return o.invert=function(a,s){var c=r-s,l=wt(a,ue(c))*Tt(c);return c*i<0&&(l-=ne*Tt(a)*Tt(c)),[l/i,r-Tt(i)*De(a*a+c*c)]},o}function dg(){return ia(Y1).scale(131.154).center([0,13.9389])}var cc=1.340264,lc=-.081106,uc=893e-6,dc=.003796,ed=De(3)/2,kD=12;function fg(e,t){var n=Ue(ed*q(t)),i=n*n,r=i*i*i;return[e*W(n)/(ed*(cc+3*lc*i+r*(7*uc+9*dc*i))),n*(cc+lc*i+r*(uc+dc*i))]}fg.invert=function(e,t){for(var n=t,i=n*n,r=i*i*i,o=0,a,s,c;o<kD&&(s=n*(cc+lc*i+r*(uc+dc*i))-t,c=cc+3*lc*i+r*(7*uc+9*dc*i),n-=a=s/c,i=n*n,r=i*i*i,!(ue(a)<Du));++o);return[ed*e*(cc+3*lc*i+r*(7*uc+9*dc*i))/W(n),Ue(q(n)/ed)]};function hg(){return Ct(fg).scale(177.158)}function mg(e,t){var n=W(t),i=W(e)*n;return[n*q(e)/i,q(t)/i]}mg.invert=ti(xn);function pg(){return Ct(mg).scale(144.049).clipAngle(60)}function gg(e,t){return[W(t)*q(e),q(t)]}gg.invert=ti(Ue);function bg(){return Ct(gg).scale(249.5).clipAngle(90+Y)}function vg(e,t){var n=W(t),i=1+W(e)*n;return[n*q(e)/i,q(t)/i]}vg.invert=ti(function(e){return 2*xn(e)});function yg(){return Ct(vg).scale(250).clipAngle(142)}function _g(e,t){return[jr(Xo((Me+t)/2)),-e]}_g.invert=function(e,t){return[-t,2*xn(Ru(e))-Me]};function xg(){var e=cg(_g),t=e.center,n=e.rotate;return e.center=function(i){return arguments.length?t([-i[1],i[0]]):(i=t(),[i[1],-i[0]])},e.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function qe(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var hc=Symbol("implicit");function Hr(){var e=new Lt,t=[],n=[],i=hc;function r(o){let a=e.get(o);if(a===void 0){if(i!==hc)return i;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return r.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Lt;for(let a of o)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(o){return arguments.length?(n=Array.from(o),r):n.slice()},r.unknown=function(o){return arguments.length?(i=o,r):i},r.copy=function(){return Hr(t,n).unknown(i)},qe.apply(r,arguments),r}function Qi(){var e=Hr().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,o,a,s=!1,c=0,l=0,u=.5;delete e.unknown;function f(){var d=t().length,h=r<i,m=h?r:i,p=h?i:r;o=(p-m)/Math.max(1,d-c+l*2),s&&(o=Math.floor(o)),m+=(p-m-o*(d-c))*u,a=o*(1-c),s&&(m=Math.round(m),a=Math.round(a));var g=Rr(d).map(function(_){return m+o*_});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([i,r]=d,i=+i,r=+r,f()):[i,r]},e.rangeRound=function(d){return[i,r]=d,i=+i,r=+r,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(c=Math.min(1,l=+d),f()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),f()):c},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return Qi(t(),[i,r]).round(s).paddingInner(c).paddingOuter(l).align(u)},qe.apply(f(),arguments)}function X1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X1(t())},e}function wg(){return X1(Qi.apply(null,arguments).paddingInner(1))}function Cg(e){return function(){return e}}function aa(e){return+e}var Z1=[0,1];function Ht(e){return e}function Mg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cg(isNaN(t)?NaN:.5)}function ID(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function ED(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=Mg(r,i),o=n(a,o)):(i=Mg(i,r),o=n(o,a)),function(s){return o(i(s))}}function TD(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Mg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var c=Ar(e,s,1,i)-1;return o[c](r[c](s))}}function ni(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qr(){var e=Z1,t=Z1,n=Ln,i,r,o,a=Ht,s,c,l;function u(){var d=Math.min(e.length,t.length);return a!==Ht&&(a=ID(e[0],e[d-1])),s=d>2?TD:ED,c=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(c||(c=s(e.map(i),t,n)))(i(a(d)))}return f.invert=function(d){return a(r((l||(l=s(t,e.map(i),Oe)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,aa),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Vr,u()},f.clamp=function(d){return arguments.length?(a=d?!0:Ht,u()):a!==Ht},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return i=d,r=h,u()}}function mc(){return qr()(Ht,Ht)}function Sg(e,t,n,i){var r=Po(e,t,n),o;switch(i=Kn(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(o=Dp(r,a))&&(i.precision=o),Au(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=Rp(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=Ap(r))&&(i.precision=o-(i.type==="%")*2);break}}return _n(i)}function Si(e){var t=e.domain;return e.ticks=function(n){var i=t();return gi(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return Sg(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,o=i.length-1,a=i[r],s=i[o],c,l,u=10;for(s<a&&(l=a,a=s,s=l,l=r,r=o,o=l);u-- >0;){if(l=Ss(a,s,n),l===c)return i[r]=a,i[o]=s,t(i);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function Wr(){var e=mc();return e.copy=function(){return ni(e,Wr())},qe.apply(e,arguments),Si(e)}function pc(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,aa),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return pc(e).unknown(t)},e=arguments.length?Array.from(e,aa):[0,1],Si(n)}function gc(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],o=e[i],a;return o<r&&(a=n,n=i,i=a,a=r,r=o,o=a),e[n]=t.floor(r),e[i]=t.ceil(o),e}function K1(e){return Math.log(e)}function Q1(e){return Math.exp(e)}function AD(e){return-Math.log(-e)}function DD(e){return-Math.exp(-e)}function RD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OD(e){return e===10?RD:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ND(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function J1(e){return(t,n)=>-e(-t,n)}function kg(e){let t=e(K1,Q1),n=t.domain,i=10,r,o;function a(){return r=ND(i),o=OD(i),n()[0]<0?(r=J1(r),o=J1(o),e(AD,DD)):e(K1,Q1),t}return t.base=function(s){return arguments.length?(i=+s,a()):i},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{let c=n(),l=c[0],u=c[c.length-1],f=u<l;f&&([l,u]=[u,l]);let d=r(l),h=r(u),m,p,g=s==null?10:+s,_=[];if(!(i%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(m=1;m<i;++m)if(p=d<0?m/o(-d):m*o(d),!(p<l)){if(p>u)break;_.push(p)}}else for(;d<=h;++d)for(m=i-1;m>=1;--m)if(p=d>0?m/o(-d):m*o(d),!(p<l)){if(p>u)break;_.push(p)}_.length*2<g&&(_=gi(l,u,g))}else _=gi(d,h,Math.min(h-d,g)).map(o);return f?_.reverse():_},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Kn(c)).precision==null&&(c.trim=!0),c=_n(c)),s===1/0)return c;let l=Math.max(1,i*s/t.ticks().length);return u=>{let f=u/o(Math.round(r(u)));return f*i<i-.5&&(f*=i),f<=l?c(u):""}},t.nice=()=>n(gc(n(),{floor:s=>o(Math.floor(r(s))),ceil:s=>o(Math.ceil(r(s)))})),t}function bc(){let e=kg(qr()).domain([1,10]);return e.copy=()=>ni(e,bc()).base(e.base()),qe.apply(e,arguments),e}function ew(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ig(e){var t=1,n=e(ew(t),tw(t));return n.constant=function(i){return arguments.length?e(ew(t=+i),tw(t)):t},Si(n)}function vc(){var e=Ig(qr());return e.copy=function(){return ni(e,vc()).constant(e.constant())},qe.apply(e,arguments)}function nw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LD(e){return e<0?-e*e:e*e}function Eg(e){var t=e(Ht,Ht),n=1;function i(){return n===1?e(Ht,Ht):n===.5?e(FD,LD):e(nw(n),nw(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Si(t)}function yc(){var e=Eg(qr());return e.copy=function(){return ni(e,yc()).exponent(e.exponent())},qe.apply(e,arguments),e}function _c(){var e=[],t=[],n=[],i;function r(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=Xm(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?i:t[Ar(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ve),r()},o.range=function(a){return arguments.length?(t=Array.from(a),r()):t.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.quantiles=function(){return n.slice()},o.copy=function(){return _c().domain(e).range(t).unknown(i)},qe.apply(o,arguments)}function xc(){var e=[.5],t=[0,1],n,i=1;function r(o){return o!=null&&o<=o?t[Ar(e,o,0,i)]:n}return r.domain=function(o){return arguments.length?(e=Array.from(o),i=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(o){return arguments.length?(t=Array.from(o),i=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},r.unknown=function(o){return arguments.length?(n=o,r):n},r.copy=function(){return xc().domain(e).range(t).unknown(n)},qe.apply(r,arguments)}var Tg=new Date,Ag=new Date;function Te(e,t,n,i){function r(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return r.floor=o=>(e(o=new Date(+o)),o),r.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),r.round=o=>{let a=r(o),s=r.ceil(o);return o-a<s-o?a:s},r.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),r.range=(o,a,s)=>{let c=[];if(o=r.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return c;let l;do c.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return c},r.filter=o=>Te(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(r.count=(o,a)=>(Tg.setTime(+o),Ag.setTime(+a),e(Tg),e(Ag),Math.floor(n(Tg,Ag))),r.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?r.filter(i?a=>i(a)%o===0:a=>r.count(0,a)%o===0):r)),r}var wc=Te(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Te(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wc);var kq=wc.range;var ct=Te(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),iw=ct.range;var ki=Te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),PD=ki.range,Ii=Te(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),VD=Ii.range;var Ei=Te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),$D=Ei.range,Ti=Te(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),UD=Ti.range;var wn=Te(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),zD=wn.range,Xr=Te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),jD=Xr.range,Zr=Te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),BD=Zr.range;function Kr(e){return Te(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var nn=Kr(0),Ji=Kr(1),td=Kr(2),nd=Kr(3),ri=Kr(4),id=Kr(5),rd=Kr(6),ow=nn.range,HD=Ji.range,qD=td.range,WD=nd.range,GD=ri.range,YD=id.range,XD=rd.range;function Qr(e){return Te(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var rn=Qr(0),er=Qr(1),od=Qr(2),ad=Qr(3),oi=Qr(4),sd=Qr(5),cd=Qr(6),aw=rn.range,ZD=er.range,KD=od.range,QD=ad.range,JD=oi.range,eR=sd.range,tR=cd.range;var Ai=Te(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),nR=Ai.range,Di=Te(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),iR=Di.range;var At=Te(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());At.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Te(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});var rR=At.range,Dt=Te(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Te(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});var oR=Dt.range;function cw(e,t,n,i,r,o){let a=[[ct,1,1e3],[ct,5,5*1e3],[ct,15,15*1e3],[ct,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[r,1,36e5],[r,3,3*36e5],[r,6,6*36e5],[r,12,12*36e5],[i,1,864e5],[i,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function s(l,u,f){let d=u<l;d&&([l,u]=[u,l]);let h=f&&typeof f.range=="function"?f:c(l,u,f),m=h?h.range(l,+u+1):[];return d?m.reverse():m}function c(l,u,f){let d=Math.abs(u-l)/f,h=hi(([,,g])=>g).right(a,d);if(h===a.length)return e.every(Po(l/31536e6,u/31536e6,f));if(h===0)return wc.every(Math.max(Po(l,u,f),1));let[m,p]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(p)}return[s,c]}var[Dg,Rg]=cw(Dt,Di,rn,Zr,Ti,Ii),[Og,Ng]=cw(At,Ai,nn,wn,Ei,ki);function Fg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pg(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Sc(r),u=kc(r),f=Sc(o),d=kc(o),h=Sc(a),m=kc(a),p=Sc(s),g=kc(s),_=Sc(c),y=kc(c),w={a:oe,A:ie,b:te,B:fe,c:null,d:mw,e:mw,f:TR,g:$R,G:zR,H:kR,I:IR,j:ER,L:yw,m:AR,M:DR,p:N,q:j,Q:bw,s:vw,S:RR,u:OR,U:NR,V:FR,w:LR,W:PR,x:null,X:null,y:VR,Y:UR,Z:jR,"%":gw},b={a:B,A:H,b:Q,B:ae,c:null,d:pw,e:pw,f:WR,g:n6,G:r6,H:BR,I:HR,j:qR,L:xw,m:GR,M:YR,p:se,q:Re,Q:bw,s:vw,S:XR,u:ZR,U:KR,V:QR,w:JR,W:e6,x:null,X:null,y:t6,Y:i6,Z:o6,"%":gw},M={a:R,A:k,b:L,B:F,c:P,d:fw,e:fw,f:wR,g:dw,G:uw,H:hw,I:hw,j:vR,L:xR,m:bR,M:yR,p:A,q:gR,Q:MR,s:SR,S:_R,u:dR,U:fR,V:hR,w:uR,W:mR,x:C,X:$,y:dw,Y:uw,Z:pR,"%":CR};w.x=x(n,w),w.X=x(i,w),w.c=x(t,w),b.x=x(n,b),b.X=x(i,b),b.c=x(t,b);function x(I,V){return function(z){var E=[],ve=-1,K=0,Ae=I.length,_e,tt,un;for(z instanceof Date||(z=new Date(+z));++ve<Ae;)I.charCodeAt(ve)===37&&(E.push(I.slice(K,ve)),(tt=lw[_e=I.charAt(++ve)])!=null?_e=I.charAt(++ve):tt=_e==="e"?" ":"0",(un=V[_e])&&(_e=un(z,tt)),E.push(_e),K=ve+1);return E.push(I.slice(K,ve)),E.join("")}}function S(I,V){return function(z){var E=Mc(1900,void 0,1),ve=T(E,I,z+="",0),K,Ae;if(ve!=z.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(V&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(K=Lg(Mc(E.y,0,1)),Ae=K.getUTCDay(),K=Ae>4||Ae===0?er.ceil(K):er(K),K=Xr.offset(K,(E.V-1)*7),E.y=K.getUTCFullYear(),E.m=K.getUTCMonth(),E.d=K.getUTCDate()+(E.w+6)%7):(K=Fg(Mc(E.y,0,1)),Ae=K.getDay(),K=Ae>4||Ae===0?Ji.ceil(K):Ji(K),K=wn.offset(K,(E.V-1)*7),E.y=K.getFullYear(),E.m=K.getMonth(),E.d=K.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),Ae="Z"in E?Lg(Mc(E.y,0,1)).getUTCDay():Fg(Mc(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(Ae+5)%7:E.w+E.U*7-(Ae+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,Lg(E)):Fg(E)}}function T(I,V,z,E){for(var ve=0,K=V.length,Ae=z.length,_e,tt;ve<K;){if(E>=Ae)return-1;if(_e=V.charCodeAt(ve++),_e===37){if(_e=V.charAt(ve++),tt=M[_e in lw?V.charAt(ve++):_e],!tt||(E=tt(I,z,E))<0)return-1}else if(_e!=z.charCodeAt(E++))return-1}return E}function A(I,V,z){var E=l.exec(V.slice(z));return E?(I.p=u.get(E[0].toLowerCase()),z+E[0].length):-1}function R(I,V,z){var E=h.exec(V.slice(z));return E?(I.w=m.get(E[0].toLowerCase()),z+E[0].length):-1}function k(I,V,z){var E=f.exec(V.slice(z));return E?(I.w=d.get(E[0].toLowerCase()),z+E[0].length):-1}function L(I,V,z){var E=_.exec(V.slice(z));return E?(I.m=y.get(E[0].toLowerCase()),z+E[0].length):-1}function F(I,V,z){var E=p.exec(V.slice(z));return E?(I.m=g.get(E[0].toLowerCase()),z+E[0].length):-1}function P(I,V,z){return T(I,t,V,z)}function C(I,V,z){return T(I,n,V,z)}function $(I,V,z){return T(I,i,V,z)}function oe(I){return a[I.getDay()]}function ie(I){return o[I.getDay()]}function te(I){return c[I.getMonth()]}function fe(I){return s[I.getMonth()]}function N(I){return r[+(I.getHours()>=12)]}function j(I){return 1+~~(I.getMonth()/3)}function B(I){return a[I.getUTCDay()]}function H(I){return o[I.getUTCDay()]}function Q(I){return c[I.getUTCMonth()]}function ae(I){return s[I.getUTCMonth()]}function se(I){return r[+(I.getUTCHours()>=12)]}function Re(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var V=x(I+="",w);return V.toString=function(){return I},V},parse:function(I){var V=S(I+="",!1);return V.toString=function(){return I},V},utcFormat:function(I){var V=x(I+="",b);return V.toString=function(){return I},V},utcParse:function(I){var V=S(I+="",!0);return V.toString=function(){return I},V}}}var lw={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,sR=/^%/,cR=/[\\^$*+?|[\]().{}]/g;function ge(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function lR(e){return e.replace(cR,"\\$&")}function Sc(e){return new RegExp("^(?:"+e.map(lR).join("|")+")","i")}function kc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function uR(e,t,n){var i=lt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function dR(e,t,n){var i=lt.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function fR(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function hR(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function mR(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function uw(e,t,n){var i=lt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function dw(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function pR(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function gR(e,t,n){var i=lt.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function bR(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function fw(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function vR(e,t,n){var i=lt.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function hw(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function yR(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function _R(e,t,n){var i=lt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function xR(e,t,n){var i=lt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function wR(e,t,n){var i=lt.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function CR(e,t,n){var i=sR.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function MR(e,t,n){var i=lt.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function SR(e,t,n){var i=lt.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function mw(e,t){return ge(e.getDate(),t,2)}function kR(e,t){return ge(e.getHours(),t,2)}function IR(e,t){return ge(e.getHours()%12||12,t,2)}function ER(e,t){return ge(1+wn.count(At(e),e),t,3)}function yw(e,t){return ge(e.getMilliseconds(),t,3)}function TR(e,t){return yw(e,t)+"000"}function AR(e,t){return ge(e.getMonth()+1,t,2)}function DR(e,t){return ge(e.getMinutes(),t,2)}function RR(e,t){return ge(e.getSeconds(),t,2)}function OR(e){var t=e.getDay();return t===0?7:t}function NR(e,t){return ge(nn.count(At(e)-1,e),t,2)}function _w(e){var t=e.getDay();return t>=4||t===0?ri(e):ri.ceil(e)}function FR(e,t){return e=_w(e),ge(ri.count(At(e),e)+(At(e).getDay()===4),t,2)}function LR(e){return e.getDay()}function PR(e,t){return ge(Ji.count(At(e)-1,e),t,2)}function VR(e,t){return ge(e.getFullYear()%100,t,2)}function $R(e,t){return e=_w(e),ge(e.getFullYear()%100,t,2)}function UR(e,t){return ge(e.getFullYear()%1e4,t,4)}function zR(e,t){var n=e.getDay();return e=n>=4||n===0?ri(e):ri.ceil(e),ge(e.getFullYear()%1e4,t,4)}function jR(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function pw(e,t){return ge(e.getUTCDate(),t,2)}function BR(e,t){return ge(e.getUTCHours(),t,2)}function HR(e,t){return ge(e.getUTCHours()%12||12,t,2)}function qR(e,t){return ge(1+Xr.count(Dt(e),e),t,3)}function xw(e,t){return ge(e.getUTCMilliseconds(),t,3)}function WR(e,t){return xw(e,t)+"000"}function GR(e,t){return ge(e.getUTCMonth()+1,t,2)}function YR(e,t){return ge(e.getUTCMinutes(),t,2)}function XR(e,t){return ge(e.getUTCSeconds(),t,2)}function ZR(e){var t=e.getUTCDay();return t===0?7:t}function KR(e,t){return ge(rn.count(Dt(e)-1,e),t,2)}function ww(e){var t=e.getUTCDay();return t>=4||t===0?oi(e):oi.ceil(e)}function QR(e,t){return e=ww(e),ge(oi.count(Dt(e),e)+(Dt(e).getUTCDay()===4),t,2)}function JR(e){return e.getUTCDay()}function e6(e,t){return ge(er.count(Dt(e)-1,e),t,2)}function t6(e,t){return ge(e.getUTCFullYear()%100,t,2)}function n6(e,t){return e=ww(e),ge(e.getUTCFullYear()%100,t,2)}function i6(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function r6(e,t){var n=e.getUTCDay();return e=n>=4||n===0?oi(e):oi.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function o6(){return"+0000"}function gw(){return"%"}function bw(e){return+e}function vw(e){return Math.floor(+e/1e3)}var sa,ca,Cw,ai,Mw;Vg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vg(e){return sa=Pg(e),ca=sa.format,Cw=sa.parse,ai=sa.utcFormat,Mw=sa.utcParse,sa}function a6(e){return new Date(e)}function s6(e){return e instanceof Date?+e:+new Date(+e)}function ld(e,t,n,i,r,o,a,s,c,l){var u=mc(),f=u.invert,d=u.domain,h=l(".%L"),m=l(":%S"),p=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),y=l("%b %d"),w=l("%B"),b=l("%Y");function M(x){return(c(x)<x?h:s(x)<x?m:a(x)<x?p:o(x)<x?g:i(x)<x?r(x)<x?_:y:n(x)<x?w:b)(x)}return u.invert=function(x){return new Date(f(x))},u.domain=function(x){return arguments.length?d(Array.from(x,s6)):d().map(a6)},u.ticks=function(x){var S=d();return e(S[0],S[S.length-1],x??10)},u.tickFormat=function(x,S){return S==null?M:l(S)},u.nice=function(x){var S=d();return(!x||typeof x.range!="function")&&(x=t(S[0],S[S.length-1],x??10)),x?d(gc(S,x)):u},u.copy=function(){return ni(u,ld(e,t,n,i,r,o,a,s,c,l))},u}function ud(){return qe.apply(ld(Og,Ng,At,Ai,nn,wn,Ei,ki,ct,ca).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dd(){return qe.apply(ld(Dg,Rg,Dt,Di,rn,Xr,Ti,Ii,ct,ai).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ic(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fd(){var e=0,t=.5,n=1,i=1,r,o,a,s,c,l=Ht,u,f=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+u(p))-o)*(i*p<i*o?s:c),l(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,n]=p,r=u(e=+e),o=u(t=+t),a=u(n=+n),s=r===o?0:.5/(o-r),c=o===a?0:.5/(a-o),i=o<r?-1:1,h):[e,t,n]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(g){var _,y,w;return arguments.length?([_,y,w]=g,l=Xn(p,[_,y,w]),h):[l(0),l(.5),l(1)]}}return h.range=m(Ln),h.rangeRound=m(Vr),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return u=p,r=p(e),o=p(t),a=p(n),s=r===o?0:.5/(o-r),c=o===a?0:.5/(a-o),i=o<r?-1:1,h}}function Ec(){var e=Si(fd()(Ht));return e.copy=function(){return Ic(e,Ec())},fc.apply(e,arguments)}function hd(){var e=kg(fd()).domain([.1,1,10]);return e.copy=function(){return Ic(e,hd()).base(e.base())},fc.apply(e,arguments)}function md(){var e=Ig(fd());return e.copy=function(){return Ic(e,md()).constant(e.constant())},fc.apply(e,arguments)}function pd(){var e=Eg(fd());return e.copy=function(){return Ic(e,pd()).exponent(e.exponent())},fc.apply(e,arguments)}function O(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}var $g=O("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var Ug=O("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var zg=O("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var jg=O("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var Bg=O("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var Hg=O("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var qg=O("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var Wg=O("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Gg=O("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var Yg=O("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Xg=O("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Z=e=>hp(e[e.length-1]);var gd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(O),bd=Z(gd);var vd=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(O),yd=Z(vd);var _d=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(O),xd=Z(_d);var wd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(O),Cd=Z(wd);var Tc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(O),la=Z(Tc);var Md=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(O),Sd=Z(Md);var Ac=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(O),ua=Z(Ac);var kd=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(O),Id=Z(kd);var Ed=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(O),Td=Z(Ed);var Ad=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(O),Dd=Z(Ad);var Rd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(O),Od=Z(Rd);var Nd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(O),Fd=Z(Nd);var Ld=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(O),Pd=Z(Ld);var Vd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(O),$d=Z(Vd);var Ud=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(O),zd=Z(Ud);var jd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(O),Bd=Z(jd);var Hd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(O),qd=Z(Hd);var Wd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(O),Gd=Z(Wd);var Yd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(O),Xd=Z(Yd);var Zd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(O),Kd=Z(Zd);var Qd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(O),Jd=Z(Qd);var ef=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(O),tf=Z(ef);var nf=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(O),rf=Z(nf);var of=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(O),af=Z(of);var sf=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(O),cf=Z(sf);var lf=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(O),uf=Z(lf);var df=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(O),ff=Z(df);function hf(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var mf=Ho(Vt(300,.5,0),Vt(-240,.5,1));var gf=Ho(Vt(-100,.75,.35),Vt(80,1.5,.8)),bf=Ho(Vt(260,.75,.35),Vt(80,1.5,.8)),pf=Vt();function vf(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return pf.h=360*e-100,pf.s=1.5-1.5*t,pf.l=.8-.9*t,pf+""}var yf=vn(),c6=Math.PI/3,l6=Math.PI*2/3;function _f(e){var t;return e=(.5-e)*Math.PI,yf.r=255*(t=Math.sin(e))*t,yf.g=255*(t=Math.sin(e+c6))*t,yf.b=255*(t=Math.sin(e+l6))*t,yf+""}function xf(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function wf(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Cf=wf(O("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Mf=wf(O("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Sf=wf(O("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kf=wf(O("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Zg=Math.cos;var da=Math.min,Dc=Math.sin,be=Math.sqrt;var Jr=Math.PI,ZX=Jr/2,fa=2*Jr;var u6=be(3),Rc={draw(e,t){let n=be(t+da(t/28,.75))*.59436,i=n/2,r=i*u6;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-r,-i),e.lineTo(r,i),e.moveTo(-r,i),e.lineTo(r,-i)}};var ha={draw(e,t){let n=be(t/Jr);e.moveTo(n,0),e.arc(0,0,n,0,fa)}};var Oc={draw(e,t){let n=be(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var Sw=be(1/3),d6=Sw*2,Nc={draw(e,t){let n=be(t/d6),i=n*Sw;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}};var Fc={draw(e,t){let n=be(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}};var Lc={draw(e,t){let n=be(t-da(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}};var Pc={draw(e,t){let n=be(t),i=-n/2;e.rect(i,i,n,n)}};var Vc={draw(e,t){let n=be(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}};var f6=.8908130915292852,kw=Dc(Jr/10)/Dc(7*Jr/10),h6=Dc(fa/10)*kw,m6=-Zg(fa/10)*kw,$c={draw(e,t){let n=be(t*f6),i=h6*n,r=m6*n;e.moveTo(0,-n),e.lineTo(i,r);for(let o=1;o<5;++o){let a=fa*o/5,s=Zg(a),c=Dc(a);e.lineTo(c*n,-s*n),e.lineTo(s*i-c*r,c*i+s*r)}e.closePath()}};var Kg=be(3),Uc={draw(e,t){let n=-be(t/(Kg*3));e.moveTo(0,n*2),e.lineTo(-Kg*n,-n),e.lineTo(Kg*n,-n),e.closePath()}};var p6=be(3),zc={draw(e,t){let n=be(t)*.6824,i=n/2,r=n*p6/2;e.moveTo(0,-n),e.lineTo(r,i),e.lineTo(-r,i),e.closePath()}};var Cn=-.5,Mn=be(3)/2,Qg=1/be(12),g6=(Qg/2+1)*3,jc={draw(e,t){let n=be(t/g6),i=n/2,r=n*Qg,o=i,a=n*Qg+n,s=-o,c=a;e.moveTo(i,r),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(Cn*i-Mn*r,Mn*i+Cn*r),e.lineTo(Cn*o-Mn*a,Mn*o+Cn*a),e.lineTo(Cn*s-Mn*c,Mn*s+Cn*c),e.lineTo(Cn*i+Mn*r,Cn*r-Mn*i),e.lineTo(Cn*o+Mn*a,Cn*a-Mn*o),e.lineTo(Cn*s+Mn*c,Cn*c-Mn*s),e.closePath()}};var ma={draw(e,t){let n=be(t-da(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}};var If=[ha,Oc,Nc,Pc,$c,Uc,jc],Jg=[ha,Lc,ma,zc,Rc,Vc,Fc];function tr(e,t,n){this.k=e,this.x=t,this.y=n}tr.prototype={constructor:tr,scale:function(e){return e===1?this:new tr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new tr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var e0=new tr(1,0,0);t0.prototype=tr.prototype;function t0(e){for(;!e.__zoom;)if(!(e=e.parentNode))return e0;return e.__zoom}function $n(e){return e!=null&&!Number.isNaN(e)}function Rt(e,t){return+$n(t)-+$n(e)||Ve(e,t)}function eo(e,t){return+$n(t)-+$n(e)||bn(e,t)}function Ef(e){return e!=null&&`${e}`!=""}function n0(e){return isFinite(e)?e:NaN}function Bc(e){return e>0&&isFinite(e)?e:NaN}function Tf(e){return e<0&&isFinite(e)?e:NaN}function Af(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;let n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${b6(e.getUTCFullYear(),4)}-${Ri(e.getUTCMonth()+1,2)}-${Ri(e.getUTCDate(),2)}${n||i||r||o?`T${Ri(n,2)}:${Ri(i,2)}${r||o?`:${Ri(r,2)}${o?`.${Ri(o,3)}`:""}`:""}Z`:""}`}function b6(e){return e<0?`-${Ri(-e,6)}`:e>9999?`+${Ri(e,6)}`:Ri(e,4)}function Ri(e,t){return`${e}`.padStart(t,"0")}var v6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Hc(e,t){return v6.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Oi(e){if(e==null)return;let t=e[0],n=e[e.length-1];return bn(t,n)}var ga=1e3,ir=ga*60,rr=ir*60,ci=rr*24,si=ci*7,to=ci*30,nr=ci*365,i0=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ga],["5 seconds",5*ga],["15 seconds",15*ga],["30 seconds",30*ga],["minute",ir],["5 minutes",5*ir],["15 minutes",15*ir],["30 minutes",30*ir],["hour",rr],["3 hours",3*rr],["6 hours",6*rr],["12 hours",12*rr],["day",ci],["2 days",2*ci],["week",si],["2 weeks",2*si],["month",to],["3 months",3*to],["6 months",6*to],["year",nr],["2 years",2*nr],["5 years",5*nr],["10 years",10*nr],["20 years",20*nr],["50 years",50*nr],["100 years",100*nr]],r0=new Map([["second",ga],["minute",ir],["hour",rr],["day",ci],["monday",si],["tuesday",si],["wednesday",si],["thursday",si],["friday",si],["saturday",si],["sunday",si],["week",si],["month",to],["year",nr]]),Ew=new Map([["second",ct],["minute",ki],["hour",Ei],["day",wn],["monday",Ji],["tuesday",td],["wednesday",nd],["thursday",ri],["friday",id],["saturday",rd],["sunday",nn],["week",nn],["month",Ai],["year",At]]),o0=new Map([["second",ct],["minute",Ii],["hour",Ti],["day",Zr],["monday",er],["tuesday",od],["wednesday",ad],["thursday",oi],["friday",sd],["saturday",cd],["sunday",rn],["week",rn],["month",Di],["year",Dt]]),ba=Symbol("intervalDuration"),Rf=Symbol("intervalType");for(let[e,t]of Ew)t[ba]=r0.get(e),t[Rf]="time";for(let[e,t]of o0)t[ba]=r0.get(e),t[Rf]="utc";var qc=[["year",Dt,"utc"],["month",Di,"utc"],["day",Zr,"utc",6*to],["hour",Ti,"utc",3*ci],["minute",Ii,"utc",6*rr],["second",ct,"utc",30*ir]],Df=[["year",At,"time"],["month",Ai,"time"],["day",wn,"time",6*to],["hour",Ei,"time",3*ci],["minute",ki,"time",6*rr],["second",ct,"time",30*ir]],y6=[qc[0],Df[0],qc[1],Df[1],qc[2],Df[2],...qc.slice(3)];function Tw(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1,i=/^(?:(\d+)\s+)/.exec(t);switch(i&&(t=t.slice(i[0].length),n=+i[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let r=o0.get(t);if(!r)throw new Error(`unknown interval: ${e}`);if(n>1&&!r.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function a0(e){return Aw(Tw(e),"time")}function s0(e){return Aw(Tw(e),"utc")}function Aw([e,t],n){let i=(n==="time"?Ew:o0).get(e);return t>1&&(i=i.every(t),i[ba]=r0.get(e)*t,i[Rf]=n),i}function c0(e,t){if(!(t>1))return;let n=e[ba];if(!i0.some(([,r])=>r===n)||n%ci===0&&ci<n&&n<to)return;let[i]=i0[hi(([,r])=>Math.log(r)).center(i0,Math.log(n*t))];return(e[Rf]==="time"?a0:s0)(i)}function Iw(e,t,n){let i=t==="time"?ca:ai;if(n==null)return i(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let r=_6(n);switch(e){case"millisecond":return pa(i(".%L"),i(":%M:%S"),r);case"second":return pa(i(":%S"),i("%-I:%M"),r);case"minute":return pa(i("%-I:%M"),i("%p"),r);case"hour":return pa(i("%-I %p"),i("%b %-d"),r);case"day":return pa(i("%-d"),i("%b"),r);case"month":return pa(i("%b"),i("%Y"),r);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function _6(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function x6(e){return e==="time"?Df:e==="utc"?qc:y6}function Dw(e,t,n){let i=ot(Jl(t,(r,o)=>Math.abs(o-r)));if(i<1e3)return Iw("millisecond","utc",n);for(let[r,o,a,s]of x6(e)){if(i>s||r==="hour"&&!i)break;if(t.every(c=>o.floor(c)>=c))return Iw(r,a,n)}}function pa(e,t,n){return(i,r,o)=>{let a=e(i,r),s=t(i,r),c=r-Oi(o);return r!==c&&o[c]!==void 0&&s===t(o[c],c)?a:n(a,s)}}var Wc=Object.getPrototypeOf(Uint8Array),w6=Object.prototype.toString,l0=Symbol("reindex");function Pe(e,t,n){let i=typeof t;return i==="string"?Rw(e,u0(t),n):i==="function"?Rw(e,t,n):i==="number"||t instanceof Date||i==="boolean"?Ne(e,or(t),n):typeof t?.transform=="function"?Ow(t.transform(e),n):C6(Ow(t,n),e?.[l0])}function C6(e,t){return e!=null&&t?Lf(e,t):e}function Rw(e,t,n){return Ne(e,n?.prototype instanceof Wc?M6(t):t,n)}function Ow(e,t){return t===void 0?et(e):e instanceof t?e:t.prototype instanceof Wc&&!(e instanceof Wc)?t.from(e,f0):t.from(e)}function M6(e){return(t,n)=>f0(e(t,n))}var va=[null],u0=e=>t=>t[e],Of={transform:zt},ze={transform:e=>e};var Nw=()=>1,Fw=()=>!0,Qe=e=>e==null?e:`${e}`,ke=e=>e==null?e:+e;var d0=e=>e?e[0]:void 0,Nf=e=>e?e[1]:void 0;var or=e=>()=>e;function Lw(e){let t=+`${e}`.slice(1)/100;return(n,i)=>bi(n,t,i)}function Ff(e){return e instanceof Wc?e:Ne(e,f0,Float64Array)}function f0(e){return e==null?NaN:Number(e)}function Pw(e){return Ne(e,S6)}function S6(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Hc(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function on(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Ca(e)?[void 0,e]:[e,void 0]}function Je(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function h0(e,t,n){if(e!=null)return Ut(e,t,n)}function Ut(e,t,n){let i=`${e}`.toLowerCase();if(!n.includes(i))throw new Error(`invalid ${t}: ${e}`);return i}function et(e){return e==null||e instanceof Array||e instanceof Wc?e:Array.from(e)}function Ne(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function ar(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Vw({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function m0({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function $w(e){return Vw(e)||m0(e)||e.interval!==void 0}function Un(e){return e?.toString===w6}function ya(e){return Un(e)&&(e.type!==void 0||e.domain!==void 0)}function Gc(e){return Un(e)&&typeof e.transform!="function"}function no(e){return Gc(e)&&e.value===void 0&&e.channel===void 0}function Uw(e,t,n,i=ze){return t===void 0&&n===void 0?(t=0,n=e===void 0?i:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function _a(e,t){return e===void 0&&t===void 0?[d0,Nf]:[e,t]}function zw({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=on(t)),e===void 0&&([e]=on(n)),e}function zt(e){let t=e.length,n=new Uint32Array(t);for(let i=0;i<t;++i)n[i]=i;return n}function Lf(e,t){return Ne(t,n=>e[n],e.constructor)}function jw(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function xa(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bw(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function wa(e){let t;return[{transform:()=>t,label:Ni(e)},n=>t=n]}function sr(e){return e==null?[e]:wa(e)}function Ni(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Hw(e,t){return{transform(n){let i=e.transform(n),r=t.transform(n);return ut(i)||ut(r)?Ne(i,(o,a)=>new Date((+i[a]+ +r[a])/2)):Ne(i,(o,a)=>(+i[a]+ +r[a])/2,Float64Array)},label:e.label}}function Yc(e,t){let n=p0(t?.interval,t?.type);return n?Ne(e,n):e}function p0(e,t){let n=Pf(e,t);return n&&(i=>$n(i)?n.floor(i):i)}function Pf(e,t){if(e!=null){if(typeof e=="number")return k6(e);if(typeof e=="string")return(t==="time"?a0:s0)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function k6(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);let t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,i=1)=>(n*t+Math.floor(i))/t,range:(n,i)=>Rr(Math.ceil(n*t),i*t).map(r=>r/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,i=1)=>n+t*Math.floor(i),range:(n,i)=>Rr(Math.ceil(n/t),i/t).map(r=>r*t)}}function cr(e,t){if(e=Pf(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function qw(e,t){if(e=cr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Ww(e){return typeof e?.range=="function"}function lr(e){return e===void 0||Gc(e)?e:{value:e}}function Gw(e){return e==null?null:{transform:t=>Pe(t,e,Float64Array),label:Ni(e)}}function Sn(e){return e&&typeof e[Symbol.iterator]=="function"}function Vf(e){for(let t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function g0(e){for(let t of e){if(t==null)continue;let n=typeof t;return n==="string"||n==="boolean"}}function ut(e){for(let t of e)if(t!=null)return t instanceof Date}function Yw(e){for(let t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Hc(t)}function Xw(e){for(let t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Zw(e){for(let t of e)if(t!=null)return typeof t=="number"}function $f(e,t){let n;for(let i of e)if(i!=null){if(!t(i))return!1;n=!0}return n}var I6=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ca(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||I6.has(e))}function Kw(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function dt(e){return e==null||io(e)}function io(e){return/^\s*none\s*$/i.test(e)}function Qw(e){return/^\s*round\s*$/i.test(e)}function Uf(e,t){return h0(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ma(e="middle"){return Uf(e,"frameAnchor")}function Jw(e={},...t){let n=e;for(let i of t)for(let r in i)if(n[r]===void 0){let o=i[r];n===e?n=D(v({},n),{[r]:o}):n[r]=o}return n}function E6(e){console.warn("named iterables are deprecated; please use an object instead");let t=new Set;return Object.fromEntries(Array.from(e,n=>{let{name:i}=n;if(i==null)throw new Error("missing name");let r=`${i}`;if(r==="__proto__")throw new Error(`illegal name: ${r}`);if(t.has(r))throw new Error(`duplicate name: ${r}`);return t.add(r),[i,n]}))}function b0(e){return Sn(e)?E6(e):e}function zf(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Ut(e,"clip",["frame","sphere"])),e}var kn=Symbol("position"),an=Symbol("color"),ro=Symbol("radius"),oo=Symbol("length"),ao=Symbol("opacity"),Sa=Symbol("symbol"),eC=Symbol("projection"),Ie=new Map([["x",kn],["y",kn],["fx",kn],["fy",kn],["r",ro],["color",an],["opacity",ao],["symbol",Sa],["length",oo],["projection",eC]]);function tC(e){return e===kn||e===eC}function nC(e){return e===kn||e===ro||e===oo||e===ao}var T6=Math.sqrt(3),A6=2/T6,D6={draw(e,t){let n=Math.sqrt(t/Math.PI),i=n*A6,r=i/2;e.moveTo(0,i),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(0,-i),e.lineTo(-n,-r),e.lineTo(-n,r),e.closePath()}},iC=new Map([["asterisk",Rc],["circle",ha],["cross",Oc],["diamond",Nc],["diamond2",Fc],["hexagon",D6],["plus",Lc],["square",Pc],["square2",Vc],["star",$c],["times",ma],["triangle",Uc],["triangle2",zc],["wye",jc]]);function rC(e){return e&&typeof e.draw=="function"}function oC(e){return rC(e)?!0:typeof e!="string"?!1:iC.has(e.toLowerCase())}function ka(e){if(e==null||rC(e))return e;let t=iC.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function Ia(s={},a){var c=s,{filter:e,sort:t,reverse:n,transform:i,initializer:r}=c,o=U(c,["filter","sort","reverse","transform","initializer"]);if(i===void 0&&(e!=null&&(i=aC(e)),t!=null&&!no(t)&&(i=v0(i,cC(t))),n&&(i=v0(i,sC))),a!=null&&r!=null)throw new Error("transforms cannot be applied after initializers");return D(v(v({},o),(t===null||no(t))&&{sort:t}),{transform:v0(i,a)})}function so(a={},o){var s=a,{filter:e,sort:t,reverse:n,initializer:i}=s,r=U(s,["filter","sort","reverse","initializer"]);return i===void 0&&(e!=null&&(i=aC(e)),t!=null&&!no(t)&&(i=y0(i,cC(t))),n&&(i=y0(i,sC))),D(v(v({},r),(t===null||no(t))&&{sort:t}),{initializer:y0(i,o)})}function v0(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,i,r){return{data:n,facets:i}=e.call(this,n,i,r),t.call(this,et(n),i,r)}}function y0(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,i,r,...o){let a,s,c,l,u,f;return{data:s=n,facets:c=i,channels:a}=e.call(this,n,i,r,...o),{data:u=s,facets:f=c,channels:l}=t.call(this,s,c,v(v({},r),a),...o),{data:u,facets:f,channels:v(v({},a),l)}}}function aC(e){return(t,n)=>{let i=Pe(t,e);return{data:t,facets:n.map(r=>r.filter(o=>i[o]))}}}function sC(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function cC(e){return(typeof e=="function"&&e.length!==1?R6:O6)(e)}function R6(e){return(t,n)=>{let i=(r,o)=>e(t[r],t[o]);return{data:t,facets:n.map(r=>r.slice().sort(i))}}}function O6(e){let t,n;({channel:t,value:e,order:n}=v({},lr(e)));let i=t?.startsWith("-");if(i&&(t=t.slice(1)),n===void 0&&(n=i?eo:Rt),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Rt;break;case"descending":n=eo;break;default:throw new Error(`invalid order: ${n}`)}return(r,o,a)=>{let s;if(t===void 0)s=Pe(r,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[t],!s)return{};s=s.value}let c=(l,u)=>n(s[l],s[u]);return{data:r,facets:o.map(l=>l.slice().sort(c))}}}function w0(e={y:"count"},t={}){let{x:n=ze}=t;if(n==null)throw new Error("missing channel: x");return N6(n,null,e,t)}function N6(e,t,c={},s={}){var l=c,{data:n=bC,filter:i,sort:r,reverse:o}=l,a=U(l,["data","filter","sort","reverse"]);a=V6(a,s),n=gC(n,ze),r=r==null?void 0:mC("sort",r,s),i=i==null?void 0:pC("filter",i,s);let[u,f]=sr(e),[d,h]=sr(t),P=s,{z:m,fill:p,stroke:g,x1:_,x2:y,y1:w,y2:b}=P,M=U(P,["z","fill","stroke","x1","x2","y1","y2"]),[x,S]=sr(m),[T]=on(p),[A]=on(g),[R,k]=sr(T),[L,F]=sr(A);return v(v(v(v(v(v(v({},"z"in s&&{z:x||m}),"fill"in s&&{fill:R||p}),"stroke"in s&&{stroke:L||g}),Ia(M,(C,$,oe)=>{let ie=Yc(Pe(C,e),oe?.x),te=Yc(Pe(C,t),oe?.y),fe=Pe(C,m),N=Pe(C,T),j=Pe(C,A),B=U6(a,{z:fe,fill:N,stroke:j}),H=[],Q=[],ae=ie&&f([]),se=te&&h([]),Re=fe&&S([]),I=N&&k([]),V=j&&F([]),z=0;for(let E of a)E.initialize(C);r&&r.initialize(C),i&&i.initialize(C);for(let E of $){let ve=[];for(let K of a)K.scope("facet",E);r&&r.scope("facet",E),i&&i.scope("facet",E);for(let[K,Ae]of _0(E,B))for(let[_e,tt]of _0(Ae,te))for(let[un,St]of _0(tt,ie)){let mr={data:C};if(ie&&(mr.x=un),te&&(mr.y=_e),B&&(mr.z=K),!(i&&!i.reduce(St,mr))){ve.push(z++),Q.push(n.reduceIndex(St,C,mr)),ie&&ae.push(un),te&&se.push(_e),fe&&Re.push(B===fe?K:fe[St[0]]),N&&I.push(B===N?K:N[St[0]]),j&&V.push(B===j?K:j[St[0]]);for(let lk of a)lk.reduce(St,mr);r&&r.reduce(St,mr)}}H.push(ve)}return z6(H,r,o),{data:Q,facets:H}})),!lC(a,"x")&&(u?{x:u}:{x1:_,x2:y})),!lC(a,"y")&&(d?{y:d}:{y1:w,y2:b})),Object.fromEntries(a.map(({name:C,output:$})=>[C,$])))}function lC(e,...t){for(let{name:n}of e)if(t.includes(n))return!0;return!1}function F6(e,t,n=fC){let i=Object.entries(e);return t.title!=null&&e.title===void 0&&i.push(["title",H6]),t.href!=null&&e.href===void 0&&i.push(["href",vC]),i.filter(([,r])=>r!==void 0).map(([r,o])=>o===null?L6(r):n(r,o,t))}function fC(e,t,n,i=hC){let r;Un(t)&&"reduce"in t&&(r=t.scale,t=t.reduce);let o=i(e,t,n),[a,s]=wa(o.label),c;return{name:e,output:r===void 0?a:{value:a,scale:r},initialize(l){o.initialize(l),c=s([])},scope(l,u){o.scope(l,u)},reduce(l,u){c.push(o.reduce(l,u))}}}function L6(e){return{name:e,initialize(){},scope(){},reduce(){}}}function hC(e,t,n,i=jf){let r=Bw(e,n),o=i(t,r),a,s;return{label:Ni(o===x0?null:r,o.label),initialize(c){a=r===void 0?c:Pe(c,r),o.scope==="data"&&(s=o.reduceIndex(zt(c),a))},scope(c,l){o.scope===c&&(s=o.reduceIndex(l,a))},reduce(c,l){return o.scope==null?o.reduceIndex(c,a,l):o.reduceIndex(c,a,s,l)}}}function _0(e,t){return t?mi(e,n=>t[n]):[[,e]]}function jf(e,t,n=P6){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Un(e))return j6(e);if(typeof e=="function")return B6(e);if(/^p\d{2}$/i.test(e))return Fi(Lw(e));switch(`${e}`.toLowerCase()){case"first":return vC;case"last":return q6;case"identity":return bC;case"count":return x0;case"distinct":return W6;case"sum":return t==null?x0:G6;case"proportion":return dC(t,"data");case"proportion-facet":return dC(t,"facet");case"deviation":return Fi(Wl);case"min":return Fi(Pt);case"min-index":return Fi(Xl);case"max":return Fi(ot);case"max-index":return Fi(Yl);case"mean":return uC(Kl);case"median":return uC(Dr);case"variance":return Fi(Fo);case"mode":return Fi(Ql)}return n(e)}function P6(e){throw new Error(`invalid reduce: ${e}`)}function V6(e,t){return F6(e,t,mC)}function mC(e,t,n){return fC(e,t,n,pC)}function pC(e,t,n){return hC(e,t,n,gC)}function gC(e,t){return jf(e,t,$6)}function $6(e){switch(`${e}`.toLowerCase()){case"x":return Y6;case"y":return X6;case"z":return Z6}throw new Error(`invalid group reduce: ${e}`)}function U6(e,t){for(let n in t){let i=t[n];if(i!==void 0&&!e.some(r=>r.name===n))return i}}function z6(e,t,n){if(t){let i=t.output.transform(),r=(o,a)=>Rt(i[o],i[a]);e.forEach(o=>o.sort(r))}n&&e.forEach(i=>i.reverse())}function j6(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),D(v({},e),{reduceIndex:e.reduce.bind(e)})}function B6(e){return{reduceIndex(t,n,i){return e(Lf(n,t),i)}}}function Fi(e){return{reduceIndex(t,n){return e(t,i=>n[i])}}}function uC(e){return{reduceIndex(t,n){let i=e(t,r=>n[r]);return ut(n)?new Date(i):i}}}var bC={reduceIndex(e,t){return Lf(t,e)}},vC={reduceIndex(e,t){return t[e[0]]}},H6={reduceIndex(e,t){let i=pi(On(e,o=>o.length,o=>t[o]),Nf),r=i.slice(-5).reverse();if(r.length<i.length){let o=i.slice(0,-4);r[4]=[`\u2026 ${o.length.toLocaleString("en-US")} more`,tn(o,Nf)]}return r.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},q6={reduceIndex(e,t){return t[e[e.length-1]]}},x0={label:"Frequency",reduceIndex(e){return e.length}},W6={label:"Distinct",reduceIndex(e,t){let n=new Rn;for(let i of e)n.add(t[i]);return n.size}},G6=Fi(tn);function dC(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,i,r=1)=>n.length/r}:{scope:t,reduceIndex:(n,i,r=1)=>tn(n,o=>i[o])/r}}var Y6={reduceIndex(e,t,{x:n}){return n}},X6={reduceIndex(e,t,{y:n}){return n}},Z6={reduceIndex(e,t,{z:n}){return n}};function Ea(e,{scale:t,type:n,value:i,filter:r,hint:o,label:a=Ni(i)},s){return o===void 0&&typeof i?.transform=="function"&&(o=i.hint),M0(s,{scale:t,type:n,value:Pe(e,i),label:a,filter:r,hint:o})}function _C(e,t){return Object.fromEntries(Object.entries(e).map(([n,i])=>[n,Ea(t,i,n)]))}function xC(e,t){let n=Object.fromEntries(Object.entries(e).map(([i,{scale:r,value:o}])=>{let a=r==null?null:t[r];return[i,a==null?o:Ne(o,a)]}));return n.channels=e,n}function M0(e,t){let{scale:n,value:i}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&$f(i,Ca)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&$f(i,Kw)?null:"opacity";break;case"symbol":n!==!0&&$f(i,oC)?(t.scale=null,t.value=Ne(i,ka)):t.scale="symbol";break;default:t.scale=Ie.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Ie.has(n))throw new Error(`unknown scale: ${n}`);return t}function wC(e,t,n,i,r){let{order:o,reverse:a,reduce:s=!0,limit:c}=r;for(let l in r){if(!Ie.has(l))continue;let{value:u,order:f=o,reverse:d=a,reduce:h=s,limit:m=c}=lr(r[l]),p=u?.startsWith("-");if(p&&(u=u.slice(1)),f=f===void 0?p!==(u==="width"||u==="height")?MC:CC:J6(f),h==null||h===!1)continue;let g=l==="fx"||l==="fy"?Q6(t,i[l]):K6(n,l);if(!g)throw new Error(`missing channel for scale: ${l}`);let _=g.value,[y=0,w=1/0]=Sn(m)?m:m<0?[m]:[0,m];if(u==null)g.domain=()=>{let b=Array.from(new Rn(_));return d&&(b=b.reverse()),(y!==0||w!==1/0)&&(b=b.slice(y,w)),b};else{let b=u==="data"?e:u==="height"?yC(n,"y1","y2"):u==="width"?yC(n,"x1","x2"):C0(n,u,u==="y"?"y2":u==="x"?"x2":void 0),M=jf(h===!0?"max":h,b);g.domain=()=>{let x=qm(zt(_),S=>M.reduceIndex(S,b),S=>_[S]);return f&&x.sort(f),d&&x.reverse(),(y!==0||w!==1/0)&&(x=x.slice(y,w)),x.map(d0)}}}}function K6(e,t){for(let n in e){let i=e[n];if(i.scale===t)return i}}function Q6(e,t){let n=e.original;if(n===e)return t;let i=t.value,r=t.value=[];for(let o=0;o<n.length;++o){let a=i[n[o][0]];for(let s of e[o])r[s]=a}return t}function yC(e,t,n){let i=C0(e,t),r=C0(e,n);return Ne(r,(o,a)=>Math.abs(o-i[a]),Float64Array)}function C0(e,t,n){let i=e[t];if(!i&&n!==void 0&&(i=e[n]),i)return i.value;throw new Error(`missing channel: ${t}`)}function J6(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return CC;case"descending":return MC}throw new Error(`invalid order: ${e}`)}function CC([e,t],[n,i]){return Rt(t,i)||Rt(e,n)}function MC([e,t],[n,i]){return eo(t,i)||Rt(e,n)}function S0(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}var TC=new Map([["accent",Ug],["category10",$g],["dark2",zg],["observable10",jg],["paired",Bg],["pastel1",Hg],["pastel2",qg],["set1",Wg],["set2",Gg],["set3",Yg],["tableau10",Xg]]);function AC(e){return e!=null&&TC.has(`${e}`.toLowerCase())}var SC=new Map([...TC,["brbg",Li(gd,bd)],["prgn",Li(vd,yd)],["piyg",Li(_d,xd)],["puor",Li(wd,Cd)],["rdbu",Li(Tc,la)],["rdgy",Li(Md,Sd)],["rdylbu",Li(Ac,ua)],["rdylgn",Li(kd,Id)],["spectral",Li(Ed,Td)],["burd",kC(Tc,la)],["buylrd",kC(Ac,ua)],["blues",ft(ef,tf)],["greens",ft(nf,rf)],["greys",ft(of,af)],["oranges",ft(df,ff)],["purples",ft(sf,cf)],["reds",ft(lf,uf)],["turbo",Pi(xf)],["viridis",Pi(Cf)],["magma",Pi(Mf)],["inferno",Pi(Sf)],["plasma",Pi(kf)],["cividis",Pi(hf)],["cubehelix",Pi(mf)],["warm",Pi(gf)],["cool",Pi(bf)],["bugn",ft(Ad,Dd)],["bupu",ft(Rd,Od)],["gnbu",ft(Nd,Fd)],["orrd",ft(Ld,Pd)],["pubu",ft(Ud,zd)],["pubugn",ft(Vd,$d)],["purd",ft(jd,Bd)],["rdpu",ft(Hd,qd)],["ylgn",ft(Yd,Xd)],["ylgnbu",ft(Wd,Gd)],["ylorbr",ft(Zd,Kd)],["ylorrd",ft(Qd,Jd)],["rainbow",IC(vf)],["sinebow",IC(_f)]]);function ft(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Et(t,n):e[n])}function Li(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Et(t,n):e[n])}function kC(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Et(i=>t(1-i),n):e[n].slice().reverse())}function Pi(e){return({length:t})=>Et(e,Math.max(2,Math.floor(t)))}function IC(e){return({length:t})=>Et(e,Math.floor(t)+1).slice(0,-1)}function k0(e){let t=`${e}`.toLowerCase();if(!SC.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return SC.get(t)}function Xc(e,t){let n=k0(e),i=typeof n=="function"?n({length:t}):n;return i.length!==t?i.slice(0,t):i}function DC(e,t="greys"){let n=new Set,[i,r]=Xc(t,2);for(let o of e)if(o!=null)if(o===!0)n.add(r);else if(o===!1)n.add(i);else return;return[...n]}var EC=new Map([["brbg",bd],["prgn",yd],["piyg",xd],["puor",Cd],["rdbu",la],["rdgy",Sd],["rdylbu",ua],["rdylgn",Id],["spectral",Td],["burd",e=>la(1-e)],["buylrd",e=>ua(1-e)],["blues",tf],["greens",rf],["greys",af],["purples",cf],["reds",uf],["oranges",ff],["turbo",xf],["viridis",Cf],["magma",Mf],["inferno",Sf],["plasma",kf],["cividis",hf],["cubehelix",mf],["warm",gf],["cool",bf],["bugn",Dd],["bupu",Od],["gnbu",Fd],["orrd",Pd],["pubugn",$d],["pubu",zd],["purd",Bd],["rdpu",qd],["ylgnbu",Gd],["ylgn",Xd],["ylorbr",Kd],["ylorrd",Jd],["rainbow",vf],["sinebow",_f]]);function Ta(e){let t=`${e}`.toLowerCase();if(!EC.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return EC.get(t)}var e5=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function RC(e){return e!=null&&e5.has(`${e}`.toLowerCase())}var E0=e=>t=>e(1-t),I0=[0,1],OC=new Map([["number",Oe],["rgb",yn],["hsl",yp],["hcl",_p],["lab",pu]]);function T0(e){let t=`${e}`.toLowerCase();if(!OC.has(t))throw new Error(`unknown interpolator: ${t}`);return OC.get(t)}function Da(e,t,n,{type:i,nice:r,clamp:o,zero:a,domain:s=zC(e,n),unknown:c,round:l,scheme:u,interval:f,range:d=Ie.get(e)===ro?r5(n,s):Ie.get(e)===oo?o5(n,s):Ie.get(e)===ao?I0:void 0,interpolate:h=Ie.get(e)===an?u==null&&d!==void 0?yn:Ta(u!==void 0?u:i==="cyclical"?"rainbow":"turbo"):l?Vr:Oe,reverse:m}){if(f=cr(f,i),(i==="cyclical"||i==="sequential")&&(i="linear"),typeof h!="function"&&(h=T0(h)),m=!!m,d!==void 0){let p=(s=et(s)).length,g=(d=et(d)).length;if(p!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Xn(h,d),d=void 0}}if(h.length===1?(m&&(h=E0(h),m=!1),d===void 0&&(d=Float64Array.from(s,(p,g)=>g/(s.length-1)),d.length===2&&(d=I0)),t.interpolate((d===I0?or:Zc)(h))):t.interpolate(h),a){let[p,g]=Bt(s);(p>0||g<0)&&(s=ar(s),(Oi(s)||1)===Math.sign(p)?s[0]=0:s[s.length-1]=0)}return m&&(s=qi(s)),t.domain(s).unknown(c),r&&(t.nice(t5(r,i)),s=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:i,domain:s,range:d,scale:t,interpolate:h,interval:f}}function t5(e,t){return e===!0?void 0:typeof e=="number"?e:qw(e,t)}function NC(e,t,n){return Da(e,Wr(),t,n)}function FC(e,t,n){return A0(e,t,D(v({},n),{exponent:.5}))}function A0(e,t,r){var o=r,{exponent:n=1}=o,i=U(o,["exponent"]);return Da(e,yc().exponent(n),t,D(v({},i),{type:"pow"}))}function LC(e,t,o){var a=o,{base:n=10,domain:i=a5(t)}=a,r=U(a,["base","domain"]);return Da(e,bc().base(n),t,D(v({},r),{domain:i}))}function PC(e,t,r){var o=r,{constant:n=1}=o,i=U(o,["constant"]);return Da(e,vc().constant(n),t,i)}function VC(e,t,{range:n,quantiles:i=n===void 0?5:(n=[...n]).length,n:r=i,scheme:o="rdylbu",domain:a=s5(t),unknown:s,interpolate:c,reverse:l}){return n===void 0&&(n=c!==void 0?Et(c,r):Ie.get(e)===an?Xc(o,r):void 0),a.length>0&&(a=_c(a,n===void 0?{length:r}:n).quantiles()),Bf(e,t,{domain:a,range:n,reverse:l,unknown:s})}function $C(e,t,{range:n,n:i=n===void 0?5:(n=[...n]).length,scheme:r="rdylbu",domain:o=zC(e,t),unknown:a,interpolate:s,reverse:c}){let[l,u]=Bt(o),f;return n===void 0?(f=gi(l,u,i),f[0]<=l&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),i=f.length+1,n=s!==void 0?Et(s,i):Ie.get(e)===an?Xc(r,i):void 0):(f=Et(Oe(l,u),i+1).slice(1,-1),l instanceof Date&&(f=f.map(d=>new Date(d)))),Oi(et(o))<0&&f.reverse(),Bf(e,t,{domain:f,range:n,reverse:c,unknown:a})}function Bf(e,t,{domain:n=[0],unknown:i,scheme:r="rdylbu",interpolate:o,range:a=o!==void 0?Et(o,n.length+1):Ie.get(e)===an?Xc(r,n.length+1):void 0,reverse:s}){n=et(n);let c=Oi(n);if(!isNaN(c)&&!n5(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=qi(a)),{type:"threshold",scale:xc(c<0?qi(n):n,a===void 0?[]:a).unknown(i),domain:n,range:a}}function n5(e,t){for(let n=1,i=e.length,r=e[0];n<i;++n){let o=bn(r,r=e[n]);if(o!==0&&o!==t)return!1}return!0}function UC(e){return{type:"identity",scale:nC(Ie.get(e))?pc():t=>t}}function Aa(e,t=n0){return e.length?[Pt(e,({value:n})=>n===void 0?n:Pt(n,t)),ot(e,({value:n})=>n===void 0?n:ot(n,t))]:[0,1]}function zC(e,t){let n=Ie.get(e);return(n===ro||n===ao||n===oo?i5:Aa)(t)}function i5(e){return[0,e.length?ot(e,({value:t})=>t===void 0?t:ot(t,n0)):1]}function r5(e,t){let n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];let i=bi(e,.5,({value:a})=>a===void 0?NaN:bi(a,.25,Bc)),r=t.map(a=>3*Math.sqrt(a/i)),o=30/ot(r);return o<1?r.map(a=>a*o):r}function o5(e,t){let n=Dr(e,({value:o})=>o===void 0?NaN:Dr(o,Math.abs)),i=t.map(o=>12*o/n),r=60/ot(i);return r<1?i.map(o=>o*r):i}function a5(e){for(let{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Aa(e,Bc);if(n<0)return Aa(e,Tf)}return[1,10]}function s5(e){let t=[];for(let{value:n}of e)if(n!==void 0)for(let i of n)t.push(i);return t}function Zc(e){return(t,n)=>i=>e(t+i*(n-t))}var D0=0,R0;function jC(){let e=D0;return D0=0,R0=void 0,e}function In(e){e!==R0&&(R0=e,console.warn(e),++D0)}function Hf(e,t,n,i,{type:r,nice:o,clamp:a,domain:s=Aa(i),unknown:c,pivot:l=0,scheme:u,range:f,symmetric:d=!0,interpolate:h=Ie.get(e)===an?u==null&&f!==void 0?yn:Ta(u!==void 0?u:"rdbu"):Oe,reverse:m}){l=+l,s=et(s);let[p,g]=s;if(s.length>2&&In(`Warning: the diverging ${e} scale domain contains extra elements.`),bn(p,g)<0&&([p,g]=[g,p],m=!m),p=Math.min(p,l),g=Math.max(g,l),typeof h!="function"&&(h=T0(h)),f!==void 0&&(h=h.length===1?Zc(h)(...f):Xn(h,f)),m&&(h=E0(h)),d){let _=n.apply(l),y=_-n.apply(p),w=n.apply(g)-_;y<w?p=n.invert(_-w):y>w&&(g=n.invert(_+y))}return t.domain([p,l,g]).unknown(c).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:r,domain:[p,g],pivot:l,interpolate:h,scale:t}}function BC(e,t,n){return Hf(e,Ec(),c5,t,n)}function HC(e,t,n){return O0(e,t,D(v({},n),{exponent:.5}))}function O0(e,t,r){var o=r,{exponent:n=1}=o,i=U(o,["exponent"]);return Hf(e,pd().exponent(n=+n),d5(n),t,D(v({},i),{type:"diverging-pow"}))}function qC(e,t,a){var s=a,{base:n=10,pivot:i=1,domain:r=Aa(t,i<0?Tf:Bc)}=s,o=U(s,["base","pivot","domain"]);return Hf(e,hd().base(n=+n),l5,t,v({domain:r,pivot:i},o))}function WC(e,t,r){var o=r,{constant:n=1}=o,i=U(o,["constant"]);return Hf(e,md().constant(n=+n),f5(n),t,i)}var c5={apply(e){return e},invert(e){return e}},l5={apply:Math.log,invert:Math.exp},u5={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function d5(e){return e===.5?u5:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function f5(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function GC(e,t,n,i){return Da(e,t,n,i)}function YC(e,t,n){return GC(e,ud(),t,n)}function XC(e,t,n){return GC(e,dd(),t,n)}var Ra=Symbol("ordinal");function KC(e,t,n,{type:i,interval:r,domain:o,range:a,reverse:s,hint:c}){return r=cr(r,i),o===void 0&&(o=nM(n,r,e)),(i==="categorical"||i===Ra)&&(i="ordinal"),s&&(o=qi(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:i,domain:o,range:a,scale:t,hint:c,interval:r}}function QC(e,t,l){var u=l,{type:n,interval:i,domain:r,range:o,scheme:a,unknown:s}=u,c=U(u,["type","interval","domain","range","scheme","unknown"]);i=cr(i,n),r===void 0&&(r=nM(t,i,e));let f;if(Ie.get(e)===Sa)f=h5(t),o=o===void 0?m5(f):Ne(o,ka);else if(Ie.get(e)===an&&(o===void 0&&(n==="ordinal"||n===Ra)&&(o=DC(r,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){let d=Ta(a),h=o[0],m=o[1]-o[0];o=({length:p})=>Et(g=>d(h+m*g),p)}else o=k0(a);if(s===hc)throw new Error(`implicit unknown on ${e} scale is not supported`);return KC(e,Hr().unknown(s),t,D(v({},c),{type:n,domain:r,range:o,hint:f}))}function JC(e,t,o){var a=o,{align:n=.5,padding:i=.5}=a,r=U(a,["align","padding"]);return tM(wg().align(n).padding(i),t,r,e)}function eM(e,t,s){var c=s,{align:n=.5,padding:i=.1,paddingInner:r=i,paddingOuter:o=e==="fx"||e==="fy"?0:i}=c,a=U(c,["align","padding","paddingInner","paddingOuter"]);return tM(Qi().align(n).paddingInner(r).paddingOuter(o),t,a,e)}function tM(e,t,n,i){let{round:r}=n;return r!==void 0&&e.round(r=!!r),e=KC(i,e,t,n),e.round=r,e}function nM(e,t,n){let i=new Rn;for(let{value:r,domain:o}of e){if(o!==void 0)return o();if(r!==void 0)for(let a of r)i.add(a)}if(t!==void 0){let[r,o]=Bt(i).map(t.floor,t);return t.range(r,t.offset(o))}if(i.size>1e4&&Ie.get(n)===kn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return pi(i,Rt)}function ZC(e,t){let n;for(let{hint:i}of e){let r=i?.[t];if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}}return n}function h5(e){return{fill:ZC(e,"fill"),stroke:ZC(e,"stroke")}}function m5(e){return dt(e.fill)?Jg:If}function Kc(e,g={}){var _=g,{label:t,inset:n=0,insetTop:i=n,insetRight:r=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:l,zero:u,align:f,padding:d,projection:h,facet:{label:m=t}={}}=_,p=U(_,["label","inset","insetTop","insetRight","insetBottom","insetLeft","round","nice","clamp","zero","align","padding","projection","facet"]);let y={};for(let[w,b]of e){let M=p[w],x=b5(w,b,v({round:Ie.get(w)===kn?s:void 0,nice:c,clamp:l,zero:u,align:f,padding:d,projection:h},M));if(x){let{label:S=w==="fx"||w==="fy"?m:t,percent:T,transform:A,inset:R,insetTop:k=R!==void 0?R:w==="y"?i:0,insetRight:L=R!==void 0?R:w==="x"?r:0,insetBottom:F=R!==void 0?R:w==="y"?o:0,insetLeft:P=R!==void 0?R:w==="x"?a:0}=M||{};if(A==null)A=void 0;else if(typeof A!="function")throw new Error("invalid scale transform; not a function");x.percent=!!T,x.label=S===void 0?p5(b,x):S,x.transform=A,w==="x"||w==="fx"?(x.insetLeft=+P,x.insetRight=+L):(w==="y"||w==="fy")&&(x.insetTop=+k,x.insetBottom=+F),y[w]=x}}return y}function F0(e){let t={},n={scales:t};for(let[i,r]of Object.entries(e)){let{scale:o,type:a,interval:s,label:c}=r;t[i]=x5(r),n[i]=o,o.type=a,s!=null&&(o.interval=s),c!=null&&(o.label=c)}return n}function sM(e,t){let{x:n,y:i,fx:r,fy:o}=e,a=r||o?Wf(t):t;r&&iM(r,a),o&&rM(o,a);let s=r||o?L0(e,t):t;n&&iM(n,s),i&&rM(i,s)}function p5(e=[],t){let n;for(let{label:i}of e)if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}if(n!==void 0)return!li(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function cM(e){return Math.sign(Oi(e.domain()))*Math.sign(Oi(e.range()))}function Wf(e){let{marginTop:t,marginRight:n,marginBottom:i,marginLeft:r,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,c),marginBottom:Math.max(i,l),marginLeft:Math.max(r,u),width:o,height:a}}function L0({fx:e,fy:t},n){let{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:s,height:c}=Wf(n);return{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+r:s,height:t?t.scale.bandwidth()+i+o:c,facet:{width:s,height:c}}}function iM(e,t){if(e.range===void 0){let{insetLeft:n,insetRight:i}=e,{width:r,marginLeft:o=0,marginRight:a=0}=t,s=o+n,c=r-a-i;e.range=[s,Math.max(s,c)],li(e)||(e.range=uM(e)),e.scale.range(e.range)}lM(e)}function rM(e,t){if(e.range===void 0){let{insetTop:n,insetBottom:i}=e,{height:r,marginTop:o=0,marginBottom:a=0}=t,s=o+n,c=r-a-i;e.range=[Math.max(s,c),s],li(e)?e.range.reverse():e.range=uM(e),e.scale.range(e.range)}lM(e)}function lM(e){e.round===void 0&&y5(e)&&g5(e)<=30&&e.scale.round(!0)}function g5({scale:e}){let t=e.domain().length,[n,i]=e.range(),r=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-r,s=Math.abs(i-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function uM(e){let t=e.scale.domain().length+P0(e);if(!(t>2))return e.range;let[n,i]=e.range;return Array.from({length:t},(r,o)=>n+o/(t-1)*(i-n))}function b5(e,t=[],n={}){let i=v5(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&li({type:i})){let r=t.map(({value:o})=>o).filter(o=>o!==void 0);r.some(ut)?In(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Oa(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Oa(i)}".`):r.some(Yw)?In(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Oa(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Oa(i)}".`):r.some(Xw)&&In(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Oa(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Oa(i)}".`)}switch(n.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=qf(t,n,Ff);break;case"identity":switch(Ie.get(e)){case kn:n=qf(t,n,Ff);break;case Sa:n=qf(t,n,_5);break}break;case"utc":case"time":n=qf(t,n,Pw);break}switch(i){case"diverging":return BC(e,t,n);case"diverging-sqrt":return HC(e,t,n);case"diverging-pow":return O0(e,t,n);case"diverging-log":return qC(e,t,n);case"diverging-symlog":return WC(e,t,n);case"categorical":case"ordinal":case Ra:return QC(e,t,n);case"cyclical":case"sequential":case"linear":return NC(e,t,n);case"sqrt":return FC(e,t,n);case"threshold":return Bf(e,t,n);case"quantile":return VC(e,t,n);case"quantize":return $C(e,t,n);case"pow":return A0(e,t,n);case"log":return LC(e,t,n);case"symlog":return PC(e,t,n);case"utc":return XC(e,t,n);case"time":return YC(e,t,n);case"point":return JC(e,t,n);case"band":return eM(e,t,n);case"identity":return UC(e);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function Oa(e){return typeof e=="symbol"?e.description:e}function oM(e){return typeof e=="string"?`${e}`.toLowerCase():e}var aM={toString:()=>"projection"};function v5(e,t,{type:n,domain:i,range:r,scheme:o,pivot:a,projection:s}){if(n=oM(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=aM);for(let l of t){let u=oM(l.type);if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}}if(n===aM)return;if(n!==void 0)return n;if(i===void 0&&!t.some(({value:l})=>l!==void 0))return;let c=Ie.get(e);if(c===ro)return"sqrt";if(c===ao||c===oo)return"linear";if(c===Sa)return"ordinal";if((i||r||[]).length>2)return N0(c);if(i!==void 0){if(g0(i))return N0(c);if(ut(i))return"utc"}else{let l=t.map(({value:u})=>u).filter(u=>u!==void 0);if(l.some(g0))return N0(c);if(l.some(ut))return"utc"}if(c===an){if(a!=null||RC(o))return"diverging";if(AC(o))return"categorical"}return"linear"}function N0(e){switch(e){case kn:return"point";case an:return Ra;default:return"ordinal"}}function li({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ra}function P0({type:e}){return e==="threshold"}function y5({type:e}){return e==="point"||e==="band"}function ur(e){if(e===void 0)return!0;let t=e.domain(),n=e(t[0]);for(let i=1,r=t.length;i<r;++i)if(e(t[i])-n)return!1;return!0}function qf(e,r,i){var o=r,{domain:t}=o,n=U(o,["domain"]);for(let a of e)a.value!==void 0&&(t===void 0&&(t=a.value?.domain),a.value=i(a.value));return v({domain:t===void 0?t:i(t)},n)}function _5(e){return Ne(e,ka)}function dM(e){return t=>{if(!Ie.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function x5({scale:e,type:t,domain:n,range:i,interpolate:r,interval:o,transform:a,percent:s,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};let l=e.unknown?e.unknown():void 0;return v(D(v(v(v(v(v(v(v(v(v(v(v(v(v(v({type:t,domain:ar(n)},i!==void 0&&{range:ar(i)}),a!==void 0&&{transform:a}),s&&{percent:s}),l!==void 0&&{unknown:l}),o!==void 0&&{interval:o}),r!==void 0&&{interpolate:r}),e.clamp&&{clamp:e.clamp()}),c!==void 0&&{pivot:c,symmetric:!1}),e.base&&{base:e.base()}),e.exponent&&{exponent:e.exponent()}),e.constant&&{constant:e.constant()}),e.align&&{align:e.align(),round:e.round()}),e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()})),e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()}),{apply:u=>e(u)}),e.invert&&{invert:u=>e.invert(u)})}function hM(e,t){let{fx:n,fy:i}=Kc(e,t),r=n?.scale.domain(),o=i?.scale.domain();return r&&o?Hl(r,o).map(([a,s],c)=>({x:a,y:s,i:c})):r?r.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function mM(e,{x:t,y:n}){return t&&=j0(t),n&&=j0(n),e.filter(t&&n?i=>t.has(i.x)&&n.has(i.y):t?i=>t.has(i.x):i=>n.has(i.y)).sort(t&&n?(i,r)=>t.get(i.x)-t.get(r.x)||n.get(i.y)-n.get(r.y):t?(i,r)=>t.get(i.x)-t.get(r.x):(i,r)=>n.get(i.y)-n.get(r.y))}function Yf(e,{fx:t,fy:n}){let i=zt(e),r=t?.value,o=n?.value;return t&&n?On(i,a=>(a.fx=r[a[0]],a.fy=o[a[0]],a),a=>r[a],a=>o[a]):t?On(i,a=>(a.fx=r[a[0]],a),a=>r[a]):On(i,a=>(a.fy=o[a[0]],a),a=>o[a])}function pM(e,t,{marginTop:n,marginLeft:i}){return e&&t?({x:r,y:o})=>`translate(${e(r)-i},${t(o)-n})`:e?({x:r})=>`translate(${e(r)-i},0)`:({y:r})=>`translate(0,${t(r)-n})`}function gM(e){let t=[],n=new Uint32Array(tn(e,i=>i.length));for(let i of e){let r=0;for(let o of e)i!==o&&(n.set(o,r),r+=o.length);t.push(n.slice(0,r))}return t}var w5=new Map([["top",V0],["right",z0],["bottom",$0],["left",U0],["top-left",Gf(V0,U0)],["top-right",Gf(V0,z0)],["bottom-left",Gf($0,U0)],["bottom-right",Gf($0,z0)],["top-empty",M5],["right-empty",I5],["bottom-empty",S5],["left-empty",k5],["empty",E5]]);function bM(e){if(e==null)return null;let t=w5.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}var fM=new WeakMap;function j0(e){let t=fM.get(e);return t||fM.set(e,t=new Lt(Ne(e,(n,i)=>[n,i]))),t}function dr(e,t){return j0(e).get(t)}function C5(e,t,n){return t=xa(t),n=xa(n),e.find(i=>Object.is(xa(i.x),t)&&Object.is(xa(i.y),n))}function Xf(e,t,n){return C5(e,t,n)?.empty}function V0(e,{y:t},{y:n}){return t?dr(t,n)===0:!0}function $0(e,{y:t},{y:n}){return t?dr(t,n)===t.length-1:!0}function U0(e,{x:t},{x:n}){return t?dr(t,n)===0:!0}function z0(e,{x:t},{x:n}){return t?dr(t,n)===t.length-1:!0}function M5(e,{y:t},{x:n,y:i,empty:r}){if(r)return!1;if(!t)return;let o=dr(t,i);if(o>0)return Xf(e,n,t[o-1])}function S5(e,{y:t},{x:n,y:i,empty:r}){if(r)return!1;if(!t)return;let o=dr(t,i);if(o<t.length-1)return Xf(e,n,t[o+1])}function k5(e,{x:t},{x:n,y:i,empty:r}){if(r)return!1;if(!t)return;let o=dr(t,n);if(o>0)return Xf(e,t[o-1],i)}function I5(e,{x:t},{x:n,y:i,empty:r}){if(r)return!1;if(!t)return;let o=dr(t,n);if(o<t.length-1)return Xf(e,t[o+1],i)}function E5(e,t,{empty:n}){return n}function Gf(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Zf(e,{channels:{fx:t,fy:n},groups:i}){return t&&n?e.map(({x:r,y:o})=>i.get(r)?.get(o)??[]):t?e.map(({x:r})=>i.get(r)??[]):e.map(({y:r})=>i.get(r)??[])}var yM=Math.PI,Vi=2*yM,vM=.618;function _M({projection:e,inset:t=0,insetTop:n=t,insetRight:i=t,insetBottom:r=t,insetLeft:o=t}={},a){var M;if(e==null)return;if(typeof e.stream=="function")return e;let s,c,l="frame";if(Un(e)){let x;if(M=e,{type:e,domain:c,inset:x,insetTop:n=x!==void 0?x:n,insetRight:i=x!==void 0?x:i,insetBottom:r=x!==void 0?x:r,insetLeft:o=x!==void 0?x:o,clip:l=l}=M,s=U(M,["type","domain","inset","insetTop","insetRight","insetBottom","insetLeft","clip"]),e==null)return}typeof e!="function"&&({type:e}=xM(e));let{width:u,height:f,marginLeft:d,marginRight:h,marginTop:m,marginBottom:p}=a,g=u-d-h-o-i,_=f-m-p-n-r;if(e=e?.(v({width:g,height:_,clip:l},s)),e==null)return;l=T5(l,d,m,u-h,f-p);let y=d+o,w=m+n,b;if(c!=null){let[[x,S],[T,A]]=rc(e).bounds(c),R=Math.min(g/(T-x),_/(A-S));R>0?(y-=(R*(x+T)-g)/2,w-=(R*(S+A)-_)/2,b=oc({point(k,L){this.stream.point(k*R+y,L*R+w)}})):In("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??=y===0&&w===0?wM():oc({point(x,S){this.stream.point(x+y,S+w)}}),{stream:x=>e.stream(b.stream(l(x)))}}function xM(e){switch(`${e}`.toLowerCase()){case"albers-usa":return zn(ng,.7463,.4673);case"albers":return Kf(sc,.7463,.4673);case"azimuthal-equal-area":return zn(rg,4,4);case"azimuthal-equidistant":return zn(ag,Vi,Vi);case"conic-conformal":return Kf(lg,Vi,Vi);case"conic-equal-area":return Kf(Ki,6.1702,2.9781);case"conic-equidistant":return Kf(dg,7.312,3.6282);case"equal-earth":return zn(hg,5.4133,2.6347);case"equirectangular":return zn(ug,Vi,yM);case"gnomonic":return zn(pg,3.4641,3.4641);case"identity":return{type:wM};case"reflect-y":return{type:A5};case"mercator":return zn(sg,Vi,Vi);case"orthographic":return zn(bg,2,2);case"stereographic":return zn(yg,2,2);case"transverse-mercator":return zn(xg,Vi,Vi);default:throw new Error(`unknown projection type: ${e}`)}}function T5(e,t,n,i,r){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Qo(t,n,i,r);default:throw new Error(`unknown projection clip type: ${e}`)}}function zn(e,t,n){return{type:({width:i,height:r,rotate:o,precision:a=.15,clip:s})=>{let c=e();return a!=null&&c.precision?.(a),o!=null&&c.rotate?.(o),typeof s=="number"&&c.clipAngle?.(s),c.scale(Math.min(i/t,r/n)),c.translate([i/2,r/2]),c},aspectRatio:n/t}}function Kf(e,t,n){let{type:i,aspectRatio:r}=zn(e,t,n);return{type:o=>{let{parallels:a,domain:s,width:c,height:l}=o,u=i(o);return a!=null&&(u.parallels(a),s===void 0&&u.fitSize([c,l],{type:"Sphere"})),u},aspectRatio:r}}var wM=or({stream:e=>e}),A5=or(oc({point(e,t){this.stream.point(e,-t)}}));function CM(e,t,n,i){let r=n[e],o=n[t],a=r.length,s=n[e]=new Float64Array(a).fill(NaN),c=n[t]=new Float64Array(a).fill(NaN),l,u=i.stream({point(f,d){s[l]=f,c[l]=d}});for(l=0;l<a;++l)u.point(r[l],o[l])}function MM({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Un(e)&&(e=e.type),e!=null)}function SM(e){if(typeof e?.stream=="function")return vM;if(Un(e)&&(e=e.type),e!=null){if(typeof e!="function"){let{aspectRatio:t}=xM(e);if(t)return t}return vM}}function kM(e){let t=[],n=[],i={scale:"x",value:t},r={scale:"y",value:n},o={point(a,s){t.push(a),n.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let a of e.value)Pn(a,o);return[i,r]}function Na(e={}){let{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:zf(n)}}function Fe(e,{document:t}){return xi(yi(e).call(t.documentElement))}function Qf(e){let t,n;return(...i)=>((n?.length!==i.length||n.some((r,o)=>r!==i[o]))&&(n=i,t=e(...i)),t)}var D5=Qf(e=>new Intl.NumberFormat(e)),WJ=Qf((e,t)=>new Intl.DateTimeFormat(e,v({timeZone:"UTC"},t&&{month:t}))),GJ=Qf((e,t)=>new Intl.DateTimeFormat(e,v({timeZone:"UTC"},t&&{weekday:t})));function R5(e="en-US"){let t=D5(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function O5(e){return Af(e,"Invalid Date")}function N5(e="en-US"){let t=R5(e);return n=>(n instanceof Date?O5:typeof n=="number"?t:Qe)(n)}var $i=N5();var Mt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5,F5=0;function IM(){return`plot-clip-${++F5}`}function EM(e,{title:t,href:n,ariaLabel:i,ariaDescription:r,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:f,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:m,strokeDasharray:p,strokeDashoffset:g,opacity:_,mixBlendMode:y,imageFilter:w,paintOrder:b,pointerEvents:M,shapeRendering:x,channels:S},{ariaLabel:T,fill:A="currentColor",fillOpacity:R,stroke:k="none",strokeOpacity:L,strokeWidth:F,strokeLinecap:P,strokeLinejoin:C,strokeMiterlimit:$,paintOrder:oe}){A===null&&(s=null,c=null),k===null&&(l=null,f=null),dt(A)?!dt(k)&&(!dt(s)||S?.fill)&&(k="none"):dt(k)&&(!dt(l)||S?.stroke)&&(A="none");let[ie,te]=on(s,A),[fe,N]=Je(c,R),[j,B]=on(l,k),[H,Q]=Je(f,L),[ae,se]=Je(_);io(B)||(u===void 0&&(u=F),h===void 0&&(h=P),d===void 0&&(d=C),m===void 0&&!Qw(d)&&(m=$),!io(te)&&b===void 0&&(b=oe));let[Re,I]=Je(u);return A!==null&&(e.fill=je(te,"currentColor"),e.fillOpacity=Qc(N,1)),k!==null&&(e.stroke=je(B,"none"),e.strokeWidth=Qc(I,1),e.strokeOpacity=Qc(Q,1),e.strokeLinejoin=je(d,"miter"),e.strokeLinecap=je(h,"butt"),e.strokeMiterlimit=Qc(m,4),e.strokeDasharray=je(p,"none"),e.strokeDashoffset=je(g,"0")),e.target=Qe(a),e.ariaLabel=Qe(T),e.ariaDescription=Qe(r),e.ariaHidden=Qe(o),e.opacity=Qc(se,1),e.mixBlendMode=je(y,"normal"),e.imageFilter=je(w,"none"),e.paintOrder=je(b,"normal"),e.pointerEvents=je(M,"auto"),e.shapeRendering=je(x,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:ie,scale:"auto",optional:!0},fillOpacity:{value:fe,scale:"auto",optional:!0},stroke:{value:j,scale:"auto",optional:!0},strokeOpacity:{value:H,scale:"auto",optional:!0},strokeWidth:{value:Re,optional:!0},opacity:{value:ae,scale:"auto",optional:!0}}}function L5(e,t){t&&e.filter(n=>Ef(t[n])).append("title").call(P5,t)}function P5(e,t){t&&e.text(n=>$i(t[n]))}function jn(e,{target:t,tip:n},{ariaLabel:i,title:r,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:u,href:f}){i&&de(e,"aria-label",d=>i[d]),o&&de(e,"fill",d=>o[d]),a&&de(e,"fill-opacity",d=>a[d]),s&&de(e,"stroke",d=>s[d]),c&&de(e,"stroke-opacity",d=>c[d]),l&&de(e,"stroke-width",d=>l[d]),u&&de(e,"opacity",d=>u[d]),f&&$5(e,d=>f[d],t),n||L5(e,r)}function V5(e,t,n,i){let r,{clip:o=i.clip}=t;switch(o){case"frame":{let{width:a,height:s,marginLeft:c,marginRight:l,marginTop:u,marginBottom:f}=n,d=IM();r=`url(#${d})`,e=Fe("svg:g",i).call(h=>h.append("svg:clipPath").attr("id",d).append("rect").attr("x",c).attr("y",u).attr("width",a-l-c).attr("height",s-u-f)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{let{projection:a}=i;if(!a)throw new Error('the "sphere" clip option requires a projection');let s=IM();r=`url(#${s})`,e.append("clipPath").attr("id",s).append("path").attr("d",rc(a)({type:"Sphere"}));break}}de(e,"aria-label",t.ariaLabel),de(e,"aria-description",t.ariaDescription),de(e,"aria-hidden",t.ariaHidden),de(e,"clip-path",r)}function sn(e,t,n,i){V5(e,t,n,i),de(e,"fill",t.fill),de(e,"fill-opacity",t.fillOpacity),de(e,"stroke",t.stroke),de(e,"stroke-width",t.strokeWidth),de(e,"stroke-opacity",t.strokeOpacity),de(e,"stroke-linejoin",t.strokeLinejoin),de(e,"stroke-linecap",t.strokeLinecap),de(e,"stroke-miterlimit",t.strokeMiterlimit),de(e,"stroke-dasharray",t.strokeDasharray),de(e,"stroke-dashoffset",t.strokeDashoffset),de(e,"shape-rendering",t.shapeRendering),de(e,"filter",t.imageFilter),de(e,"paint-order",t.paintOrder);let{pointerEvents:r=i.pointerSticky===!1?"none":void 0}=t;de(e,"pointer-events",r)}function cn(e,t){U5(e,"mix-blend-mode",t.mixBlendMode),de(e,"opacity",t.opacity)}function $5(e,t,n){e.each(function(i){let r=t(i);if(r!=null){let o=this.ownerDocument.createElementNS(qn.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(qn.xlink,"href",r),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function de(e,t,n){n!=null&&e.attr(t,n)}function U5(e,t,n){n!=null&&e.style(t,n)}function ln(e,t,{x:n,y:i},r=Mt,o=Mt){r+=t.dx,o+=t.dy,n?.bandwidth&&(r+=n.bandwidth()/2),i?.bandwidth&&(o+=i.bandwidth()/2),(r||o)&&e.attr("transform",`translate(${r},${o})`)}function je(e,t){if((e=Qe(e))!==t)return e}function Qc(e,t){if((e=ke(e))!==t)return e}var z5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Fa(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!z5.test(e))throw new Error(`invalid class name: ${e}`);return e}function La(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(let n of e)Object.assign(n.style,t)}function fr({frameAnchor:e},{width:t,height:n,marginTop:i,marginRight:r,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-r:(a+t-r)/2,/^top/.test(e)?i:/^bottom/.test(e)?n-o:(i+n-o)/2]}var We=class{constructor(t,n={},i={},r){let{facet:o="auto",facetAnchor:a,fx:s,fy:c,sort:l,dx:u=0,dy:f=0,margin:d=0,marginTop:h=d,marginRight:m=d,marginBottom:p=d,marginLeft:g=d,clip:_=r?.clip,channels:y,tip:w,render:b}=i;if(this.data=t,this.sort=no(l)?l:null,this.initializer=so(i).initializer,this.transform=this.initializer?i.transform:Ia(i).transform,o===null||o===!1?this.facet=null:(this.facet=Ut(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===va&&typeof s=="string"?[s]:s,this.fy=t===va&&typeof c=="string"?[c]:c),this.facetAnchor=bM(a),n=b0(n),y!==void 0&&(n=v(v({},j5(y)),n)),r!==void 0&&(n=v(v({},EM(this,i,r)),n)),this.channels=Object.fromEntries(Object.entries(n).map(([M,x])=>{if(Gc(x.value)){let{value:S,label:T=x.label,scale:A=x.scale}=x.value;x=D(v({},x),{label:T,scale:A,value:S})}if(t===va&&typeof x.value=="string"){let{value:S}=x;x=D(v({},x),{value:[S]})}return[M,x]}).filter(([M,{value:x,optional:S}])=>{if(x!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+u,this.dy=+f,this.marginTop=+h,this.marginRight=+m,this.marginBottom=+p,this.marginLeft=+g,this.clip=zf(_),this.tip=B5(w),this.facet==="super"){if(s||c)throw new Error("super-faceting cannot use fx or fy");for(let M in this.channels){let{scale:x}=n[M];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}b!=null&&(this.render=H0(b,this.render))}initialize(t,n,i){let r=et(this.data);t===void 0&&r!=null&&(t=[zt(r)]);let o=t;this.transform!=null&&({facets:t,data:r}=this.transform(r,t,i),r=et(r)),t!==void 0&&(t.original=o);let a=_C(this.channels,r);return this.sort!=null&&wC(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,i){for(let r in n){let{filter:o=$n}=n[r];if(o!==null){let a=i[r];t=t.filter(s=>o(a[s]))}}return t}project(t,n,i){for(let r in t)if(t[r].scale==="x"&&/^x|x$/.test(r)){let o=r.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&CM(r,o,n,i.projection)}}scale(t,n,i){let r=xC(t,n);return i.projection&&this.project(t,r,i),r}};function B0(...e){return e.plot=We.prototype.plot,e}function H0(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,i,r,o,a,s){return e.call(this,n,i,r,o,a,(c,l,u,f,d)=>t.call(this,c,l,u,f,d,s))}}function j5(e){return Object.fromEntries(Object.entries(b0(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:lr(n),n.filter===void 0&&n.scale==null&&(n=D(v({},n),{filter:null})),[t,n])))}function B5(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?Ut(e,"tip",["x","y","xy"]):e}function Jc(e,t){return e?.tip===!0?D(v({},e),{tip:t}):Un(e?.tip)&&e.tip.pointer===void 0?D(v({},e),{tip:D(v({},e.tip),{pointer:t})}):e}function AM(e,t,n={}){let i=.5-Mt,r=.5+Mt,o=.5+Mt,a=.5-Mt;for(let{marginTop:p,marginRight:g,marginBottom:_,marginLeft:y}of t)p>i&&(i=p),g>r&&(r=g),_>o&&(o=_),y>a&&(a=y);let{margin:s,marginTop:c=s!==void 0?s:i,marginRight:l=s!==void 0?s:r,marginBottom:u=s!==void 0?s:o,marginLeft:f=s!==void 0?s:a}=n;c=+c,l=+l,u=+u,f=+f;let{width:d=640,height:h=H5(e,n,{width:d,marginTopDefault:i,marginRightDefault:r,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-i+u-o)}=n;d=+d,h=+h;let m={width:d,height:h,marginTop:c,marginRight:l,marginBottom:u,marginLeft:f};if(e.fx||e.fy){let{margin:p,marginTop:g=p!==void 0?p:c,marginRight:_=p!==void 0?p:l,marginBottom:y=p!==void 0?p:u,marginLeft:w=p!==void 0?p:f}=n.facet??{};g=+g,_=+_,y=+y,w=+w,m.facet={marginTop:g,marginRight:_,marginBottom:y,marginLeft:w}}return m}function H5({x:e,y:t,fy:n,fx:i},{projection:r,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){let f=n?n.scale.domain().length:1,d=SM(r);if(d){let m=i?i.scale.domain().length:1,p=(1.1*f-.1)/(1.1*m-.1)*d,g=Math.max(.1,Math.min(10,p));return Math.round((a-u-c)*g+s+l)}let h=t?li(t)?t.scale.domain().length:Math.max(7,17/f):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);let m=TM("y",t)/(TM("x",e)*o),p=i?i.scale.bandwidth():1,g=n?n.scale.bandwidth():1,_=p*(a-u-c)-e.insetLeft-e.insetRight;return(m*_+t.insetTop+t.insetBottom)/g+s+l}return!!(t||n)*Math.max(1,Math.min(60,h*f))*20+!!i*30+60}function TM(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);let{type:n,domain:i}=t,r;switch(n){case"linear":case"utc":case"time":r=Number;break;case"pow":{let s=t.scale.exponent();r=c=>Math.pow(c,s);break}case"log":r=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}let[o,a]=Bt(i);return Math.abs(r(a)-r(o))}var DM=new WeakMap;function q0(e,t,u={}){var f=u,{x:n,y:i,px:r,py:o,maxRadius:a=40,channels:s,render:c}=f,l=U(f,["x","y","px","py","maxRadius","channels","render"]);return a=+a,r!=null&&(n??=null,s=D(v({},s),{px:{value:r,scale:"x"}})),o!=null&&(i??=null,s=D(v({},s),{py:{value:o,scale:"y"}})),D(v({x:n,y:i,channels:s},l),{render:H0(function(d,h,m,p,g,_){g=D(v({},g),{pointerSticky:!1});let y=g.ownerSVGElement,{data:w}=g.getMarkState(this),b=DM.get(y);b||DM.set(y,b={sticky:!1,roots:[],renders:[]});let M=b.renders.push(Q)-1,{x,y:S,fx:T,fy:A}=h,R=T?T(d.fx)-p.marginLeft:0,k=A?A(d.fy)-p.marginTop:0;x?.bandwidth&&(R+=x.bandwidth()/2),S?.bandwidth&&(k+=S.bandwidth()/2);let L=d.fi!=null,F;if(L){let I=b.facetStates;I||(b.facetStates=I=new Map),F=I.get(this),F||I.set(this,F=new Map)}let[P,C]=fr(this,p),{px:$,py:oe}=m,ie=$?I=>$[I]:G0(m,P),te=oe?I=>oe[I]:Y0(m,C),fe,N,j,B;function H(I,V){if(L)if(B&&(B=cancelAnimationFrame(B)),I==null)F.delete(d.fi);else{F.set(d.fi,V),B=requestAnimationFrame(()=>{B=null;for(let[z,E]of F)if(E<V||E===V&&z<d.fi){I=null;break}Q(I)});return}Q(I)}function Q(I){if(fe===I&&j===b.sticky)return;fe=I,j=g.pointerSticky=b.sticky;let V=fe==null?[]:[fe];L&&(V.fx=d.fx,V.fy=d.fy,V.fi=d.fi);let z=_(V,h,m,p,g);if(N){if(L){let E=N.parentNode,ve=N.getAttribute("transform"),K=z.getAttribute("transform");ve?z.setAttribute("transform",ve):z.removeAttribute("transform"),K?E.setAttribute("transform",K):E.removeAttribute("transform"),z.removeAttribute("aria-label"),z.removeAttribute("aria-description"),z.removeAttribute("aria-hidden")}N.replaceWith(z)}return b.roots[M]=N=z,fe==null&&F?.size>1||g.dispatchValue(fe==null?null:w[fe]),z}function ae(I){if(b.sticky||I.pointerType==="mouse"&&I.buttons===1)return;let[V,z]=rp(I);V-=R,z-=k;let E=V<p.marginLeft||V>p.width-p.marginRight?1:e,ve=z<p.marginTop||z>p.height-p.marginBottom?1:t,K=null,Ae=a*a;for(let _e of d){let tt=E*(ie(_e)-V),un=ve*(te(_e)-z),St=tt*tt+un*un;St<=Ae&&(K=_e,Ae=St)}if(K!=null&&(e!==1||t!==1)){let _e=ie(K)-V,tt=te(K)-z;Ae=_e*_e+tt*tt}H(K,Ae)}function se(I){I.pointerType==="mouse"&&fe!=null&&(b.sticky&&b.roots.some(V=>V?.contains(I.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(V=>V(null))):(b.sticky=!0,Q(fe)),I.stopImmediatePropagation()))}function Re(I){I.pointerType==="mouse"&&(b.sticky||H(null))}return y.addEventListener("pointerenter",ae),y.addEventListener("pointermove",ae),y.addEventListener("pointerdown",se),y.addEventListener("pointerleave",Re),Q(null)},c)})}function RM(e){return q0(1,1,e)}function OM(e){return q0(1,.01,e)}function W0(e){return q0(.01,1,e)}function G0({x1:e,x2:t,x:n=e},i){return e&&t?r=>(e[r]+t[r])/2:n?r=>n[r]:()=>i}function Y0({y1:e,y2:t,y:n=e},i){return e&&t?r=>(e[r]+t[r])/2:n?r=>n[r]:()=>i}function Jf(e){return li(e)&&e.interval===void 0?void 0:"tabular-nums"}function NM(e,t){let{label:n=e.label,tickSize:i=6,width:r=240,height:o=44+i,marginTop:a=18,marginRight:s=0,marginBottom:c=16+i,marginLeft:l=0,style:u,ticks:f=(r-l-s)/64,tickFormat:d,fontVariant:h=Jf(e),round:m=!0,opacity:p,className:g}=t,_=Na(t);g=Fa(g),p=Je(p)[1],d===null&&(d=()=>null);let y=Fe("svg",_).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",r).attr("height",o).attr("viewBox",`0 0 ${r} ${o}`).call(L=>L.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(La,u),w=L=>L.selectAll(".tick line").attr("y1",a+c-o),b,M=m?(L,F)=>L.rangeRound(F):(L,F)=>L.range(F),{type:x,domain:S,range:T,interpolate:A,scale:R,pivot:k}=e;if(A){let L=T===void 0?A:Xn(A.length===1?Zc(A):A,T);b=M(R.copy(),Et(Oe(l,r-s),Math.min(S.length+(k!==void 0),T===void 0?1/0:T.length)));let F=256,P=_.document.createElement("canvas");P.width=F,P.height=1;let C=P.getContext("2d");for(let $=0,oe=F-1;$<F;++$)C.fillStyle=L($/oe),C.fillRect($,0,1,1);y.append("image").attr("opacity",p).attr("x",l).attr("y",a).attr("width",r-l-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(x==="threshold"){let L=S,F=d===void 0?P=>P:typeof d=="string"?_n(d):d;b=M(Wr().domain([-1,T.length-1]),[l,r-s]),y.append("g").attr("fill-opacity",p).selectAll().data(T).enter().append("rect").attr("x",(P,C)=>b(C-1)).attr("y",a).attr("width",(P,C)=>b(C)-b(C-1)).attr("height",o-a-c).attr("fill",P=>P),f=Ne(L,(P,C)=>C),d=P=>F(L[P],P)}else b=M(Qi().domain(S),[l,r-s]),y.append("g").attr("fill-opacity",p).selectAll().data(S).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-c).attr("fill",R),w=()=>{};return y.append("g").attr("transform",`translate(0,${o-c})`).call(Jm(b).ticks(Array.isArray(f)?null:f,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(i).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",je(h,"normal")).call(w).call(L=>L.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}var X0=Math.PI/180;function Q0(e,{marker:t,markerStart:n=t,markerMid:i=t,markerEnd:r=t}={}){e.markerStart=Z0(n),e.markerMid=Z0(i),e.markerEnd=Z0(r)}function Z0(e){if(e==null||e===!1)return null;if(e===!0)return LM;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return FM("auto");case"arrow-reverse":return FM("auto-start-reverse");case"dot":return q5;case"circle":case"circle-fill":return LM;case"circle-stroke":return W5;case"tick":return K0("auto");case"tick-x":return K0(90);case"tick-y":return K0(0)}throw new Error(`invalid marker: ${e}`)}function FM(e){return(t,n)=>Fe("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(i=>i.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function q5(e,t){return Fe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function LM(e,t){return Fe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function W5(e,t){return Fe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function K0(e){return(t,n)=>Fe("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(i=>i.append("path").attr("d","M0,-3v6")).node()}var G5=0;function J0(e,t,{stroke:n},i){return Y5(e,t,n&&(r=>n[r]),i)}function Y5(e,{markerStart:t,markerMid:n,markerEnd:i,stroke:r},o=()=>r,a){let s=new Map;function c(l){return function(u){let f=o(u),d=s.get(l);d||s.set(l,d=new Map);let h=d.get(f);if(!h){let m=this.parentNode.insertBefore(l(f,a),this),p=`plot-marker-${++G5}`;m.setAttribute("id",p),d.set(f,h=`url(#${p})`)}return h}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),i&&e.attr("marker-end",c(i))}function eb(r={}){var o=r,{inset:e,insetLeft:t,insetRight:n}=o,i=U(o,["inset","insetLeft","insetRight"]);return[t,n]=PM(e,t,n),v({inset:e,insetLeft:t,insetRight:n},i)}function tb(r={}){var o=r,{inset:e,insetTop:t,insetBottom:n}=o,i=U(o,["inset","insetTop","insetBottom"]);return[t,n]=PM(e,t,n),v({inset:e,insetTop:t,insetBottom:n},i)}function PM(e,t,n){return e===void 0&&t===void 0&&n===void 0?Mt?[1,0]:[.5,.5]:[t,n]}function VM(e,{interval:t}){return e=v({},lr(e)),e.interval=Pf(e.interval===void 0?t:e.interval),e}function $M(e,t,n,i){let{[e]:r,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:c}=VM(r,n);if(s==null||c==null&&!i)return n;let l=Ni(r);if(c==null){let h,m={transform:p=>h||(h=Pe(p,s)),label:l};return D(v({},n),{[e]:void 0,[`${e}1`]:o===void 0?m:o,[`${e}2`]:a===void 0&&!(o===a&&i)?m:a})}let u,f;function d(h){return f!==void 0&&h===u?f:f=Ne(Pe(u=h,s),m=>c.floor(m))}return t(D(v({},n),{[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:l}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(m=>c.offset(m)),label:l}:a}))}function UM(e,t,n){let{[e]:i}=n,{value:r,interval:o}=VM(i,n);return r==null||o==null?n:t(D(v({},n),{[e]:{label:Ni(i),transform:a=>{let s=Ne(Pe(a,r),l=>o.floor(l)),c=s.map(l=>o.offset(l));return s.map(ut(s)?(l,u)=>l==null||isNaN(l=+l)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=c[u],u==null)?NaN:(+l+ +u)/2)}}}))}function nb(e={}){return $M("x",eb,e)}function eh(e={}){return $M("y",tb,e)}function zM(e={}){return UM("x",eb,e)}function jM(e={}){return UM("y",tb,e)}var BM={ariaLabel:"rule",fill:null,stroke:"currentColor"},th=class extends We{constructor(t,n={}){let{x:i,y1:r,y2:o,inset:a=0,insetTop:s=a,insetBottom:c=a}=n;super(t,{x:{value:i,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Jc(n,"x"),BM),this.insetTop=ke(s),this.insetBottom=ke(c),Q0(this,n)}render(t,n,i,r,o){let{x:a,y:s}=n,{x:c,y1:l,y2:u}=i,{width:f,height:d,marginTop:h,marginRight:m,marginLeft:p,marginBottom:g}=r,{insetTop:_,insetBottom:y}=this;return Fe("svg:g",o).call(sn,this,r,o).call(ln,this,{x:c&&a},Mt,0).call(w=>w.selectAll().data(t).enter().append("line").call(cn,this).attr("x1",c?b=>c[b]:(p+f-m)/2).attr("x2",c?b=>c[b]:(p+f-m)/2).attr("y1",l&&!ur(s)?b=>l[b]+_:h+_).attr("y2",u&&!ur(s)?s.bandwidth?b=>u[b]+s.bandwidth()-y:b=>u[b]-y:d-g-y).call(jn,this,i).call(J0,this,i,o)).node()}},nh=class extends We{constructor(t,n={}){let{x1:i,x2:r,y:o,inset:a=0,insetRight:s=a,insetLeft:c=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},Jc(n,"y"),BM),this.insetRight=ke(s),this.insetLeft=ke(c),Q0(this,n)}render(t,n,i,r,o){let{x:a,y:s}=n,{y:c,x1:l,x2:u}=i,{width:f,height:d,marginTop:h,marginRight:m,marginLeft:p,marginBottom:g}=r,{insetLeft:_,insetRight:y}=this;return Fe("svg:g",o).call(sn,this,r,o).call(ln,this,{y:c&&s},0,Mt).call(w=>w.selectAll().data(t).enter().append("line").call(cn,this).attr("x1",l&&!ur(a)?b=>l[b]+_:p+_).attr("x2",u&&!ur(a)?a.bandwidth?b=>u[b]+a.bandwidth()-y:b=>u[b]-y:f-m-y).attr("y1",c?b=>c[b]:(h+d-g)/2).attr("y2",c?b=>c[b]:(h+d-g)/2).call(jn,this,i).call(J0,this,i,o)).node()}};function el(e,t){let s=eh(t),{x:n=ze,y:i,y1:r,y2:o}=s,a=U(s,["x","y","y1","y2"]);return[r,o]=HM(i,r,o),new th(e,D(v({},a),{x:n,y1:r,y2:o}))}function ib(e,t){let s=nb(t),{y:n=ze,x:i,x1:r,x2:o}=s,a=U(s,["y","x","x1","x2"]);return[r,o]=HM(i,r,o),new nh(e,D(v({},a),{y:n,x1:r,x2:o}))}function HM(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function ih(e,...t){let n=t.length;for(let i=0,r=!0;i<n;++i)typeof t[i]!="function"&&(r&&(e=e.slice(),r=!1),e.splice(i,2,e[i]+t[i]+e[i+1]),t.splice(i,1),--i,--n);return i=>{let r=e[0];for(let o=0;o<n;++o)r+=t[o](i)+e[o+1];return r}}var X5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},XM="\xAD",tl=class extends We{constructor(t,n={}){let{x:i,y:r,text:o=Sn(t)&&Vf(t)?ze:Of,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:f,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:p,fontVariant:g,fontWeight:_,rotate:y}=n,[w,b]=Je(y,0),[M,x]=J5(m);if(super(t,{x:{value:i,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:Gw(w),optional:!0},text:{value:o,filter:Ef,optional:!0}},n,X5),this.rotate=b,this.textAnchor=je(s,"middle"),this.lineAnchor=Ut(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=ob(f),this.monospace=!!d,this.fontFamily=Qe(h),this.fontSize=x,this.fontStyle=Qe(p),this.fontVariant=Qe(g),this.fontWeight=Qe(_),this.frameAnchor=Ma(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=cb(this),this.clipLine=lb(this)}render(t,n,i,r,o){let{x:a,y:s}=n,{x:c,y:l,rotate:u,text:f,title:d,fontSize:h}=i,{rotate:m}=this,[p,g]=fr(this,r);return Fe("svg:g",o).call(sn,this,r,o).call(sb,this,f,r).call(ln,this,{x:c&&a,y:l&&s}).call(_=>_.selectAll().data(t).enter().append("text").call(cn,this).call(Z5,this,f,d).attr("transform",ih`translate(${c?y=>c[y]:p},${l?y=>l[y]:g})${u?y=>` rotate(${u[y]})`:m?` rotate(${m})`:""}`).call(de,"font-size",h&&(y=>h[y])).call(jn,this,i)).node()}};function ob(e){return e==null?null:Ut(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Z5(e,t,n,i){if(!n)return;let{lineAnchor:r,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=t;e.each(function(l){let u=s($i(n[l])??"").map(c),f=u.length,d=r==="top"?.71:r==="bottom"?1-f:(164-f*100)/200;if(f>1){let h=0;for(let m=0;m<f;++m){if(++h,!u[m])continue;let p=this.ownerDocument.createElementNS(qn.svg,"tspan");p.setAttribute("x",0),m===h-1?p.setAttribute("y",`${(d+m)*o}em`):p.setAttribute("dy",`${h*o}em`),p.textContent=u[m],this.appendChild(p),h=0}}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=u[0];if(a&&!i&&u[0]!==n[l]){let h=this.ownerDocument.createElementNS(qn.svg,"title");h.textContent=n[l],this.appendChild(h)}})}function ab(e,r={}){var o=r,{x:t,y:n}=o,i=U(o,["x","y"]);return i.frameAnchor===void 0&&([t,n]=_a(t,n)),new tl(e,D(v({},i),{x:t,y:n}))}function ZM(e,i={}){var r=i,{x:t=ze}=r,n=U(r,["x"]);return new tl(e,jM(D(v({},n),{x:t})))}function KM(e,i={}){var r=i,{y:t=ze}=r,n=U(r,["y"]);return new tl(e,zM(D(v({},n),{y:t})))}function sb(e,t,n){de(e,"text-anchor",t.textAnchor),de(e,"font-family",t.fontFamily),de(e,"font-size",t.fontSize),de(e,"font-style",t.fontStyle),de(e,"font-variant",t.fontVariant===void 0?K5(n):t.fontVariant),de(e,"font-weight",t.fontWeight)}function K5(e){return e&&(Zw(e)||ut(e))?"tabular-nums":void 0}var Q5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function J5(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Q5.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function e8(e,t,n){let i=[],r,o=0;for(let[a,s,c]of t8(e)){if(r===void 0&&(r=a),o>r&&n(e,r,s)>t&&(i.push(e.slice(r,o)+(e[o-1]===XM?"-":"")),r=a),c){i.push(e.slice(r,s)),r=void 0;continue}o=s}return i}function*t8(e){let t=0,n=0,i=e.length;for(;n<i;){let r=1;switch(e[n]){case XM:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++r;case`
`:yield[t,n,!0],n+=r,t=n;break;default:++n;break}}yield[t,n,!0]}var qM={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function rh(e,t=0,n=e.length){let i=0;for(let r=t;r<n;r=Pa(e,r))i+=qM[e[r]]??(JM(e,r)?120:qM.e);return i}function oh(e,t=0,n=e.length){let i=0;for(let r=t;r<n;r=Pa(e,r))i+=JM(e,r)?126:63;return i}function cb({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);let i=e?oh:rh,r=t*100;return o=>e8(o,r,i)}function lb({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;let i=e?oh:rh,r=t*100;switch(n){case"clip-start":return o=>GM(o,r,i,"");case"clip-end":return o=>WM(o,r,i,"");case"ellipsis-start":return o=>GM(o,r,i,co);case"ellipsis-middle":return o=>n8(o,r,i,co);case"ellipsis-end":return o=>WM(o,r,i,co)}}var co="\u2026";function lo(e,t,n,i){let r=[],o=0;for(let a=0,s=0,c=e.length;a<c;a=s){s=Pa(e,a);let l=n(e,a,s);if(o+l>t){for(o+=i;o>t&&a>0;)s=a,a=r.pop(),o-=n(e,a,s);return[a,t-o]}o+=l,r.push(a)}return[-1,0]}function WM(e,t,n,i){e=e.trim();let r=n(i),[o]=lo(e,t,n,r);return o<0?e:e.slice(0,o).trimEnd()+i}function n8(e,t,n,i){e=e.trim();let r=n(e);if(r<=t)return e;let o=n(i)/2,[a,s]=lo(e,t/2,n,o),[c]=lo(e,r-t/2-s+o,n,-o);return c<0?i:e.slice(0,a).trimEnd()+i+e.slice(Pa(e,c)).trimStart()}function GM(e,t,n,i){e=e.trim();let r=n(e);if(r<=t)return e;let o=n(i),[a]=lo(e,r-t+o,n,-o);return a<0?i:i+e.slice(Pa(e,a)).trimStart()}var rb=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,YM=new RegExp("\\p{Extended_Pictographic}","uy");function Pa(e,t){return t+=i8(e,t)?2:1,o8(e,t)&&(t=rb.lastIndex),r8(e,t)?Pa(e,t+1):t}function QM(e,t){return e.charCodeAt(t)<128}function i8(e,t){let n=e.charCodeAt(t);if(n>=55296&&n<56320){let i=e.charCodeAt(t+1);return i>=56320&&i<57344}return!1}function r8(e,t){return e.charCodeAt(t)===8205}function o8(e,t){return QM(e,t)?!1:(rb.lastIndex=t,rb.test(e))}function JM(e,t){return QM(e,t)?!1:(YM.lastIndex=t,YM.test(e))}var a8={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},eS=3.5,s8=eS*5,tS={draw(e,t,n){let i=t*n/s8;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-i,i-t),e.lineTo(0,-t),e.lineTo(i,i-t)}},c8={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},l8=new Map([["arrow",tS],["spike",c8]]);function u8(e){return e&&typeof e.draw=="function"}function d8(e){if(u8(e))return e;let t=l8.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}var ah=class extends We{constructor(t,n={}){let{x:i,y:r,r:o=eS,length:a,rotate:s,shape:c=tS,anchor:l="middle",frameAnchor:u}=n,[f,d]=Je(a,12),[h,m]=Je(s,0);super(t,{x:{value:i,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:f,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,a8),this.r=+o,this.length=d,this.rotate=m,this.shape=d8(c),this.anchor=Ut(l,"anchor",["start","middle","end"]),this.frameAnchor=Ma(u)}render(t,n,i,r,o){let{x:a,y:s}=n,{x:c,y:l,length:u,rotate:f}=i,{length:d,rotate:h,anchor:m,shape:p,r:g}=this,[_,y]=fr(this,r);return Fe("svg:g",o).call(sn,this,r,o).call(ln,this,{x:c&&a,y:l&&s}).call(w=>w.selectAll().data(t).enter().append("path").call(cn,this).attr("transform",ih`translate(${c?b=>c[b]:_},${l?b=>l[b]:y})${f?b=>` rotate(${f[b]})`:h?` rotate(${h})`:""}${m==="start"?"":m==="end"?u?b=>` translate(0,${u[b]})`:` translate(0,${d})`:u?b=>` translate(0,${u[b]/2})`:` translate(0,${d/2})`}`).attr("d",u?b=>{let M=Yo();return p.draw(M,u[b],g),M}:(()=>{let b=Yo();return p.draw(b,d,g),b})()).call(jn,this,i)).node()}};function nS(e,t={}){let r=t,{x:n=ze}=r,i=U(r,["x"]);return new ah(e,D(v({},i),{x:n}))}function iS(e,t={}){let r=t,{y:n=ze}=r,i=U(r,["y"]);return new ah(e,D(v({},i),{y:n}))}function hr(e,t){return arguments.length<2&&!Sn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function sh({anchor:e}={},t){return e===void 0?t[0]:Ut(e,"anchor",t)}function rS(e){return sh(e,["left","right"])}function oS(e){return sh(e,["right","left"])}function aS(e){return sh(e,["bottom","top"])}function sS(e){return sh(e,["top","bottom"])}function db(){let[e,t]=hr(...arguments);return uS("y",rS(t),e,t)}function cS(){let[e,t]=hr(...arguments);return uS("fy",oS(t),e,t)}function fb(){let[e,t]=hr(...arguments);return dS("x",aS(t),e,t)}function lS(){let[e,t]=hr(...arguments);return dS("fx",sS(t),e,t)}function uS(e,t,n,L){var F=L,{color:i="currentColor",opacity:r=1,stroke:o=i,strokeOpacity:a=r,strokeWidth:s=1,fill:c=i,fillOpacity:l=r,textAnchor:u,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:m=e==="y"?6:0,tickPadding:p,tickRotate:g,x:_,margin:y,marginTop:w=y===void 0?20:y,marginRight:b=y===void 0?t==="right"?40:0:y,marginBottom:M=y===void 0?20:y,marginLeft:x=y===void 0?t==="left"?40:0:y,label:S,labelAnchor:T,labelArrow:A,labelOffset:R}=F,k=U(F,["color","opacity","stroke","strokeOpacity","strokeWidth","fill","fillOpacity","textAnchor","textStroke","textStrokeOpacity","textStrokeWidth","tickSize","tickPadding","tickRotate","x","margin","marginTop","marginRight","marginBottom","marginLeft","label","labelAnchor","labelArrow","labelOffset"]);return m=ke(m),p=ke(p),g=ke(g),T!==void 0&&(T=Ut(T,"labelAnchor",["center","top","bottom"])),A=CS(A),B0(m&&!dt(o)?f8(e,t,n,v({stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:m,tickPadding:p,tickRotate:g,x:_},k)):null,dt(c)?null:m8(e,t,n,v({fill:c,fillOpacity:l,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:u,tickSize:m,tickPadding:p,tickRotate:g,x:_,marginTop:w,marginRight:b,marginBottom:M,marginLeft:x},k)),!dt(c)&&S!==null?ab([],yS(v({fill:c,fillOpacity:l},k),function(P,C,$,oe,ie){let te=oe[e],{marginTop:fe,marginRight:N,marginBottom:j,marginLeft:B}=e==="y"&&ie.inset||ie,H=T??(te.bandwidth?"center":"top"),Q=R??(t==="right"?N:B)-3;return H==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=H,this.frameAnchor=`${H}-${t}`,this.rotate=0),this.dy=H==="top"?3-fe:H==="bottom"?j-3:0,this.dx=t==="right"?Q:-Q,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[wS(e,te,{anchor:t,label:S,labelAnchor:H,labelArrow:A})]}}}})):null)}function dS(e,t,n,L){var F=L,{color:i="currentColor",opacity:r=1,stroke:o=i,strokeOpacity:a=r,strokeWidth:s=1,fill:c=i,fillOpacity:l=r,textAnchor:u,textStroke:f,textStrokeOpacity:d,textStrokeWidth:h,tickSize:m=e==="x"?6:0,tickPadding:p,tickRotate:g,y:_,margin:y,marginTop:w=y===void 0?t==="top"?30:0:y,marginRight:b=y===void 0?20:y,marginBottom:M=y===void 0?t==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:S,labelAnchor:T,labelArrow:A,labelOffset:R}=F,k=U(F,["color","opacity","stroke","strokeOpacity","strokeWidth","fill","fillOpacity","textAnchor","textStroke","textStrokeOpacity","textStrokeWidth","tickSize","tickPadding","tickRotate","y","margin","marginTop","marginRight","marginBottom","marginLeft","label","labelAnchor","labelArrow","labelOffset"]);return m=ke(m),p=ke(p),g=ke(g),T!==void 0&&(T=Ut(T,"labelAnchor",["center","left","right"])),A=CS(A),B0(m&&!dt(o)?h8(e,t,n,v({stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:m,tickPadding:p,tickRotate:g,y:_},k)):null,dt(c)?null:p8(e,t,n,v({fill:c,fillOpacity:l,stroke:f,strokeOpacity:d,strokeWidth:h,textAnchor:u,tickSize:m,tickPadding:p,tickRotate:g,y:_,marginTop:w,marginRight:b,marginBottom:M,marginLeft:x},k)),!dt(c)&&S!==null?ab([],yS(v({fill:c,fillOpacity:l},k),function(P,C,$,oe,ie){let te=oe[e],{marginTop:fe,marginRight:N,marginBottom:j,marginLeft:B}=e==="x"&&ie.inset||ie,H=T??(te.bandwidth?"center":"right"),Q=R??(t==="top"?fe:j)-3;return H==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${H}`,this.textAnchor=H==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-Q:Q,this.dx=H==="right"?N-3:H==="left"?3-B:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[wS(e,te,{anchor:t,label:S,labelAnchor:H,labelArrow:A})]}}}})):null)}function f8(e,t,n,p){var g=p,{strokeWidth:i=1,strokeLinecap:r=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:f=l,dx:d=0,y:h=e==="y"?void 0:null}=g,m=U(g,["strokeWidth","strokeLinecap","strokeLinejoin","facetAnchor","frameAnchor","tickSize","inset","insetLeft","insetRight","dx","y"]);return Va(iS,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},D(v({strokeWidth:i,strokeLinecap:r,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:h},m),{dx:t==="left"?+d-Mt+ +u:+d+Mt-f,anchor:"start",length:c,shape:t==="left"?y8:_8}))}function h8(e,t,n,p){var g=p,{strokeWidth:i=1,strokeLinecap:r=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:f=l,dy:d=0,x:h=e==="x"?void 0:null}=g,m=U(g,["strokeWidth","strokeLinecap","strokeLinejoin","facetAnchor","frameAnchor","tickSize","inset","insetTop","insetBottom","dy","x"]);return Va(nS,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},D(v({strokeWidth:i,strokeLinejoin:o,strokeLinecap:r,facetAnchor:a,frameAnchor:s,x:h},m),{dy:t==="bottom"?+d-Mt-f:+d+Mt+ +u,anchor:"start",length:c,shape:t==="bottom"?b8:v8}))}function m8(e,t,n,y){var w=y,{facetAnchor:i=t+(e==="y"?"-empty":""),frameAnchor:r=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*X0):0),text:c,textAnchor:l=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:f,inset:d=0,insetLeft:h=d,insetRight:m=d,dx:p=0,y:g=e==="y"?void 0:null}=w,_=U(w,["facetAnchor","frameAnchor","tickSize","tickRotate","tickPadding","text","textAnchor","lineAnchor","fontVariant","inset","insetLeft","insetRight","dx","y"]);return Va(KM,e,n,{ariaLabel:`${e}-axis tick label`},D(v({facetAnchor:i,frameAnchor:r,text:c,textAnchor:l,lineAnchor:u,fontVariant:f,rotate:a,y:g},_),{dx:t==="left"?+p-o-s+ +h:+p+ +o+ +s-m}),function(b,M,x,S,T){f===void 0&&(this.fontVariant=xS(b)),c===void 0&&(T.text=_S(b,M,x,S,t))})}function p8(e,t,n,y){var w=y,{facetAnchor:i=t+(e==="x"?"-empty":""),frameAnchor:r=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*X0):0),text:c,textAnchor:l=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:f,inset:d=0,insetTop:h=d,insetBottom:m=d,dy:p=0,x:g=e==="x"?void 0:null}=w,_=U(w,["facetAnchor","frameAnchor","tickSize","tickRotate","tickPadding","text","textAnchor","lineAnchor","fontVariant","inset","insetTop","insetBottom","dy","x"]);return Va(ZM,e,n,{ariaLabel:`${e}-axis tick label`},D(v({facetAnchor:i,frameAnchor:r,text:c===void 0?null:c,textAnchor:l,lineAnchor:u,fontVariant:f,rotate:a,x:g},_),{dy:t==="bottom"?+p+ +o+ +s-m:+p-o-s+ +h}),function(b,M,x,S,T){f===void 0&&(this.fontVariant=xS(b)),c===void 0&&(T.text=_S(b,M,x,S,t))})}function fS(){let[e,t]=hr(...arguments);return gS("y",rS(t),e,t)}function hS(){let[e,t]=hr(...arguments);return gS("fy",oS(t),e,t)}function mS(){let[e,t]=hr(...arguments);return bS("x",aS(t),e,t)}function pS(){let[e,t]=hr(...arguments);return bS("fx",sS(t),e,t)}function gS(e,t,n,c){var l=c,{y:i=e==="y"?void 0:null,x:r=null,x1:o=t==="left"?r:null,x2:a=t==="right"?r:null}=l,s=U(l,["y","x","x1","x2"]);return Va(ib,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},v({y:i,x1:o,x2:a},vS(s)))}function bS(e,t,n,c){var l=c,{x:i=e==="x"?void 0:null,y:r=null,y1:o=t==="top"?r:null,y2:a=t==="bottom"?r:null}=l,s=U(l,["x","y","y1","y2"]);return Va(el,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},v({x:i,y1:o,y2:a},vS(s)))}function vS(a){var s=a,{color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:i=t,strokeWidth:r=1}=s,o=U(s,["color","opacity","stroke","strokeOpacity","strokeWidth"]);return v({stroke:n,strokeOpacity:i,strokeWidth:r},o)}function yS({fill:e,fillOpacity:t,fontFamily:n,fontSize:i,fontStyle:r,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u=!1},f){return[,e]=on(e),[,t]=Je(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:i,fontStyle:r,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u,initializer:f}}function Va(e,t,n,i,r,o){let a;function s(u,f,d,h,m,p){let g=u==null&&(t==="fx"||t==="fy"),{[t]:_}=h;if(!_)throw new Error(`missing scale: ${t}`);let y=_.domain(),{interval:w,ticks:b,tickFormat:M,tickSpacing:x=t==="x"?80:35}=r;if(typeof b=="string"&&MS(_)&&(w=b,b=void 0),b===void 0&&(b=cr(w,_.type)??g8(_,x)),u==null){if(Sn(b))u=et(b);else if(Ww(b))u=ub(b,...Bt(y));else if(_.interval){let T=_.interval;if(_.ticks){let[A,R]=Bt(y),k=(R-A)/T[ba];T=c0(T,k/b)??T,u=ub(T,A,R)}else{u=y;let A=u.length;T=c0(T,A/b)??T,T!==_.interval&&(u=ub(T,...Bt(u)))}if(T===_.interval){let A=Math.round(u.length/b);A>1&&(u=u.filter((R,k)=>k%A===0))}}else _.ticks?u=_.ticks(b):u=y;if(!_.ticks&&u.length&&u!==y){let T=new Rn(y);u=u.filter(A=>T.has(A)),u.length||In(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?f=[zt(u)]:a[t]={scale:t,value:ze}}o?.call(this,_,u,b,M,a);let S=Object.fromEntries(Object.entries(a).map(([T,A])=>[T,D(v({},A),{value:Pe(u,A.value)})]));return g&&(f=p.filterFacets(u,S)),{data:u,facets:f,channels:S}}let c=so(r).initializer,l=e(n,so(D(v({},r),{initializer:s}),c));return n==null?(a=l.channels,l.channels={}):a={},i!==void 0&&Object.assign(l,i),l.clip===void 0&&(l.clip=!1),l}function g8(e,t){let[n,i]=Bt(e.range());return(i-n)/t}function _S(e,t,n,i,r){return{value:nl(e,t,n,i,r)}}function nl(e,t,n,i,r){return typeof i=="function"&&!(e.type==="log"&&e.tickFormat)?i:i===void 0&&t&&ut(t)?Dw(e.type,t,r)??$i:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,i):i===void 0?$i:typeof i=="string"?(ut(e.domain())?ai:_n)(i):or(i)}function ub(e,t,n){return e.range(t,e.offset(e.floor(n)))}var b8={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},v8={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},y8={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},_8={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function xS(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function wS(e,t,{anchor:n,label:i=t.label,labelAnchor:r,labelArrow:o}={}){if(!(i==null||i.inferred&&MS(t)&&/^(date|time|year)$/i.test(i))){if(i=String(i),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(i)),!o)return i;if(o===!0){let a=cM(t);a&&(o=/x$/.test(e)||r==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`\u2190 ${i}`;case"right":return`${i} \u2192`;case"up":return n==="right"?`${i} \u2191`:`\u2191 ${i}`;case"down":return n==="right"?`${i} \u2193`:`\u2193 ${i}`}return i}}function CS(e="auto"){return dt(e)?!1:typeof e=="boolean"?e:Ut(e,"labelArrow",["auto","up","right","down","left"])}function MS(e){return ut(e.domain())}function SS(e,t){if(t==null)return t;let n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function kS(e,i={}){var r=i,{opacity:t}=r,n=U(r,["opacity"]);if(!li(e)&&!P0(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return ES(e,n,(o,a,s,c)=>o.append("svg").attr("width",s).attr("height",c).attr("fill",a.scale).attr("fill-opacity",Je(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function IS(e,l={},c){var u=l,{fill:t=e.hint?.fill!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:i=e.hint?.stroke!==void 0?e.hint.stroke:dt(t)?"currentColor":"none",strokeOpacity:r=1,strokeWidth:o=1.5,r:a=4.5}=u,s=U(u,["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","r"]);let[f,d]=on(t),[h,m]=on(i),p=SS(c,f),g=SS(c,h),_=a*a*Math.PI;return n=Je(n)[1],r=Je(r)[1],o=Je(o)[1],ES(e,s,(y,w,b,M)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",M).attr("fill",f==="color"?x=>p.scale(x):d).attr("fill-opacity",n).attr("stroke",h==="color"?x=>g.scale(x):m).attr("stroke-opacity",r).attr("stroke-width",o).append("path").attr("d",x=>{let S=Yo();return e.scale(x).draw(S,_),S}))}function ES(e,t={},n){let{columns:i,tickFormat:r,fontVariant:o=Jf(e),swatchSize:a=15,swatchWidth:s=a,swatchHeight:c=a,marginLeft:l=0,className:u,style:f,width:d}=t,h=Na(t);u=Fa(u),r=nl(e.scale,e.domain,void 0,r);let m=Fe("div",h).attr("class",`${u}-swatches ${u}-swatches-${i!=null?"columns":"wrap"}`),p;return i!=null?(p=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",i).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,s,c).call(g=>g.append("div").attr("class",`${u}-swatch-label`).attr("title",r).text(r))):(p=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,s,c).append(function(){return this.ownerDocument.createTextNode(r.apply(this,arguments))})),m.call(g=>g.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",je(o,"normal")).call(La,f).node()}var hb=new Map([["symbol",IS],["color",DS],["opacity",x8]]);function TS(e,t,n={}){return(i,r)=>{if(!hb.has(i))throw new Error(`unknown legend type: ${i}`);if(i in e)return hb.get(i)(e[i],AS(t,n[i],r),o=>e[o])}}function AS(a,{label:n,ticks:i,tickFormat:r}={},o){var s=a,{className:e}=s,t=U(s,["className"]);return Jw(o,v({className:e},t),{label:n,ticks:i,tickFormat:r})}function DS(e,i){var r=i,{legend:t=!0}=r,n=U(r,["legend"]);if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return kS(e,n);case"ramp":return NM(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function x8(a,c){var s=a,{type:e,interpolate:t}=s,n=U(s,["type","interpolate"]);var l=c,{legend:i=!0,color:r=vn(0,0,0)}=l,o=U(l,["legend","color"]);if(!t)throw new Error(`${e} opacity scales are not supported`);if(i===!0&&(i="ramp"),`${i}`.toLowerCase()!=="ramp")throw new Error(`${i} opacity legends are not supported`);return DS(D(v({type:e},n),{interpolate:w8(r)}),v({legend:i},o))}function w8(e){let{r:t,g:n,b:i}=vn(e)||vn(0,0,0);return r=>`rgba(${t},${n},${i},${r})`}function RS(e,t,n){let i=[];for(let[r,o]of hb){let a=n[r];if(a?.legend&&r in e){let s=o(e[r],AS(t,e[r],a),c=>e[c]);s!=null&&i.push(s)}}return i}var C8={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},M8={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},mb=class extends We{constructor(t={}){let{anchor:n=null,inset:i=0,insetTop:r=i,insetRight:o=i,insetBottom:a=i,insetLeft:s=i,rx:c,ry:l}=t;super(va,void 0,t,n==null?C8:M8),this.anchor=h0(n,"anchor",["top","right","bottom","left"]),this.insetTop=ke(r),this.insetRight=ke(o),this.insetBottom=ke(a),this.insetLeft=ke(s),this.rx=ke(c),this.ry=ke(l)}render(t,n,i,r,o){let{marginTop:a,marginRight:s,marginBottom:c,marginLeft:l,width:u,height:f}=r,{anchor:d,insetTop:h,insetRight:m,insetBottom:p,insetLeft:g,rx:_,ry:y}=this,w=l+g,b=u-s-m,M=a+h,x=f-c-p;return Fe(d?"svg:line":"svg:rect",o).datum(0).call(sn,this,r,o).call(cn,this).call(jn,this,i).call(ln,this,{}).call(d==="left"?S=>S.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",x):d==="right"?S=>S.attr("x1",b).attr("x2",b).attr("y1",M).attr("y2",x):d==="top"?S=>S.attr("x1",w).attr("x2",b).attr("y1",M).attr("y2",M):d==="bottom"?S=>S.attr("x1",w).attr("x2",b).attr("y1",x).attr("y2",x):S=>S.attr("x",w).attr("y",M).attr("width",b-w).attr("height",x-M).attr("rx",_).attr("ry",y)).node()}};function OS(e){return new mb(e)}var pb={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},S8=new Set(["geometry","href","src","ariaLabel","scales"]),gb=class extends We{constructor(t,n={}){n.tip&&(n=D(v({},n),{tip:!1})),n.title===void 0&&Sn(t)&&Vf(t)&&(n=D(v({},n),{title:ze}));let{x:i,y:r,x1:o,x2:a,y1:s,y2:c,anchor:l,preferredAnchor:u="bottom",monospace:f,fontFamily:d=f?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:m,fontVariant:p,fontWeight:g,lineHeight:_=1,lineWidth:y=20,frameAnchor:w,format:b,textAnchor:M="start",textOverflow:x,textPadding:S=8,title:T,pointerSize:A=12,pathFilter:R="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:i,scale:"x",optional:!0},y:{value:s!=null&&c!=null?null:r,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:s==null},title:{value:T,optional:!0}},n,pb),this.anchor=Uf(l,"anchor"),this.preferredAnchor=Uf(u,"preferredAnchor"),this.frameAnchor=Ma(w),this.textAnchor=je(M,"middle"),this.textPadding=+S,this.pointerSize=+A,this.pathFilter=Qe(R),this.lineHeight=+_,this.lineWidth=+y,this.textOverflow=ob(x),this.monospace=!!f,this.fontFamily=Qe(d),this.fontSize=ke(h),this.fontStyle=Qe(m),this.fontVariant=Qe(p),this.fontWeight=Qe(g);for(let k in pb)k in this.channels&&(this[k]=pb[k]);this.splitLines=cb(this),this.clipLine=lb(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:v({},b)}render(t,n,i,r,o){let a=this,{x:s,y:c,fx:l,fy:u}=n,{ownerSVGElement:f,document:d}=o,{anchor:h,monospace:m,lineHeight:p,lineWidth:g}=this,{textPadding:_,pointerSize:y,pathFilter:w}=this,{marginTop:b,marginLeft:M}=r,{x1:x,y1:S,x2:T,y2:A,x:R=x??T,y:k=S??A}=i,L=l?l(t.fx)-M:0,F=u?u(t.fy)-b:0,[P,C]=fr(this,r),$=G0(i,P),oe=Y0(i,C),ie=m?oh:rh,te=ie(co),fe,N;"title"in i?(fe=NS.call(this,{title:i.channels.title},n),N=T8):(fe=NS.call(this,i.channels,n),N=A8);let j=Fe("svg:g",o).call(sn,this,r,o).call(sb,this).call(ln,this,{x:R&&s,y:k&&c}).call(Q=>Q.selectAll().data(t).enter().append("g").attr("transform",ae=>`translate(${Math.round($(ae))},${Math.round(oe(ae))})`).call(cn,this).call(ae=>ae.append("path").attr("filter",w)).call(ae=>ae.append("text").each(function(se){let Re=xi(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let I=N.call(a,se,t,fe,n,i);if(typeof I=="string")for(let V of a.splitLines(I))B(Re,{value:a.clipLine(V)});else{let V=new Set;for(let z of I){let{label:E=""}=z;E&&V.has(E)||(V.add(E),B(Re,z))}}})));function B(Q,{label:ae,value:se,color:Re,opacity:I}){ae??="",se??="";let V=Re!=null||I!=null,z,E=g*100,[ve]=lo(ae,E,ie,te);if(ve>=0)ae=ae.slice(0,ve).trimEnd()+co,z=se.trim(),se="";else{(ae||!se&&!V)&&(se=" "+se);let[Ae]=lo(se,E-ie(ae),ie,te);Ae>=0&&(z=se.trim(),se=se.slice(0,Ae).trimEnd()+co)}let K=Q.append("tspan").attr("x",0).attr("dy",`${p}em`).text("\u200B");ae&&K.append("tspan").attr("font-weight","bold").text(ae),se&&K.append(()=>d.createTextNode(se)),V&&K.append("tspan").text(" \u25A0").attr("fill",Re).attr("fill-opacity",I).style("user-select","none"),z&&K.append("title").text(z)}function H(){let{width:Q,height:ae}=r.facet??r;j.selectChildren().each(function(se){let{x:Re,width:I,height:V}=this.getBBox();I=Math.round(I),V=Math.round(V);let z=h;if(z===void 0){let K=$(se)+L,Ae=oe(se)+F,_e=K+I+y+_*2<Q,tt=K-I-y-_*2>0,un=Ae+V+y+_*2<ae,St=Ae-V-y-_*2>0;z=_e&&tt?un&&St?a.preferredAnchor:St?"bottom":"top":un&&St?_e?"left":"right":(_e||tt)&&(un||St)?`${St?"bottom":"top"}-${_e?"left":"right"}`:a.preferredAnchor}let E=this.firstChild,ve=this.lastChild;if(E.setAttribute("d",E8(z,y,_,I,V)),Re)for(let K of ve.childNodes)K.setAttribute("x",-Re);ve.setAttribute("y",`${+k8(z,ve.childNodes.length,p).toFixed(6)}em`),ve.setAttribute("transform",`translate(${I8(z,y,_,I,V)})`)}),j.attr("visibility",null)}return t.length&&(j.attr("visibility","hidden"),f.isConnected?Promise.resolve().then(H):typeof requestAnimationFrame<"u"&&requestAnimationFrame(H)),j.node()}};function VS(e,r={}){var o=r,{x:t,y:n}=o,i=U(o,["x","y"]);return i.frameAnchor===void 0&&([t,n]=_a(t,n)),new gb(e,D(v({},i),{x:t,y:n}))}function k8(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function I8(e,t,n,i,r){switch(e){case"middle":return[-i/2,r/2];case"top-left":return[n,t+n];case"top":return[-i/2,t/2+n];case"top-right":return[-i-n,t+n];case"right":return[-t/2-i-n,r/2];case"bottom-left":return[n,-t-n];case"bottom":return[-i/2,-t/2-n];case"bottom-right":return[-i-n,-t-n];case"left":return[n+t/2,r/2]}}function E8(e,t,n,i,r){let o=i+n*2,a=r+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function NS(e,t){let n={},i=this.format;i=FS(i,e,"x"),i=FS(i,e,"y"),this.format=i;for(let r in i){let o=i[r];if(!(o===null||o===!1))if(r==="fx"||r==="fy")n[r]=!0;else{let a=S0(e,r);a&&(n[r]=a)}}for(let r in e){if(r in n||r in i||S8.has(r))continue;let o=S0(e,r);o&&(n[r]=o)}this.facet&&(t.fx&&!("fx"in i)&&(n.fx=!0),t.fy&&!("fy"in i)&&(n.fy=!0));for(let r in n){let o=this.format[r];if(typeof o=="string"){let a=n[r]?.value??t[r]?.domain()??[];this.format[r]=(ut(a)?ai:_n)(o)}else if(o===void 0||o===!0){let a=t[r];this.format[r]=a?.bandwidth?nl(a,a.domain()):$i}}return n}function FS(e,t,n){if(!(n in e))return e;let i=`${n}1`,r=`${n}2`;if((i in e||!(i in t))&&(r in e||!(r in t)))return e;let o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([s])=>s===n)+1,0,[i,a],[r,a]),Object.fromEntries(o)}function T8(e,t,{title:n}){return this.format.title(n.value[e],e)}function*A8(e,t,n,i,r){for(let o in n){if(o==="fx"||o==="fy"){yield{label:ch(i,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;let a=n[o];if(o==="x2"&&"x1"in n)yield{label:PS(i,n,"x"),value:LS(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:PS(i,n,"y"),value:LS(this.format.y2,n.y1,a,e)};else{let s=a.value[e],c=a.scale;if(!$n(s)&&c==null)continue;yield{label:ch(i,n,o),value:this.format[o](s,e),color:c==="color"?r[o][e]:null,opacity:c==="opacity"?r[o][e]:null}}}}function LS(e,t,n,i){return n.hint?.length?`${e(n.value[i]-t.value[i],i)}`:`${e(t.value[i],i)}\u2013${e(n.value[i],i)}`}function PS(e,t,n){let i=ch(e,t,`${n}1`,n),r=ch(e,t,`${n}2`,n);return i===r?i:`${i}\u2013${r}`}function ch(e,t,n,i=n){let r=t[n],o=e[r?.scale??n];return String(o?.label??r?.label??i)}function rl(e={}){let{facet:t,style:n,title:i,subtitle:r,caption:o,ariaLabel:a,ariaDescription:s}=e,c=Fa(e.className),l=e.marks===void 0?[]:US(e.marks);l.push(...L8(l));let u=N8(t,e),f=new Map;for(let N of l){let j=zS(N,u,e);j&&f.set(N,j)}let d=new Map;u&&il(d,[u],e),il(d,f,e);let h=US(P8(l,d,e));for(let N of h){let j=zS(N,u,e);j&&f.set(N,j)}l.unshift(...h);let m=hM(d,e);if(m!==void 0){let N=u?Zf(m,u):void 0;for(let B of l){if(B.facet===null||B.facet==="super")continue;let H=f.get(B);H!==void 0&&(H.facetsIndex=B.fx!=null||B.fy!=null?Zf(m,H):N)}let j=new Set;for(let{facetsIndex:B}of f.values())B?.forEach((H,Q)=>{H?.length>0&&j.add(Q)});m.forEach(0<j.size&&j.size<m.length?(B,H)=>B.empty=!j.has(H):B=>B.empty=!1);for(let B of l)if(B.facet==="exclude"){let H=f.get(B);H!==void 0&&(H.facetsIndex=gM(H.facetsIndex))}}for(let N of Ie.keys())ya(e[N])&&N!=="fx"&&N!=="fy"&&d.set(N,[]);let p=new Map;for(let N of l){if(p.has(N))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:j,channels:B}=f.get(N)??{},{data:H,facets:Q,channels:ae}=N.initialize(j,B,e);yb(ae,e),p.set(N,{data:H,facets:Q,channels:ae})}let g=Kc(il(d,p,e),e),_=AM(g,l,e);sM(g,_);let y=F0(g),{fx:w,fy:b}=y,M=w||b?L0(g,_):_,x=w||b?H8(y,_):_,S=Na(e),T=S.document,A=yi("svg").call(T.documentElement),R=A;S.ownerSVGElement=A,S.className=c,S.projection=_M(e,M),S.filterFacets=(N,j)=>Zf(m,{channels:j,groups:Yf(N,j)}),S.getMarkState=N=>{let j=p.get(N),B=f.get(N);return D(v({},j),{channels:v(v({},j.channels),B?.channels)})},S.dispatchValue=N=>{R.value!==N&&(R.value=N,R.dispatchEvent(new Event("input",{bubbles:!0})))};let k=new Set;for(let[N,j]of p)if(N.initializer!=null){let B=N.facet==="super"?x:M,H=N.initializer(j.data,j.facets,j.channels,y,B,S);if(H.data!==void 0&&(j.data=H.data),H.facets!==void 0&&(j.facets=H.facets),H.channels!==void 0){let te=H.channels,{fx:Q,fy:ae}=te,se=U(te,["fx","fy"]);O8(se),Object.assign(j.channels,se);for(let Re of Object.values(se)){let{scale:I}=Re;I!=null&&!tC(Ie.get(I))&&(HS(Re,e),k.add(I))}(Q!=null||ae!=null)&&f.set(N,!0)}}if(k.size){let N=new Map;il(N,p,e,Q=>k.has(Q)),il(d,p,e,Q=>k.has(Q));let j=B8(Kc(N,e),g),fe=F0(j),{scales:B}=fe,H=U(fe,["scales"]);Object.assign(g,j),Object.assign(y,H),Object.assign(y.scales,B)}let L,F;m!==void 0&&(L={x:w?.domain(),y:b?.domain()},m=mM(m,L),F=pM(w,b,_));for(let[N,j]of p)j.values=N.scale(j.channels,y,S);let{width:P,height:C}=_;xi(A).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",C).attr("viewBox",`0 0 ${P} ${C}`).attr("aria-label",a).attr("aria-description",s).call(N=>N.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(La,n);for(let N of l){let{channels:j,values:B,facets:H}=p.get(N);if(m===void 0||N.facet==="super"){let Q=null;if(H&&(Q=H[0],Q=N.filter(Q,j,B),Q.length===0))continue;let ae=N.render(Q,y,B,x,S);if(ae==null)continue;A.appendChild(ae)}else{let Q;for(let ae of m){if(!(N.facetAnchor?.(m,L,ae)??!ae.empty))continue;let se=null;if(H){let I=f.has(N);if(se=H[I?ae.i:0],se=N.filter(se,j,B),se.length===0)continue;!I&&se===H[0]&&(se=jw(se)),se.fx=ae.x,se.fy=ae.y,se.fi=ae.i}let Re=N.render(se,y,B,M,S);if(Re!=null){(Q??=xi(A).append("g")).append(()=>Re).datum(ae);for(let I of["aria-label","aria-description","aria-hidden","transform"])Re.hasAttribute(I)&&(Q.attr(I,Re.getAttribute(I)),Re.removeAttribute(I))}}Q?.selectChildren().attr("transform",F)}}let $=RS(g,S,e),{figure:oe=i!=null||r!=null||o!=null||$.length>0}=e;oe&&(R=T.createElement("figure"),R.className=`${c}-figure`,R.style.maxWidth="initial",i!=null&&R.append($S(T,i,"h2")),r!=null&&R.append($S(T,r,"h3")),R.append(...$,A),o!=null&&R.append(D8(T,o)),"value"in A&&(R.value=A.value,delete A.value)),R.scale=dM(y.scales),R.legend=TS(g,S,e);let ie=jC();return ie>0&&xi(A).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${ie.toLocaleString("en-US")} warning${ie===1?"":"s"}. Please check the console.`),R}function $S(e,t,n){if(t.ownerDocument)return t;let i=e.createElement(n);return i.append(t),i}function D8(e,t){let n=e.createElement("figcaption");return n.append(t),n}function US(e){return e.flat(1/0).filter(t=>t!=null).map(R8)}function R8(e){return typeof e.render=="function"?e:new vb(e)}var vb=class extends We{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}};function yb(e,t){for(let n in e)HS(e[n],t);return e}function HS(e,t){let{scale:n,transform:i=!0}=e;if(n==null||!i)return;let{type:r,percent:o,interval:a,transform:s=o?c=>c==null?NaN:c*100:p0(a,r)}=t[n]??{};s!=null&&(e.value=Ne(e.value,s),e.transform=!1)}function O8(e){for(let t in e)M0(t,e[t])}function il(e,t,n,i=Fw){for(let{channels:r}of t.values())for(let o in r){let a=r[o],{scale:s}=a;if(s!=null&&i(s))if(s==="projection"){if(!MM(n)){let c=n.x?.domain===void 0,l=n.y?.domain===void 0;if(c||l){let[u,f]=kM(a);c&&bb(e,"x",u),l&&bb(e,"y",f)}}}else bb(e,s,a)}return e}function bb(e,t,n){let i=e.get(t);i!==void 0?i.push(n):e.set(t,[n])}function N8(e,t){if(e==null)return;let{x:n,y:i}=e;if(n==null&&i==null)return;let r=et(e.data);if(r==null)throw new Error("missing facet data");let o={};n!=null&&(o.fx=Ea(r,{value:n,scale:"fx"})),i!=null&&(o.fy=Ea(r,{value:i,scale:"fy"})),yb(o,t);let a=Yf(r,o);return{channels:o,groups:a,data:e.data}}function zS(e,t,n){if(e.facet===null||e.facet==="super")return;let{fx:i,fy:r}=e;if(i!=null||r!=null){let c=et(e.data??i??r);if(c===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(c===null)return;let l={};return i!=null&&(l.fx=Ea(c,{value:i,scale:"fx"})),r!=null&&(l.fy=Ea(c,{value:r,scale:"fy"})),yb(l,n),{channels:l,groups:Yf(c,l)}}if(t===void 0)return;let{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&et(e.data)?.length===s.length&&In(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function F8(e,t={}){return so(D(v({},t),{x:null,y:null}),(n,i,r,o,a,s)=>s.getMarkState(e))}function L8(e){let t=[];for(let n of e){let i=n.tip;if(i){i===!0?i={}:typeof i=="string"&&(i={pointer:i});let{pointer:r,preferredAnchor:o}=i;r=/^x$/i.test(r)?OM:/^y$/i.test(r)?W0:RM,i=r(F8(n,i)),i.title=null,o===void 0&&(i.preferredAnchor=r===W0?"left":"bottom");let a=VS(n.data,i);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function P8(e,t,n){let{projection:i,x:r={},y:o={},fx:a={},fy:s={},axis:c,grid:l,facet:u={},facet:{axis:f=c,grid:d}=u,x:{axis:h=c,grid:m=h===null?null:l}=r,y:{axis:p=c,grid:g=p===null?null:l}=o,fx:{axis:_=f,grid:y=_===null?null:d}=a,fy:{axis:w=f,grid:b=w===null?null:d}=s}=n;(i||!ya(r)&&!jS("x",e))&&(h=m=null),(i||!ya(o)&&!jS("y",e))&&(p=g=null),t.has("fx")||(_=y=null),t.has("fy")||(w=b=null),h===void 0&&(h=!dh(e,"x")),p===void 0&&(p=!dh(e,"y")),_===void 0&&(_=!dh(e,"fx")),w===void 0&&(w=!dh(e,"fy")),h===!0&&(h="bottom"),p===!0&&(p="left"),_===!0&&(_=h==="top"||h===null?"bottom":"top"),w===!0&&(w=p==="right"||p===null?"left":"right");let M=[];return uh(M,b,hS,s),lh(M,w,cS,"right","left",u,s),uh(M,y,pS,a),lh(M,_,lS,"top","bottom",u,a),uh(M,g,fS,o),lh(M,p,db,"left","right",n,o),uh(M,m,mS,r),lh(M,h,fb,"bottom","top",n,r),M}function lh(e,t,n,i,r,o,a){if(!t)return;let s=V8(t);a=$8(s?i:t,o,a);let{line:c}=a;(n===db||n===fb)&&c&&!io(c)&&e.push(OS(U8(a))),e.push(n(a)),s&&e.push(n(D(v({},a),{anchor:r,label:null})))}function uh(e,t,n,i){!t||io(t)||e.push(n(z8(t,i)))}function V8(e){return/^\s*both\s*$/i.test(e)}function $8(e,t,{line:n=t.line,ticks:i,tickSize:r,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:f,label:d=t.label,labelAnchor:h,labelArrow:m=t.labelArrow,labelOffset:p}){return{anchor:e,line:n,ticks:i,tickSize:r,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:f,label:d,labelAnchor:h,labelArrow:m,labelOffset:p}}function U8(e){let{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function z8(e,{stroke:t=Ca(e)?e:void 0,ticks:n=j8(e)?e:void 0,tickSpacing:i,ariaLabel:r,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:i,ariaLabel:r,ariaDescription:o}}function j8(e){switch(typeof e){case"number":return!0;case"string":return!Ca(e)}return Sn(e)||typeof e?.range=="function"}function dh(e,t){let n=`${t}-axis `;return e.some(i=>i.ariaLabel?.startsWith(n))}function jS(e,t){for(let n of t)for(let i in n.channels){let{scale:r}=n.channels[i];if(r===e||r==="projection")return!0}return!1}function B8(e,t){for(let n in e){let i=e[n],r=t[n];i.label===void 0&&r&&(i.label=r.label)}return e}function H8({fx:e,fy:t},n){let{marginTop:i,marginRight:r,marginBottom:o,marginLeft:a,width:s,height:c}=Wf(n),l=e&&BS(e),u=t&&BS(t);return{marginTop:t?u[0]:i,marginRight:e?s-l[1]:r,marginBottom:t?c-u[1]:o,marginLeft:e?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}function BS(e){let t=e.domain(),n=e(t[0]),i=e(t[t.length-1]);return i<n&&([n,i]=[i,n]),[n,i+e.bandwidth()]}function qS(e={}){return m0(e)?e:D(v({},e),{y:ze})}function WS(e,t){if(t.length===1)return{data:e,facets:t};let n=e.length,i=new Uint8Array(n),r=0;for(let s of t)for(let c of s)i[c]&&++r,i[c]=1;if(r===0)return{data:e,facets:t};e=ar(e);let o=e[l0]=new Uint32Array(n+r);t=t.map(s=>ar(s,Uint32Array));let a=n;i.fill(0);for(let s of t)for(let c=0,l=s.length;c<l;++c){let u=s[c];i[u]?(s[c]=a,e[a]=e[u],o[a]=u,++a):o[u]=u,i[u]=1}return{data:e,facets:t}}function q8(e={},t={}){arguments.length===1&&([e,t]=W8(e));let u=t,{x1:n,x:i=n,y:r}=u,o=U(u,["x1","x","y"]),[a,s,c,l]=Y8(i,r,"x","y",e,o);return D(v({},a),{x1:n,x:s,y1:c,y2:l,y:Hw(c,l)})}function XS(r={}){var o=r,{y:e,y1:t,y2:n}=o,i=U(o,["y","y1","y2"]);return i=Jc(i,"x"),t===void 0&&n===void 0?q8(v({y:e},i)):([t,n]=Uw(e,t,n),D(v({},i),{y1:t,y2:n}))}function W8(e){let o=e,{offset:t,order:n,reverse:i}=o,r=U(o,["offset","order","reverse"]);return[{offset:t,order:n,reverse:i},r]}var G8={length:!0};function Y8(e,t=Nw,n,i,{offset:r,order:o,reverse:a},s){if(t===null)throw new Error(`stack requires ${i}`);let c=zw(s),[l,u]=sr(e),[f,d]=wa(t),[h,m]=wa(t);return f.hint=h.hint=G8,r=X8(r),o=Q8(o,r,i),[Ia(s,(p,g,_)=>{({data:p,facets:g}=WS(p,g));let y=e==null?void 0:u(Yc(Pe(p,e),_?.[n])),w=Pe(p,t,Float64Array),b=Pe(p,c),M=o&&o(p,y,w,b),x=p.length,S=d(new Float64Array(x)),T=m(new Float64Array(x)),A=[];for(let R of g){let k=y?Array.from(mi(R,L=>y[L]).values()):[R];if(M)for(let L of k)L.sort(M);for(let L of k){let F=0,P=0;a&&L.reverse();for(let C of L){let $=w[C];$<0?F=T[C]=(S[C]=F)+$:$>0?P=T[C]=(S[C]=P)+$:T[C]=S[C]=P}}A.push(k)}return r&&r(A,S,T,b),{data:p,facets:g}}),l,f,h]}function X8(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Z8;case"center":case"silhouette":return K8;case"wiggle":return KS}throw new Error(`unknown offset: ${e}`)}}function ZS(e,t){let n=0,i=0;for(let r of e){let o=t[r];o<n&&(n=o),o>i&&(i=o)}return[n,i]}function Z8(e,t,n){for(let i of e)for(let r of i){let[o,a]=ZS(r,n);for(let s of r){let c=1/(a-o||1);t[s]=c*(t[s]-o),n[s]=c*(n[s]-o)}}}function K8(e,t,n){for(let i of e){for(let r of i){let[o,a]=ZS(r,n);for(let s of r){let c=(a+o)/2;t[s]-=c,n[s]-=c}}QS(i,t,n)}JS(e,t,n)}function KS(e,t,n,i){for(let r of e){let o=new Lt,a=0;for(let s of r){let c=-1,l=s.map(h=>Math.abs(n[h]-t[h])),u=s.map(h=>{c=i?i[h]:++c;let m=n[h]-t[h],p=o.has(c)?m-o.get(c):0;return o.set(c,m),p}),f=[0,...ql(u)];for(let h of s)t[h]+=a,n[h]+=a;let d=tn(l);d&&(a-=tn(l,(h,m)=>(u[m]/2+f[m])*h)/d)}QS(r,t,n)}JS(e,t,n)}function QS(e,t,n){let i=Pt(e,r=>Pt(r,o=>t[o]));for(let r of e)for(let o of r)t[o]-=i,n[o]-=i}function JS(e,t,n){let i=e.length;if(i===1)return;let r=e.map(s=>s.flat()),o=r.map(s=>(Pt(s,c=>t[c])+ot(s,c=>n[c]))/2),a=Pt(o);for(let s=0;s<i;s++){let c=a-o[s];for(let l of r[s])t[l]+=c,n[l]+=c}}function Q8(e,t,n){if(e===void 0&&t===KS)return GS(Rt);if(e!=null){if(typeof e=="string"){let i=e.startsWith("-"),r=i?eo:Rt;switch((i?e.slice(1):e).toLowerCase()){case"value":case n:return J8(r);case"z":return e3(r);case"sum":return t3(r);case"appearance":return n3(r);case"inside-out":return GS(r)}return YS(u0(e))}if(typeof e=="function")return(e.length===1?YS:i3)(e);if(Array.isArray(e))return r3(e);throw new Error(`invalid order: ${e}`)}}function J8(e){return(t,n,i)=>(r,o)=>e(i[r],i[o])}function e3(e){return(t,n,i,r)=>(o,a)=>e(r[o],r[a])}function t3(e){return fh(e,(t,n,i,r)=>Lo(zt(t),o=>tn(o,a=>i[a]),o=>r[o]))}function n3(e){return fh(e,(t,n,i,r)=>Lo(zt(t),o=>n[Is(o,a=>i[a])],o=>r[o]))}function GS(e){return fh(e,(t,n,i,r)=>{let o=zt(t),a=Lo(o,f=>n[Is(f,d=>i[d])],f=>r[f]),s=On(o,f=>tn(f,d=>i[d]),f=>r[f]),c=[],l=[],u=0;for(let f of a)u<0?(u+=s.get(f),c.push(f)):(u-=s.get(f),l.push(f));return l.reverse().concat(c)})}function YS(e){return t=>{let n=Pe(t,e);return(i,r)=>Rt(n[i],n[r])}}function i3(e){return t=>(n,i)=>e(t[n],t[i])}function r3(e){return fh(Rt,()=>e)}function fh(e,t){return(n,i,r,o)=>{if(!o)throw new Error("missing channel: z");let a=new Lt(t(n,i,r,o).map((s,c)=>[s,c]));return(s,c)=>e(a.get(o[s]),a.get(o[c]))}}var _b=class extends We{constructor(t,n,i={},r){super(t,n,i,r);let{inset:o=0,insetTop:a=o,insetRight:s=o,insetBottom:c=o,insetLeft:l=o,rx:u,ry:f}=i;this.insetTop=ke(a),this.insetRight=ke(s),this.insetBottom=ke(c),this.insetLeft=ke(l),this.rx=je(u,"auto"),this.ry=je(f,"auto")}render(t,n,i,r,o){let{rx:a,ry:s}=this;return Fe("svg:g",o).call(sn,this,r,o).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(cn,this).attr("x",this._x(n,i,r)).attr("width",this._width(n,i,r)).attr("y",this._y(n,i,r)).attr("height",this._height(n,i,r)).call(de,"rx",a).call(de,"ry",s).call(jn,this,i)).node()}_x(t,{x:n},{marginLeft:i}){let{insetLeft:r}=this;return n?o=>n[o]+r:i+r}_y(t,{y:n},{marginTop:i}){let{insetTop:r}=this;return n?o=>n[o]+r:i+r}_width({x:t},{x:n},{marginRight:i,marginLeft:r,width:o}){let{insetLeft:a,insetRight:s}=this,c=n&&t?t.bandwidth():o-i-r;return Math.max(0,c-a-s)}_height({y:t},{y:n},{marginTop:i,marginBottom:r,height:o}){let{insetTop:a,insetBottom:s}=this,c=n&&t?t.bandwidth():o-i-r;return Math.max(0,c-a-s)}},o3={ariaLabel:"bar"};var hh=class extends _b{constructor(t,n={}){let{x:i,y1:r,y2:o}=n;super(t,{y1:{value:r,scale:"y"},y2:{value:o,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},n,o3)}_transform(t,n,{y:i}){t.call(ln,n,{y:i},0,0)}_y({y:t},{y1:n,y2:i},{marginTop:r}){let{insetTop:o}=this;return ur(t)?r+o:a=>Math.min(n[a],i[a])+o}_height({y:t},{y1:n,y2:i},{marginTop:r,marginBottom:o,height:a}){let{insetTop:s,insetBottom:c}=this;return ur(t)?a-r-o-s-c:l=>Math.max(0,Math.abs(i[l]-n[l])-s-c)}};function xb(e,t={}){return $w(t)||(t=D(v({},t),{x:Of,y2:ze})),new hh(e,XS(eh(qS(t))))}We.prototype.plot=function(n={}){var i=n,{marks:e=[]}=i,t=U(i,["marks"]);return rl(D(v({},t),{marks:[...e,this]}))};var ek="0.5.0";var tk=["*"];var l3=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",wb=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(i=>this._trackTile(i))}_trackTile(t){let n=this._findMatchingGap(t.colspan);return this._markTilePosition(n,t),this.columnIndex=n+t.colspan,new Cb(this.rowIndex,n)}_findMatchingGap(t){t>this.tracker.length;let n=-1,i=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(n);continue}if(n=this.tracker.indexOf(0,this.columnIndex),n==-1){this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(n);continue}i=this._findGapEndIndex(n),this.columnIndex=n+1}while(i-n<t||i==0);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let n=t+1;n<this.tracker.length;n++)if(this.tracker[n]!=0)return n;return this.tracker.length}_markTilePosition(t,n){for(let i=0;i<n.colspan;i++)this.tracker[t+i]=n.rowspan}},Cb=class{constructor(t,n){this.row=t,this.col=n}},nk=new he("MAT_GRID_LIST"),Ib=(()=>{let t=class t{constructor(i,r){this._element=i,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(i){this._rowspan=Math.round(ps(i))}get colspan(){return this._colspan}set colspan(i){this._colspan=Math.round(ps(i))}_setStyle(i,r){this._element.nativeElement.style[i]=r}};t.\u0275fac=function(r){return new(r||t)(J(Ge),J(nk,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(r,o){r&2&&Yt("rowspan",o.rowspan)("colspan",o.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[yt],ngContentSelectors:tk,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(r,o){r&1&&(hn(),X(0,"div",0),mn(1),G())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var u3=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,ol=class{constructor(){this._rows=0,this._rowspan=0}init(t,n,i,r){this._gutterSize=ik(t),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,n){return`(${t}% - (${this._gutterSize} * ${n}))`}getTilePosition(t,n){return n===0?"0":uo(`(${t} + ${this._gutterSize}) * ${n}`)}getTileSize(t,n){return`(${t} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(t,n,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,n,r,o)}setColStyles(t,n,i,r){let o=this.getBaseTileSize(i,r),a=this._direction==="rtl"?"right":"left";t._setStyle(a,this.getTilePosition(o,n)),t._setStyle("width",uo(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},Mb=class extends ol{constructor(t){super(),this.fixedRowHeight=t}init(t,n,i,r){super.init(t,n,i,r),this.fixedRowHeight=ik(this.fixedRowHeight),u3.test(this.fixedRowHeight)}setRowStyles(t,n){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),t._setStyle("height",uo(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",uo(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}},Sb=class extends ol{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,n,i,r){let o=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(o,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),t._setStyle("paddingTop",uo(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",uo(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(t){let n=t.split(":");n.length,this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}},kb=class extends ol{setRowStyles(t,n){let i=100/this._rowspan,r=(this._rows-1)/this._rows,o=this.getBaseTileSize(i,r);t._setStyle("top",this.getTilePosition(o,n)),t._setStyle("height",uo(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}};function uo(e){return`calc(${e})`}function ik(e){return e.match(/([A-Za-z%]+)$/)?e:`${e}px`}var d3="fit",rk=(()=>{let t=class t{constructor(i,r){this._element=i,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(i){this._cols=Math.max(1,Math.round(ps(i)))}get gutterSize(){return this._gutter}set gutterSize(i){this._gutter=`${i??""}`}get rowHeight(){return this._rowHeight}set rowHeight(i){let r=`${i??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(i){this._tileStyler&&this._tileStyler.reset(this),i===d3?this._tileStyler=new kb:i&&i.indexOf(":")>-1?this._tileStyler=new Sb(i):this._tileStyler=new Mb(i)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new wb);let i=this._tileCoordinator,r=this._tiles.filter(a=>!a._gridList||a._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,i,this.cols,o),r.forEach((a,s)=>{let c=i.positions[s];this._tileStyler.setStyle(a,c.row,c.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(i){i&&(this._element.nativeElement.style[i[0]]=i[1])}};t.\u0275fac=function(r){return new(r||t)(J(Ge),J(Ll,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-grid-list"]],contentQueries:function(r,o,a){if(r&1&&Cr(a,Ib,5),r&2){let s;mt(s=pt())&&(o._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(r,o){r&2&&Yt("cols",o.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[jt([{provide:nk,useExisting:t}]),yt],ngContentSelectors:tk,decls:2,vars:0,template:function(r,o){r&1&&(hn(),X(0,"div"),mn(1),G())},styles:[l3],encapsulation:2,changeDetection:0});let e=t;return e})();var f3=["input"],h3=["label"],m3=["*"],p3=new he("mat-checkbox-default-options",{providedIn:"root",factory:ak});function ak(){return{color:"accent",clickAction:"check-indeterminate"}}var Ot=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(Ot||{}),g3={provide:Oo,useExisting:pr(()=>Tb),multi:!0},Eb=class{},b3=0,ok=ak(),Tb=(()=>{let t=class t{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let r=new Eb;return r.source=this,r.checked=i,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,o,a,s,c){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=s,this._options=c,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ye,this.indeterminateChange=new Ye,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Ot.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||ok,this.color=this._options.color||ok.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++b3}`}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let r=i!=this._indeterminate;this._indeterminate=i,r&&(this._indeterminate?this._transitionCheckState(Ot.Indeterminate):this._transitionCheckState(this.checked?Ot.Checked:Ot.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ot.Checked:Ot.Unchecked),this._emitChangeEvent()):!this.disabled&&i==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,r){if(this._animationMode==="NoopAnimations")return"";switch(i){case Ot.Init:if(r===Ot.Checked)return this._animationClasses.uncheckedToChecked;if(r==Ot.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ot.Unchecked:return r===Ot.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ot.Checked:return r===Ot.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ot.Indeterminate:return r===Ot.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let r=this._inputElement;r&&(r.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};t.\u0275fac=function(r){return new(r||t)(J(Ge),J(Zt),J(rt),cl("tabindex"),J(ji,8),J(p3,8))},t.\u0275cmp=ht({type:t,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(pn(f3,5),pn(h3,5),pn(To,5)),r&2){let a;mt(a=pt())&&(o._inputElement=a.first),mt(a=pt())&&(o._labelElement=a.first),mt(a=pt())&&(o.ripple=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,o){r&2&&(dl("id",o.id),Yt("tabindex",null)("aria-label",null)("aria-labelledby",null),Ha(o.color?"mat-"+o.color:"mat-accent"),Xt("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",It],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",It],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:An(i)],color:"color",checked:[2,"checked","checked",It],disabled:[2,"disabled","disabled",It],indeterminate:[2,"indeterminate","indeterminate",It]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[jt([g3,{provide:$m,useExisting:t,multi:!0}]),_r,po,yt],ngContentSelectors:m3,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let a=Eh();hn(),X(0,"div",3),we("click",function(c){return gr(a),br(o._preventBubblingFromLabel(c))}),X(1,"div",4,0)(3,"div",5),we("click",function(){return gr(a),br(o._onTouchTargetClick())}),G(),X(4,"input",6,1),we("blur",function(){return gr(a),br(o._onBlur())})("click",function(){return gr(a),br(o._onInputClick())})("change",function(c){return gr(a),br(o._onInteractionEvent(c))}),G(),Xe(6,"div",7),X(7,"div",8),Xb(),X(8,"svg",9),Xe(9,"path",10),G(),Zb(),Xe(10,"div",11),G(),Xe(11,"div",12),G(),X(12,"label",13,2),mn(14),G()()}if(r&2){let a=Th(2);Tn("labelPosition",o.labelPosition),pe(4),Xt("mdc-checkbox--selected",o.checked),Tn("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.disabled?-1:o.tabIndex),Yt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("name",o.name)("value",o.value),pe(7),Tn("matRippleTrigger",a)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),pe(),Tn("for",o.inputId)}},dependencies:[To,xy],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})();var Ab=class{survivors;occurences;goodness;constructor(t,n,i){this.survivors=t,this.occurences=n,this.goodness=i}},mh=class{resultHistogram;resultList;constructor(t){this.resultHistogram=t;let n=[];[...this.resultHistogram].filter(([i,r])=>r>0).forEach(i=>n.push(new Ab(i[0],i[1],i[0]>0?"good":"bad"))),this.resultList=n}getWinProbability(){return[...this.resultHistogram].filter(([n,i])=>n>0).reduce((n,[i,r])=>n+r,0)/Db}getMinSurvivors(){}};var ph=class{infHits=0;cavHits=0;artHits=0;constructor(){}};var Db=1e5,Rb=[[0,1,1,1,0,0],[0,2,1,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],v3=0,y3=1,_3=2,x3=3,Ob=[[1,1,1,0,0,0],[0,0,0,1,1,1],[0,0,0,0,0,0],[2,1,1,0,0,0]],w3=0,C3=1,M3=2,S3=3,Nb=[[1,1,1,0,0,0],[0,0,0,0,0,0],[0,0,0,1,1,1],[2,1,1,0,0,0]],k3=0,I3=1,E3=2,T3=3,sk=(()=>{class e{calculateBattleResult(n){let i=new Map;for(let r=0;r<Db;r++){let o=this.simulateBattle(structuredClone(n)),a=i.get(o);a===void 0?i.set(o,1):i.set(o,a+1)}return i=new Map([...i.entries()].sort((r,o)=>r[0]-o[0])),new mh(i)}simulateBattle(n){this.applyNobleKnightsDamage(n);do{let i=n.ownSoldiers,r=n.ownCavalry,o=n.ownArtillery,a=n.enemySoldiers,s=n.enemyCavalry,c=n.enemyArtillery;this.applyDamageToOwn(n,a,s,c),this.applyDamageToEnemy(n,i,r,o)}while(!(this.getTotalUnitsOwn(n)<=0||this.getTotalUnitsEnemy(n)<=0));return Math.max(this.getTotalUnitsOwn(n),0)-Math.max(this.getTotalUnitsEnemy(n),0)}applyDamageToOwn(n,i,r,o){let a=this.rollDice(n.enemyDice,n.enemyCavalryDice,n.enemyArtilleryDice,n.enemyInfantryHitBonus),s=Math.min(i,a.infHits),c=Math.min(r,a.cavHits),l=Math.min(o,a.artHits),u=s+c+l;if(n.ownSoldiers>u)n.ownSoldiers-=u;else if(u-=n.ownSoldiers,n.ownSoldiers=0,n.ownCavalry>u){n.ownCavalry-=u;return}else if(u-=n.ownCavalry,n.ownCavalry=0,n.ownArtillery>u){n.ownArtillery-=u;return}else n.ownArtillery=0}applyDamageToEnemy(n,i,r,o){let a=this.rollDice(n.ownDice,n.ownCavalryDice,n.ownArtilleryDice,n.ownInfantryHitBonus),s=Math.min(i,a.infHits),c=Math.min(r,a.cavHits),l=Math.min(o,a.artHits),u=s+c+l;if(n.enemySoldiers>u)n.enemySoldiers-=u;else if(u-=n.enemySoldiers,n.enemySoldiers=0,n.enemyCavalry>u){n.enemyCavalry-=u;return}else if(u-=n.enemyCavalry,n.enemyCavalry=0,n.enemyArtillery>u){n.enemyArtillery-=u;return}else n.enemyArtillery=0}rollDice(n,i,r,o){let a=new ph;for(let s=1;s<=n;s++){let c=Math.floor(Math.random()*6);a.infHits+=Rb[o?y3:v3][c],a.cavHits+=Rb[_3][c],a.artHits+=Rb[x3][c]}for(let s=1;s<=i;s++){let c=Math.floor(Math.random()*6);a.infHits+=Ob[o?S3:w3][c],a.cavHits+=Ob[C3][c],a.artHits+=Ob[M3][c]}for(let s=1;s<=r;s++){let c=Math.floor(Math.random()*6);a.infHits+=Nb[o?T3:k3][c],a.cavHits+=Nb[I3][c],a.artHits+=Nb[E3][c]}return a}getTotalUnitsOwn(n){return n.ownSoldiers+n.ownCavalry+n.ownArtillery}getTotalUnitsEnemy(n){return n.enemySoldiers+n.enemyCavalry+n.enemyArtillery}applyNobleKnightsDamage(n){let i=null,r=null;n.ownNobleKnights&&(i=this.rollDice(0,Math.min(Math.min(n.enemySoldiers,n.ownCavalry),5),0,!1)),n.enemyNobleKnights&&(r=this.rollDice(0,Math.min(Math.min(n.ownSoldiers,n.enemyCavalry),5),0,!1)),i!=null&&this.applyDamageToEnemy(n,0,i.cavHits,0),r!=null&&this.applyDamageToOwn(n,0,r.cavHits,0)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ck=(()=>{class e{title="tpop-battle";version=ek;config;result;_battleCalculatorService;constructor(n){this._battleCalculatorService=n,this.config=new Bl,this.result=this._battleCalculatorService.calculateBattleResult(this.config)}ngAfterViewInit(){this.calculateProbability()}calculateProbability(){this.result=this._battleCalculatorService.calculateBattleResult(this.config),this.plotGraph()}plotGraph(){let n=rl({y:{percent:!0},color:{type:"ordinal",legend:!0},marks:[xb(this.result.resultList,w0({y:"sum"},{x:"survivors",y:"occurences",fill:"goodness"})),el([0])]});document.querySelector("#battle-prob-chart").innerHTML="",document.querySelector("#battle-prob-chart").append(n)}Math=Math;static \u0275fac=function(i){return new(i||e)(J(sk))};static \u0275cmp=ht({type:e,selectors:[["app-root"]],standalone:!0,features:[yt],decls:79,vars:18,consts:[["cols","2","rowHeight","2:1"],[1,"maxwidth"],["showTickMarks","","discrete","","min","0","max","20","step","1"],["matSliderThumb","",3,"ngModelChange","valueChange","ngModel"],["showTickMarks","","discrete","","min","0","max","10","step","1"],[3,"ngModelChange","change","ngModel"],["showTickMarks","","discrete","","min","0","max","9","step","1"],["showTickMarks","","discrete","","min","0","max","6","step","1"],["colspan","2"],["id","battle-prob-chart"]],template:function(i,r){i&1&&(X(0,"main")(1,"h1"),Ce(2),G(),X(3,"mat-grid-list",0)(4,"mat-grid-tile")(5,"mat-card",1)(6,"h2"),Ce(7,"Soldiers"),G(),X(8,"mat-slider",2)(9,"mat-label"),Ce(10,"You"),G(),X(11,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownSoldiers,a)||(r.config.ownSoldiers=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(12,"mat-slider",2)(13,"mat-label"),Ce(14,"Opponent"),G(),X(15,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemySoldiers,a)||(r.config.enemySoldiers=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(16,"h2"),Ce(17,"Cavalry"),G(),X(18,"mat-slider",4)(19,"mat-label"),Ce(20,"You"),G(),X(21,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownCavalry,a)||(r.config.ownCavalry=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(22,"mat-slider",4)(23,"mat-label"),Ce(24,"Opponent"),G(),X(25,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemyCavalry,a)||(r.config.enemyCavalry=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(26,"h2"),Ce(27,"Artillery"),G(),X(28,"mat-slider",4)(29,"mat-label"),Ce(30,"You"),G(),X(31,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownArtillery,a)||(r.config.ownArtillery=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(32,"mat-slider",4)(33,"mat-label"),Ce(34,"Opponent"),G(),X(35,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemyArtillery,a)||(r.config.enemyArtillery=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()()()(),X(36,"mat-grid-tile")(37,"mat-card",1)(38,"h2"),Ce(39,"Tech"),G(),X(40,"mat-checkbox",5),vt("ngModelChange",function(a){return bt(r.config.ownInfantryHitBonus,a)||(r.config.ownInfantryHitBonus=a),a}),we("change",function(){return r.calculateProbability()}),Ce(41," Own Tercios / Line Infantry "),G(),X(42,"mat-checkbox",5),vt("ngModelChange",function(a){return bt(r.config.enemyInfantryHitBonus,a)||(r.config.enemyInfantryHitBonus=a),a}),we("change",function(){return r.calculateProbability()}),Ce(43," Opponent Tercios / Line Infantrie "),G(),X(44,"mat-checkbox",5),vt("ngModelChange",function(a){return bt(r.config.ownNobleKnights,a)||(r.config.ownNobleKnights=a),a}),we("change",function(){return r.calculateProbability()}),Ce(45," Own Noble Knights "),G(),X(46,"mat-checkbox",5),vt("ngModelChange",function(a){return bt(r.config.enemyNobleKnights,a)||(r.config.enemyNobleKnights=a),a}),we("change",function(){return r.calculateProbability()}),Ce(47," Opponent Noble Knights "),G(),X(48,"h2"),Ce(49,"Dice"),G(),X(50,"mat-slider",6)(51,"mat-label"),Ce(52,"Your Infrantry Dice"),G(),X(53,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownDice,a)||(r.config.ownDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(54,"mat-slider",7)(55,"mat-label"),Ce(56,"Your Cavalry Dice"),G(),X(57,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownCavalryDice,a)||(r.config.ownCavalryDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(58,"mat-slider",7)(59,"mat-label"),Ce(60,"Your Artillery Dice"),G(),X(61,"input",3),vt("ngModelChange",function(a){return bt(r.config.ownArtilleryDice,a)||(r.config.ownArtilleryDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(62,"mat-slider",6)(63,"mat-label"),Ce(64,"Opponent Infantry Dice"),G(),X(65,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemyDice,a)||(r.config.enemyDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(66,"mat-slider",7)(67,"mat-label"),Ce(68,"Opponent Cavalry Dice"),G(),X(69,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemyCavalryDice,a)||(r.config.enemyCavalryDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()(),X(70,"mat-slider",7)(71,"mat-label"),Ce(72,"Opponent Artillery Dice"),G(),X(73,"input",3),vt("ngModelChange",function(a){return bt(r.config.enemyArtilleryDice,a)||(r.config.enemyArtilleryDice=a),a}),we("valueChange",function(){return r.calculateProbability()}),G()()()(),X(74,"mat-grid-tile",8)(75,"p"),Ce(76),G(),Xe(77,"div",9),G()()(),Xe(78,"router-outlet")),i&2&&(pe(2),fl("TPOP Battle simulator ",r.version,""),pe(9),gt("ngModel",r.config.ownSoldiers),pe(4),gt("ngModel",r.config.enemySoldiers),pe(6),gt("ngModel",r.config.ownCavalry),pe(4),gt("ngModel",r.config.enemyCavalry),pe(6),gt("ngModel",r.config.ownArtillery),pe(4),gt("ngModel",r.config.enemyArtillery),pe(5),gt("ngModel",r.config.ownInfantryHitBonus),pe(2),gt("ngModel",r.config.enemyInfantryHitBonus),pe(2),gt("ngModel",r.config.ownNobleKnights),pe(2),gt("ngModel",r.config.enemyNobleKnights),pe(7),gt("ngModel",r.config.ownDice),pe(4),gt("ngModel",r.config.ownCavalryDice),pe(4),gt("ngModel",r.config.ownArtilleryDice),pe(4),gt("ngModel",r.config.enemyDice),pe(4),gt("ngModel",r.config.enemyCavalryDice),pe(4),gt("ngModel",r.config.enemyArtilleryDice),pe(3),fl("Win probability ",r.Math.round(r.result.getWinProbability()*1e3)/10," % "))},dependencies:[_m,wy,Hy,Bm,zy,zl,Vy,zm,qy,rk,Ib,Tb],styles:[".maxwidth[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:100%}h2[_ngcontent-%COMP%]{font-size:80%}mat-card[_ngcontent-%COMP%]{padding:1rem}"]})}return e})();Sv(ck,dy).catch(e=>console.error(e));
